

var Profiles;
(function (Profiles) {
    function createProfilesSubNavBars(namespace, projectId) {
        return Developer.activateCurrent([
            {
                href: UrlHelpers.join(HawtioCore.documentBase(), '/workspaces', namespace, 'projects', projectId, 'profiles'),
                label: 'Profiles',
                title: 'Profiles'
            },
            {
                href: UrlHelpers.join(HawtioCore.documentBase(), '/workspaces', namespace, 'projects', projectId, 'profiles', 'containers'),
                label: 'Containers',
                title: 'Containers',
                isActive: function (item, path) { return _.startsWith(path, item.href); }
            },
            {
                href: UrlHelpers.join(HawtioCore.documentBase(), '/workspaces', namespace, 'projects', projectId, 'profiles', 'settings'),
                label: 'Settings',
                title: 'Settings'
            }
        ]);
    }
    Profiles.createProfilesSubNavBars = createProfilesSubNavBars;
    function parseProperties(content) {
        return content.split('\n').reduce(function (properties, line) {
            var property = /^([^#=]+)=(.*)$/.exec(line.trim());
            if (property) {
                properties[property[1].trim()] = property[2].trim();
            }
            return properties;
        }, {});
    }
    Profiles.parseProperties = parseProperties;
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    Profiles.pluginName = 'profiles';
    Profiles.log = Logger.get(Profiles.pluginName);
    Profiles.templatePath = 'plugins/' + Profiles.pluginName + '/html/';
    Profiles.module = angular.module(Profiles.pluginName, ['hawtio-core', 'hawtio-ui', 'hawtio-forms', 'blockUI', 'ui.select', 'ngSanitize']);
    Profiles.module.config(['$routeProvider', 'blockUIConfig', function ($routeProvider, blockUIConfig) {
            blockUIConfig.autoBlock = false;
            blockUIConfig.delay = 0;
            var join = UrlHelpers.join;
            var route = Developer.createTabRoutingFunction(Profiles.templatePath);
            var base = '/workspaces/:namespace/projects/:projectId/profiles';
            Developer.customProjectSubTabFactories.push(function (context) {
                if (context.$scope) {
                    Forge.updateForgeProject(context.$scope);
                }
                return [{
                        isValid: function () { return context.projectLink && Developer.forgeReadyLink() && Forge.forgeProject().hasPerspective('fabric8-profiles'); },
                        href: join(context.projectLink, 'profiles'),
                        class: 'fa fa-code-fork',
                        label: 'Profiles',
                        title: 'Browse the profiles of this project',
                        isActive: function (subTab, path) { return _.startsWith(path, join(context.projectLink, 'profiles')); }
                    }];
            });
            $routeProvider
                .when(base, route('profiles.html', false))
                .when(join(base, 'containers', 'assignProfiles'), route('assignProfiles.html', false))
                .when(join(base, 'containers', 'deployProfiles'), route('deployProfiles.html', false))
                .when(join(base, 'containers'), route('containers.html', false))
                .when(join(base, 'settings'), route('settings.html', false));
        }]);
    Profiles.module.directive('templateCacheInclude', ['$compile', '$templateCache', function ($compile, $templateCache) { return ({
            restrict: 'A',
            priority: 400,
            compile: function (element, attrs) {
                var templateName = attrs.templateCacheInclude;
                var template = $templateCache.get(templateName);
                return function (scope, element) {
                    element.html(template);
                    $compile(element.contents())(scope);
                };
            }
        }); }
    ]);
    hawtioPluginLoader.addModule(Profiles.pluginName);
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    Profiles.module.controller('Profiles.AssignProfilesController', ['$scope', '$location', '$templateCache', 'profiles', 'containers', 'blockUI', function ($scope, $location, $templateCache, profiles, containers, blockUI) {
            $scope.tabs = Profiles.createProfilesSubNavBars($scope.namespace, $scope.projectId);
            Forge.updateForgeProject($scope);
            $scope.gitRestUrl = function (path) { return Wiki.gitRestURL($scope, path); };
            $scope.profiles = profiles;
            $scope.containers = containers;
            $scope.selectable = true;
            $scope.profileGroups = function (profile) { return profile.tags.length > 0 ? profile.tags[0] : ''; };
            var saving = 0;
            $scope.saving = function () { return saving > 0; };
            var blockTable = blockUI.instances.get('blockTable');
            $scope.assignProfiles = function () {
                var wiki = new Wiki.GitWikiRepository($scope);
                var success = function (response) {
                    Wiki.onComplete(response);
                    Core.notification('success', response.file + ' saved!');
                    complete();
                };
                var failure = function (response) {
                    Core.notification('error', response);
                    complete();
                };
                var complete = function () {
                    if (--saving === 0) {
                        blockTable.message('Refreshing ...');
                        containers.load(wiki, $scope.branch).then(function () {
                            blockTable.stop();
                            $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers'));
                        });
                    }
                };
                blockTable.start("Saving ...");
                containers.cart.forEach(function (container) {
                    saving++;
                    wiki.putPage($scope.branch, container.path, assignProfiles(container, profiles.cart), 'Assign profiles', success, failure);
                });
            };
            var assignProfiles = function (container, profiles) {
                return container.text.replace(/^(profiles)=(.*)$/m, function (match, key, value) { return key + '=' + profiles.map(function (profile) { return profile.id; }).join(' '); });
            };
            $scope.refreshContainers = function () { return containers.load(new Wiki.GitWikiRepository($scope), $scope.branch); };
            $scope.refreshProfiles = function () {
                if (!profiles.loading) {
                    profiles.load(new Wiki.GitWikiRepository($scope), $scope.branch);
                }
            };
            if (!(containers.loaded || containers.loading)) {
                $scope.refreshContainers();
            }
        }]);
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    Profiles.module.controller('Profiles.ContainerListController', ['$scope', '$location', '$templateCache', 'profiles', 'containers', 'KubernetesModel',
        function ($scope, $location, $templateCache, profiles, containers, kubernetes) {
            $scope.viewProfile = function (profile) { return $location.path(Wiki.viewLink($scope.projectId, $scope.branch, profile.path, $location)); };
            $scope.profiles = profiles;
            $scope.containers = containers;
            $scope.tableConfig = {
                data: 'containers.data',
                showSelectionCheckbox: $scope.selectable || false,
                enableRowClickSelection: $scope.selectable || false,
                multiSelect: true,
                selectedItems: $scope.selectable ? containers.cart : [],
                filterOptions: {
                    filterText: $location.search()['q'] || ''
                },
                columnDefs: [
                    { field: 'name',
                        displayName: 'Name',
                        cellTemplate: $templateCache.get('containerName.html')
                    },
                    { field: 'pods',
                        displayName: 'Pods',
                        cellTemplate: $templateCache.get('containerPods.html')
                    },
                    { field: 'types',
                        displayName: 'Types',
                        cellTemplate: $templateCache.get('containerTypes.html')
                    },
                    { field: 'profiles',
                        displayName: 'Profiles',
                        cellTemplate: $templateCache.get('containerProfiles.html')
                    }
                ]
            };
            $scope.$watchCollection('profiles.data', function (profiles) {
                return containers.data.forEach(function (container) {
                    return profiles.forEach(function (profile) {
                        var i = _.indexOf(container.profiles, profile.id);
                        if (i >= 0) {
                            container.profiles[i] = profile;
                        }
                    });
                });
            });
            $scope.$watch('containers.cart', function (containers) {
                $scope.tableConfig.selectedItems = containers;
                $scope.$broadcast('hawtio.datatable.containers.data');
            });
            $scope.$on('kubernetesModelUpdated', function () {
                return _.filter(containers.data, function (container) { return !container.deployment; })
                    .forEach(function (container) { return container.deployment = kubernetes.getDeployment($scope.namespace || Kubernetes.currentKubernetesNamespace(), container.name); });
            });
            if (!(containers.loaded || containers.loading)) {
                $scope.refresh();
            }
        }]);
    Profiles.module.filter('kubernetesPageLink', function () { return function (entity, path1, path2) { return UrlHelpers.join(Kubernetes.entityPageLink(entity), path1, path2); }; });
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    var icons = {
        camel: 'camel',
        jenkinsfile: 'jenkins',
        karaf: 'karaf'
    };
    var Containers = (function () {
        function Containers(profiles, kubernetes, $q) {
            var _this = this;
            this.loaded = false;
            this.loading = false;
            this.requests = 0;
            this.data = [];
            this.cart = [];
            this.load = function (wiki, branch, namespace) {
                _this.loading = true;
                _this.requests++;
                var data = [];
                var deferred = _this.$q.defer();
                wiki.getPage(branch, 'configs/containers', null, function (page) {
                    _.forEach(page.children, function (child) {
                        if (!child.directory && _.endsWith(child.name, '.cfg')) {
                            _this.requests++;
                            wiki.getPage(branch, child.path, null, function (page) {
                                var properties = Profiles.parseProperties(page.text);
                                var name = page.name.replace(/.cfg$/, '');
                                var container = {
                                    name: name,
                                    path: page.path,
                                    text: page.text,
                                    deployment: _this.kubernetes.getDeployment(namespace || Kubernetes.currentKubernetesNamespace(), name),
                                    profiles: _.map(properties['profiles'].split(' '), function (profile) { return _.find(_this.profiles.data, { id: profile }) || profile; }),
                                    types: properties['container-type'].split(' '),
                                    icons: properties['container-type'].split(' ').map(function (type) { return {
                                        title: type,
                                        type: 'img',
                                        src: 'img/icons/' + (type.toLowerCase() in icons ? icons[type.toLowerCase()] : 'java') + '.svg'
                                    }; })
                                };
                                if (container.deployment) {
                                    container.icons.push({
                                        type: 'img',
                                        src: container.deployment.$iconUrl
                                    });
                                }
                                data.push(container);
                                _this.complete(data);
                            });
                        }
                    });
                    _this.complete(data);
                    deferred.resolve();
                });
                return deferred.promise;
            };
            this.complete = function (data) {
                if (--_this.requests === 0) {
                    _this.data.length = 0;
                    (_a = _this.data).push.apply(_a, data);
                    _this.loading = false;
                    _this.loaded = true;
                }
                var _a;
            };
            this.profiles = profiles;
            this.kubernetes = kubernetes;
            this.$q = $q;
        }
        return Containers;
    }());
    Profiles.Containers = Containers;
    Profiles.module.service('containers', ['profiles', 'KubernetesModel', '$q', Containers]);
    Profiles.module.controller('Profiles.ContainersController', ['$scope', '$location', 'containers', 'blockUI',
        function ($scope, $location, containers, blockUI) {
            $scope.tabs = Profiles.createProfilesSubNavBars($scope.namespace, $scope.projectId);
            Forge.updateForgeProject($scope);
            $scope.containers = containers;
            $scope.selectable = true;
            var saving = 0;
            $scope.saving = function () { return saving > 0; };
            var blockTable = blockUI.instances.get('blockTable');
            $scope.createContainers = function () { return $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers', 'deployProfiles')); };
            $scope.assignProfiles = function () { return $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers', 'assignProfiles')); };
            $scope.deleteContainers = function () {
                var wiki = new Wiki.GitWikiRepository($scope);
                var success = function (response, container) {
                    Wiki.onComplete(response);
                    Core.notification('success', container + ' deleted!');
                    complete();
                };
                var failure = function (response) {
                    Core.notification('error', response);
                    complete();
                };
                var complete = function () {
                    if (--saving === 0) {
                        blockTable.message('Refreshing ...');
                        containers.load(wiki, $scope.branch).then(function () {
                            blockTable.stop();
                            $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers'));
                        });
                    }
                };
                blockTable.start("Saving ...");
                containers.cart.forEach(function (container) {
                    saving++;
                    wiki.removePage($scope.branch, container.path, 'Delete container', function (response) { return success(response, container.name); });
                });
            };
            $scope.refresh = function () { return containers.load(new Wiki.GitWikiRepository($scope), $scope.branch, $scope.namespace); };
        }]);
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    Profiles.module.controller('Profiles.DeployProfilesController', ['$scope', '$location', '$templateCache', 'profiles', 'containers', 'blockUI', function ($scope, $location, $templateCache, profiles, containers, blockUI) {
            $scope.tabs = Profiles.createProfilesSubNavBars($scope.namespace, $scope.projectId);
            Forge.updateForgeProject($scope);
            $scope.gitRestUrl = function (path) { return Wiki.gitRestURL($scope, path); };
            $scope.profiles = profiles;
            $scope.containers = containers;
            $scope.select = {
                names: []
            };
            $scope.selectable = false;
            $scope.profileGroups = function (profile) { return profile.tags.length > 0 ? profile.tags[0] : ''; };
            var saving = 0;
            $scope.saving = function () { return saving > 0; };
            var blockTable = blockUI.instances.get('blockTable');
            $scope.deployProfiles = function () {
                var wiki = new Wiki.GitWikiRepository($scope);
                var success = function (response) {
                    Wiki.onComplete(response);
                    Core.notification('success', response.file + ' saved!');
                    complete();
                };
                var failure = function (response) {
                    Core.notification('error', response);
                    complete();
                };
                var complete = function () {
                    if (--saving === 0) {
                        blockTable.message('Refreshing ...');
                        containers.load(wiki, $scope.branch).then(function () {
                            blockTable.stop();
                            $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers'));
                        });
                    }
                };
                blockTable.start("Saving ...");
                saving++;
                $scope.select.names.forEach(function (name) {
                    return wiki.putPage($scope.branch, 'configs/containers/' + name + '.cfg', deployProfiles(name, profiles.cart), 'Deploy profiles into ' + name, success, failure);
                });
            };
            var deployProfiles = function (container, profiles) {
                return profiles.reduce(function (profiles, profile) { return profiles + profile.id + ' '; }, 'profiles=')
                    .concat('\n')
                    .concat('container-type=karaf jenkinsfile');
            };
            $scope.existingContainers = function (names) { return _.intersection(names, _.pluck(containers.data, 'name')); };
            $scope.refreshContainers = function () { return containers.load(new Wiki.GitWikiRepository($scope), $scope.branch); };
            $scope.refreshProfiles = function () {
                if (!profiles.loading) {
                    profiles.load(new Wiki.GitWikiRepository($scope), $scope.branch);
                }
            };
            if (!(containers.loaded || containers.loading)) {
                $scope.refreshContainers();
            }
        }]);
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles_1) {
    var Profiles = (function () {
        function Profiles() {
            var _this = this;
            this.loaded = false;
            this.loading = false;
            this.data = [];
            this.cart = [];
            this.requests = 0;
            this.load = function (wiki, branch, path) {
                if (path === void 0) { path = 'profiles'; }
                _this.loading = true;
                _this.data.length = 0;
                _this.requests = 0;
                _this.findProfiles(wiki, branch, path);
            };
            this.findProfiles = function (wiki, branch, path) {
                _this.requests++;
                wiki.getPage(branch, path, null, function (data) {
                    if (data.children) {
                        _.forEach(data.children, function (value) {
                            if (value.directory && _.endsWith(value.name, '.profile')) {
                                _this.loadProfile(wiki, branch, value);
                            }
                            else if (value.directory) {
                                _this.findProfiles(wiki, branch, value.path);
                            }
                        });
                    }
                    _this.complete();
                });
            };
            this.loadProfile = function (wiki, branch, value) {
                var info = /^profiles\/((?:.+)\/)*(.+).profile$/.exec(value.path);
                var profile = {
                    id: (info[1] ? info[1].replace(/\//g, '-') : '') + info[2],
                    name: info[2],
                    path: value.path,
                    tags: info[1] ? info[1].slice(0, -1).split('/') : []
                };
                _this.requests++;
                wiki.getPage(branch, value.path, null, function (data) {
                    for (var _i = 0, _a = data.children; _i < _a.length; _i++) {
                        var child = _a[_i];
                        var name_1 = child.name.toUpperCase();
                        if (name_1 == 'README.MD' || name_1 == 'SUMMARY.MD') {
                            profile.summaryUrl = child.path;
                        }
                        else if (name_1 == 'ICON.SVG') {
                            profile.iconUrl = child.path;
                        }
                    }
                    _this.data.splice(_.sortedIndex(_this.data, profile, 'id'), 0, profile);
                    var i = _.findIndex(_this.cart, { id: profile.id });
                    if (i >= 0) {
                        _this.cart[i] = profile;
                    }
                    _this.complete();
                });
            };
            this.complete = function () {
                if (--_this.requests === 0) {
                    SelectionHelpers.syncGroupSelection(_this.cart, _this.data, 'id');
                    _this.loading = false;
                    _this.loaded = true;
                }
            };
        }
        return Profiles;
    }());
    Profiles_1.Profiles = Profiles;
    var ProfileView = (function () {
        function ProfileView(scope) {
            this.scope = scope;
        }
        Object.defineProperty(ProfileView.prototype, "openOrSingle", {
            get: function () {
                var scope = this.scope;
                if (scope.filteredProfiles.length === 1) {
                    if (!this.force && (!scope.loading() || scope.profiles.length > 1)) {
                        return true;
                    }
                }
                else {
                    this.force = false;
                }
                return this.open;
            },
            set: function (open) {
                if (this.scope.filteredProfiles.length === 1) {
                    this.force = true;
                }
                this.open = open;
            },
            enumerable: true,
            configurable: true
        });
        return ProfileView;
    }());
    var ProfileViews = (function () {
        function ProfileViews() {
            this.selectedTags = [];
            this.profileViews = {};
        }
        return ProfileViews;
    }());
    Profiles_1.module.service('profiles', Profiles);
    Profiles_1.module.service('profileViews', ProfileViews);
    Profiles_1.module.constant('jsyaml', jsyaml);
    Profiles_1.module.filter('filterCollection', function () { return function (collection, text) {
        return Core.isBlank(text)
            ? collection
            : _.filter(collection, function (item) { return FilterHelpers.searchObject(item, text); });
    }; });
    Profiles_1.module.controller('Profiles.ProfilesController', ['$scope', '$location', 'marked', '$sce', 'profiles', 'profileViews',
        function ($scope, $location, marked, $sce, profiles, profileViews) {
            $scope.tabs = Profiles_1.createProfilesSubNavBars($scope.namespace, $scope.projectId);
            Forge.updateForgeProject($scope);
            $scope.gitRestUrl = function (path) { return Wiki.gitRestURL($scope, path); };
            $scope.profiles = profiles.data;
            $scope.selection = profiles.cart;
            $scope.selectedTags = profileViews.selectedTags;
            $scope.profileViews = profileViews.profileViews;
            SelectionHelpers.decorate($scope);
            $scope.isBlank = Core.isBlank;
            $scope.loading = function () { return profiles.loading; };
            $scope.wikiLink = function (path) { return Wiki.viewLink($scope.projectId, $scope.branch, path, $location); };
            var wiki = new Wiki.GitWikiRepository($scope);
            $scope.loadSummary = function (profile) {
                if (profile.summaryUrl) {
                    var renderer_1 = new marked.Renderer();
                    renderer_1.image = function (href, title, text) {
                        var uri = new URI(href);
                        if (uri.is('relative')) {
                            if (_.startsWith(uri.path(), '/')) {
                                uri.segment(['profiles'].concat(uri.segment()));
                            }
                            else {
                                uri = uri.absoluteTo(UrlHelpers.join(profile.path, '/'));
                            }
                            var src = Wiki.gitRestURL($scope, uri.normalize().toString());
                            return '<img src="img/loader.svg" http-src="' + src + '" alt="' + (title ? title : text) + '" />';
                        }
                        else {
                            return '<img src="' + href + '" alt="' + (title ? title : text) + '" />';
                        }
                    };
                    wiki.getPage($scope.branch, profile.summaryUrl, null, function (data) { return profile.summary = marked(data.text, { renderer: renderer_1 }); });
                }
                else {
                    profile.summary = '<em>no summary</em>';
                }
            };
            $scope.assignProfiles = function () { return $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers', 'assignProfiles')); };
            $scope.deployProfiles = function () { return $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers', 'deployProfiles')); };
            var updateProfileViews = function (profiles) { return _.reduce(profiles, function (profileViews, profile) {
                if (!_.has(profileViews, profile.id)) {
                    profileViews[profile.id] = new ProfileView($scope);
                }
                else {
                    profileViews[profile.id].scope = $scope;
                }
                return profileViews;
            }, $scope.profileViews); };
            _.keys($scope.profileViews).forEach(function (key) { return delete $scope.profileViews[key]; });
            $scope.$watchCollection('profiles', updateProfileViews);
            $scope.refresh = function () { return profiles.load(wiki, $scope.branch); };
            if (!(profiles.loaded || profiles.loading)) {
                $scope.refresh();
            }
        }]);
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    Profiles.module.controller('Profiles.SettingsController', ['$scope', 'jsyaml', function ($scope, yaml) {
            $scope.tabs = Profiles.createProfilesSubNavBars($scope.namespace, $scope.projectId);
            Forge.updateForgeProject($scope);
            var wikiRepository = new Wiki.GitWikiRepository($scope);
            $scope.loading = 0;
            $scope.config = {
                style: HawtioForms.FormStyle.STANDARD,
                mode: HawtioForms.FormMode.VIEW,
                properties: {
                    'git.gitRemoteUriPattern': {
                        type: 'string',
                        description: 'Git remote URI pattern for all containers, name is the name of the container, e.g. root'
                    },
                    'git.gogsUsername': {
                        type: 'string'
                    },
                    'git.gogsPassword': {
                        type: 'password'
                    },
                    'maven.groupId': {
                        type: 'string'
                    },
                    'maven.version': {
                        type: 'string'
                    }
                }
            };
            $scope.refresh = function () {
                $scope.loading++;
                wikiRepository.getPage($scope.branch, 'fabric8-profiles.yaml', null, function (data) {
                    $scope.loading--;
                    $scope.settings = data.text;
                    $scope.properties = yaml.safeLoad(data.text);
                });
            };
            $scope.$watch('loading', function (value) { return $scope.config.mode = value > 0
                ? HawtioForms.FormMode.VIEW
                : HawtioForms.FormMode.EDIT; });
            $scope.save = function () {
                var edit = yaml.safeDump($scope.properties);
                if (edit != $scope.settings) {
                    $scope.loading++;
                    wikiRepository.putPage($scope.branch, 'fabric8-profiles.yaml', edit, 'Update profiles settings', function (response) {
                        Wiki.onComplete(response);
                        Core.notification('success', response.file + ' saved!');
                        $scope.loading--;
                    }, function (response) {
                        Core.notification('error', response);
                        $scope.loading--;
                    });
                }
            };
            $scope.refresh();
        }
    ]);
})(Profiles || (Profiles = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluY2x1ZGVzLmpzIiwicHJvZmlsZXMvdHMvcHJvZmlsZXNIZWxwZXJzLnRzIiwicHJvZmlsZXMvdHMvcHJvZmlsZXNQbHVnaW4udHMiLCJwcm9maWxlcy90cy9hc3NpZ25Qcm9maWxlcy50cyIsInByb2ZpbGVzL3RzL2NvbnRhaW5lckxpc3QudHMiLCJwcm9maWxlcy90cy9jb250YWluZXJzLnRzIiwicHJvZmlsZXMvdHMvZGVwbG95UHJvZmlsZXMudHMiLCJwcm9maWxlcy90cy9wcm9maWxlcy50cyIsInByb2ZpbGVzL3RzL3NldHRpbmdzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUNJQSxJQUFPLFFBQVEsQ0FnQ2Q7QUFoQ0QsV0FBTyxRQUFRLEVBQUMsQ0FBQztJQUVmLGtDQUF5QyxTQUFnQixFQUFFLFNBQWdCO1FBQ3pFLE1BQU0sQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDO1lBQy9CO2dCQUNFLElBQUksRUFBRSxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLEVBQUUsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsVUFBVSxDQUFDO2dCQUM3RyxLQUFLLEVBQUUsVUFBVTtnQkFDakIsS0FBSyxFQUFFLFVBQVU7YUFDbEI7WUFDRDtnQkFDRSxJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxFQUFFLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxZQUFZLENBQUM7Z0JBQzNILEtBQUssRUFBRSxZQUFZO2dCQUNuQixLQUFLLEVBQUUsWUFBWTtnQkFDbkIsUUFBUSxFQUFFLFVBQUMsSUFBSSxFQUFFLElBQUksSUFBSyxPQUFBLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBN0IsQ0FBNkI7YUFDeEQ7WUFDRDtnQkFDRSxJQUFJLEVBQUUsVUFB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LFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzlDLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztvQkFDNUIsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO29CQUVqQixjQUFjLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsdUJBQXVCLEVBQUUsSUFBSSxFQUFFLDBCQUEwQixFQUM3RixVQUFBLFFBQVE7d0JBQ04sSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQzt3QkFDMUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLElBQUksR0FBRyxTQUFTLENBQUMsQ0FBQzt3QkFDeEQsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO29CQUNuQixDQUFDLEVBQ0QsVUFBQSxRQUFRO3dCQUNOLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO3dCQUNyQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7b0JBQ25CLENBQUMsQ0FDRixDQUFDO2dCQUNKLENBQUM7WUFDSCxDQUFDLENBQUM7WUFFRixNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDbkIsQ0FBQztLQUNGLENBQUMsQ0FBQztBQUNMLENBQUMsRUF4RU0sUUFBUSxLQUFSLFFBQVEsUUF3RWQiLCJmaWxlIjoiY29tcGlsZWQuanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9pbmNsdWRlcy50c1wiLz5cblxuLyoqXG4gKiBAbW9kdWxlIFByb2ZpbGVzXG4gKi9cbm1vZHVsZSBQcm9maWxlcyB7XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2ZpbGVzU3ViTmF2QmFycyhuYW1lc3BhY2U6c3RyaW5nLCBwcm9qZWN0SWQ6c3RyaW5nKSB7XG4gICAgcmV0dXJuIERldmVsb3Blci5hY3RpdmF0ZUN1cnJlbnQoW1xuICAgICAge1xuICAgICAgICBocmVmOiBVcmxIZWxwZXJzLmpvaW4oSGF3dGlvQ29yZS5kb2N1bWVudEJhc2UoKSwgJy93b3Jrc3BhY2VzJywgbmFtZXNwYWNlLCAncHJvamVjdHMnLCBwcm9qZWN0SWQsICdwcm9maWxlcycpLFxuICAgICAgICBsYWJlbDogJ1Byb2ZpbGVzJyxcbiAgICAgICAgdGl0bGU6ICdQcm9maWxlcydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGhyZWY6IFVybEhlbHBlcnMuam9pbihIYXd0aW9Db3JlLmRvY3VtZW50QmFzZSgpLCAnL3dvcmtzcGFjZXMnLCBuYW1lc3BhY2UsICdwcm9qZWN0cycsIHByb2plY3RJZCwgJ3Byb2ZpbGVzJywgJ2NvbnRhaW5lcnMnKSxcbiAgICAgICAgbGFiZWw6ICdDb250YWluZXJzJyxcbiAgICAgICAgdGl0bGU6ICdDb250YWluZXJzJyxcbiAgICAgICAgaXNBY3RpdmU6IChpdGVtLCBwYXRoKSA9PiBfLnN0YXJ0c1dpdGgocGF0aCwgaXRlbS5ocmVmKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaHJlZjogVXJsSGVscGVycy5qb2luKEhhd3Rpb0NvcmUuZG9jdW1lbnRCYXNlKCksICcvd29ya3NwYWNlcycsIG5hbWVzcGFjZSwgJ3Byb2plY3RzJywgcHJvamVjdElkLCAncHJvZmlsZXMnLCAnc2V0dGluZ3MnKSxcbiAgICAgICAgbGFiZWw6ICdTZXR0aW5ncycsXG4gICAgICAgIHRpdGxlOiAnU2V0dGluZ3MnXG4gICAgICB9XG4gICAgXSk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gcGFyc2VQcm9wZXJ0aWVzKGNvbnRlbnQ6c3RyaW5nKTphbnkge1xuICAgIHJldHVybiBjb250ZW50LnNwbGl0KCdcXG4nKS5yZWR1Y2UoKHByb3BlcnRpZXMsIGxpbmUpID0+IHtcbiAgICAgIHZhciBwcm9wZXJ0eSA9IC9eKFteIz1dKyk9KC4qKSQvLmV4ZWMobGluZS50cmltKCkpO1xuICAgICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICAgIHByb3BlcnRpZXNbcHJvcGVydHlbMV0udHJpbSgpXSA9IHByb3BlcnR5WzJdLnRyaW0oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH0sIHt9KTtcbiAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzSGVscGVycy50c1wiLz5cblxuLyoqXG4gKiBAbW9kdWxlIFByb2ZpbGVzXG4gKiBAbWFpbiBQcm9maWxlc1xuICovXG5tb2R1bGUgUHJvZmlsZXMge1xuXG4gIGV4cG9ydCB2YXIgcGx1Z2luTmFtZSA9ICdwcm9maWxlcyc7XG4gIGV4cG9ydCB2YXIgbG9nOkxvZ2dpbmcuTG9nZ2VyID0gTG9nZ2VyLmdldChwbHVnaW5OYW1lKTtcbiAgZXhwb3J0IHZhciB0ZW1wbGF0ZVBhdGggPSAncGx1Z2lucy8nICsgcGx1Z2luTmFtZSArICcvaHRtbC8nO1xuXG4gIGV4cG9ydCB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUocGx1Z2luTmFtZSwgWydoYXd0aW8tY29yZScsICdoYXd0aW8tdWknLCAnaGF3dGlvLWZvcm1zJywgJ2Jsb2NrVUknLCAndWkuc2VsZWN0JywgJ25nU2FuaXRpemUnXSk7XG5cbiAgbW9kdWxlLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJ2Jsb2NrVUlDb25maWcnLCAoJHJvdXRlUHJvdmlkZXI6bmcucm91dGUuSVJvdXRlUHJvdmlkZXIsIGJsb2NrVUlDb25maWcpID0+IHtcbiAgICBibG9ja1VJQ29uZmlnLmF1dG9CbG9jayA9IGZhbHNlO1xuICAgIGJsb2NrVUlDb25maWcuZGVsYXkgPSAwO1xuXG4gICAgdmFyIGpvaW4gPSBVcmxIZWxwZXJzLmpvaW47XG4gICAgdmFyIHJvdXRlID0gRGV2ZWxvcGVyLmNyZWF0ZVRhYlJvdXRpbmdGdW5jdGlvbih0ZW1wbGF0ZVBhdGgpO1xuICAgIHZhciBiYXNlID0gJy93b3Jrc3BhY2VzLzpuYW1lc3BhY2UvcHJvamVjdHMvOnByb2plY3RJZC9wcm9maWxlcyc7XG5cbiAgICAvLyBBZGQgYSB0YWIvbGluayB0byB0aGUgcHJvZmlsZXMgdmlldyBvbiB0aGUgbGVmdC4uXG4gICAgRGV2ZWxvcGVyLmN1c3RvbVByb2plY3RTdWJUYWJGYWN0b3JpZXMucHVzaChjb250ZXh0ID0+IHtcbiAgICAgIGlmKGNvbnRleHQuJHNjb3BlKSB7XG4gICAgICAgIEZvcmdlLnVwZGF0ZUZvcmdlUHJvamVjdChjb250ZXh0LiRzY29wZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW3tcbiAgICAgICAgaXNWYWxpZDogKCkgPT4gY29udGV4dC5wcm9qZWN0TGluayAmJiBEZXZlbG9wZXIuZm9yZ2VSZWFkeUxpbmsoKSAmJiBGb3JnZS5mb3JnZVByb2plY3QoKS5oYXNQZXJzcGVjdGl2ZSgnZmFicmljOC1wcm9maWxlcycpLFxuICAgICAgICBocmVmOiBqb2luKGNvbnRleHQucHJvamVjdExpbmssICdwcm9maWxlcycpLFxuICAgICAgICBjbGFzczogJ2ZhIGZhLWNvZGUtZm9yaycsXG4gICAgICAgIGxhYmVsOiAnUHJvZmlsZXMnLFxuICAgICAgICB0aXRsZTogJ0Jyb3dzZSB0aGUgcHJvZmlsZXMgb2YgdGhpcyBwcm9qZWN0JyxcbiAgICAgICAgaXNBY3RpdmU6IChzdWJUYWIsIHBhdGgpID0+IF8uc3RhcnRzV2l0aChwYXRoLCBqb2luKGNvbnRleHQucHJvamVjdExpbmssICdwcm9maWxlcycpKVxuICAgICAgfV1cbiAgICB9KTtcblxuICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAud2hlbihiYXNlLCByb3V0ZSgncHJvZmlsZXMuaHRtbCcsIGZhbHNlKSlcbiAgICAgIC53aGVuKGpvaW4oYmFzZSwgJ2NvbnRhaW5lcnMnLCAnYXNzaWduUHJvZmlsZXMnKSwgcm91dGUoJ2Fzc2lnblByb2ZpbGVzLmh0bWwnLCBmYWxzZSkpXG4gICAgICAud2hlbihqb2luKGJhc2UsICdjb250YWluZXJzJywgJ2RlcGxveVByb2ZpbGVzJyksIHJvdXRlKCdkZXBsb3lQcm9maWxlcy5odG1sJywgZmFsc2UpKVxuICAgICAgLndoZW4oam9pbihiYXNlLCAnY29udGFpbmVycycpLCByb3V0ZSgnY29udGFpbmVycy5odG1sJywgZmFsc2UpKVxuICAgICAgLndoZW4oam9pbihiYXNlLCAnc2V0dGluZ3MnKSwgcm91dGUoJ3NldHRpbmdzLmh0bWwnLCBmYWxzZSkpO1xuICB9XSk7XG5cbiAgLy8gRGlyZWN0aXZlIHRoYXQgYXZvaWRzIHJlbmRlcmluZyBnbGl0Y2hlcyB3aGVuIHVzaW5nIG5nLWluY2x1ZGUgYW5kIGJ5cGFzc2VzIGl0cyBjb21wbGV4aXR5XG4gIC8vIGFzIHdlIHVzZSBndWxwLWFuZ3VsYXItdGVtcGxhdGVjYWNoZSB0byByZWdpc3RlciBBbmd1bGFySlMgdGVtcGxhdGVzIGluIHRoZSAkdGVtcGxhdGVDYWNoZS5cbiAgbW9kdWxlLmRpcmVjdGl2ZSgndGVtcGxhdGVDYWNoZUluY2x1ZGUnLCBbJyRjb21waWxlJywgJyR0ZW1wbGF0ZUNhY2hlJywgKCRjb21waWxlLCAkdGVtcGxhdGVDYWNoZSkgPT4gKHtcbiAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICBwcmlvcml0eTogNDAwLFxuICAgICAgY29tcGlsZTogKGVsZW1lbnQsIGF0dHJzKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZU5hbWUgPSBhdHRycy50ZW1wbGF0ZUNhY2hlSW5jbHVkZTtcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gJHRlbXBsYXRlQ2FjaGUuZ2V0KHRlbXBsYXRlTmFtZSk7XG4gICAgICAgIHJldHVybiAoc2NvcGUsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICBlbGVtZW50Lmh0bWwodGVtcGxhdGUpO1xuICAgICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pXG4gIF0pO1xuXG4gIGhhd3Rpb1BsdWdpbkxvYWRlci5hZGRNb2R1bGUocGx1Z2luTmFtZSk7XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vaW5jbHVkZXMudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwicHJvZmlsZXNQbHVnaW4udHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwicHJvZmlsZXNIZWxwZXJzLnRzXCIvPlxuXG5tb2R1bGUgUHJvZmlsZXMge1xuXG4gIG1vZHVsZS5jb250cm9sbGVyKCdQcm9maWxlcy5Bc3NpZ25Qcm9maWxlc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnJHRlbXBsYXRlQ2FjaGUnLCAncHJvZmlsZXMnLCAnY29udGFpbmVycycsICdibG9ja1VJJywgKCRzY29wZSwgJGxvY2F0aW9uLCAkdGVtcGxhdGVDYWNoZSwgcHJvZmlsZXM6IFByb2ZpbGVzLCBjb250YWluZXJzOiBDb250YWluZXJzLCBibG9ja1VJKSA9PiB7XG4gICAgJHNjb3BlLnRhYnMgPSBjcmVhdGVQcm9maWxlc1N1Yk5hdkJhcnMoJHNjb3BlLm5hbWVzcGFjZSwgJHNjb3BlLnByb2plY3RJZCk7XG4gICAgLy8gQXNzb2NpYXRlIHRoaXMgY29udHJvbGxlciBzY29wZSB0byB0aGUgRm9yZ2VQcm9qZWN0U2VydmljZVxuICAgIEZvcmdlLnVwZGF0ZUZvcmdlUHJvamVjdCgkc2NvcGUpO1xuICAgICRzY29wZS5naXRSZXN0VXJsID0gcGF0aCA9PiBXaWtpLmdpdFJlc3RVUkwoJHNjb3BlLCBwYXRoKTtcblxuICAgICRzY29wZS5wcm9maWxlcyA9IHByb2ZpbGVzO1xuICAgICRzY29wZS5jb250YWluZXJzID0gY29udGFpbmVycztcbiAgICAkc2NvcGUuc2VsZWN0YWJsZSA9IHRydWU7XG4gICAgJHNjb3BlLnByb2ZpbGVHcm91cHMgPSAocHJvZmlsZTogUHJvZmlsZSkgPT4gcHJvZmlsZS50YWdzLmxlbmd0aCA+IDAgPyBwcm9maWxlLnRhZ3NbMF0gOiAnJztcblxuICAgIGxldCBzYXZpbmc6bnVtYmVyID0gMDtcbiAgICAkc2NvcGUuc2F2aW5nID0gKCkgPT4gc2F2aW5nID4gMDtcblxuICAgIGxldCBibG9ja1RhYmxlID0gYmxvY2tVSS5pbnN0YW5jZXMuZ2V0KCdibG9ja1RhYmxlJyk7XG5cbiAgICAkc2NvcGUuYXNzaWduUHJvZmlsZXMgPSAoKSA9PiB7XG4gICAgICBsZXQgd2lraSA9IG5ldyBXaWtpLkdpdFdpa2lSZXBvc2l0b3J5KCRzY29wZSk7XG4gICAgICAvLyBUT0RPOiB1c2UgUGF0dGVybkZseSBub3RpZmljYXRpb25zXG4gICAgICBsZXQgc3VjY2VzcyA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgV2lraS5vbkNvbXBsZXRlKHJlc3BvbnNlKTtcbiAgICAgICAgQ29yZS5ub3RpZmljYXRpb24oJ3N1Y2Nlc3MnLCByZXNwb25zZS5maWxlICsgJyBzYXZlZCEnKTtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH07XG4gICAgICBsZXQgZmFpbHVyZSA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgQ29yZS5ub3RpZmljYXRpb24oJ2Vycm9yJywgcmVzcG9uc2UpO1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfTtcbiAgICAgIGxldCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKC0tc2F2aW5nID09PSAwKSB7XG4gICAgICAgICAgYmxvY2tUYWJsZS5tZXNzYWdlKCdSZWZyZXNoaW5nIC4uLicpO1xuICAgICAgICAgIGNvbnRhaW5lcnMubG9hZCh3aWtpLCAkc2NvcGUuYnJhbmNoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGJsb2NrVGFibGUuc3RvcCgpO1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoVXJsSGVscGVycy5qb2luKCcvd29ya3NwYWNlcycsICRzY29wZS5uYW1lc3BhY2UsICdwcm9qZWN0cycsICRzY29wZS5wcm9qZWN0SWQsICdwcm9maWxlcycsICdjb250YWluZXJzJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYmxvY2tUYWJsZS5zdGFydChcIlNhdmluZyAuLi5cIik7XG4gICAgICBjb250YWluZXJzLmNhcnQuZm9yRWFjaChjb250YWluZXIgPT4ge1xuICAgICAgICBzYXZpbmcrKztcbiAgICAgICAgd2lraS5wdXRQYWdlKCRzY29wZS5icmFuY2gsIGNvbnRhaW5lci5wYXRoLCBhc3NpZ25Qcm9maWxlcyhjb250YWluZXIsIHByb2ZpbGVzLmNhcnQpLCAnQXNzaWduIHByb2ZpbGVzJywgc3VjY2VzcywgZmFpbHVyZSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgbGV0IGFzc2lnblByb2ZpbGVzID0gKGNvbnRhaW5lcjogQ29udGFpbmVyLCBwcm9maWxlczogUHJvZmlsZVtdKTpzdHJpbmcgPT5cbiAgICAgICAgY29udGFpbmVyLnRleHQucmVwbGFjZSgvXihwcm9maWxlcyk9KC4qKSQvbSxcbiAgICAgICAgICAgIChtYXRjaCwga2V5LCB2YWx1ZSkgPT4ga2V5ICsgJz0nICsgcHJvZmlsZXMubWFwKHByb2ZpbGUgPT4gcHJvZmlsZS5pZCkuam9pbignICcpKTtcblxuICAgICRzY29wZS5yZWZyZXNoQ29udGFpbmVycyA9ICgpID0+IGNvbnRhaW5lcnMubG9hZChuZXcgV2lraS5HaXRXaWtpUmVwb3NpdG9yeSgkc2NvcGUpLCAkc2NvcGUuYnJhbmNoKTtcbiAgICAkc2NvcGUucmVmcmVzaFByb2ZpbGVzID0gKCkgPT4ge1xuICAgICAgaWYgKCFwcm9maWxlcy5sb2FkaW5nKSB7XG4gICAgICAgIHByb2ZpbGVzLmxvYWQobmV3IFdpa2kuR2l0V2lraVJlcG9zaXRvcnkoJHNjb3BlKSwgJHNjb3BlLmJyYW5jaCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICghKGNvbnRhaW5lcnMubG9hZGVkIHx8IGNvbnRhaW5lcnMubG9hZGluZykpIHtcbiAgICAgICRzY29wZS5yZWZyZXNoQ29udGFpbmVycygpO1xuICAgIH1cbiAgfV0pXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzUGx1Z2luLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzSGVscGVycy50c1wiLz5cblxubW9kdWxlIFByb2ZpbGVzIHtcblxuICBpbXBvcnQgS3ViZXJuZXRlc01vZGVsU2VydmljZSA9IEt1YmVybmV0ZXMuS3ViZXJuZXRlc01vZGVsU2VydmljZTtcblxuICBtb2R1bGUuY29udHJvbGxlcignUHJvZmlsZXMuQ29udGFpbmVyTGlzdENvbnRyb2xsZXInLFxuICAgIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICckdGVtcGxhdGVDYWNoZScsICdwcm9maWxlcycsICdjb250YWluZXJzJywgJ0t1YmVybmV0ZXNNb2RlbCcsXG4gICAgICAoJHNjb3BlLCAkbG9jYXRpb24sICR0ZW1wbGF0ZUNhY2hlLCBwcm9maWxlczogUHJvZmlsZXMsIGNvbnRhaW5lcnM6IENvbnRhaW5lcnMsIGt1YmVybmV0ZXM6IEt1YmVybmV0ZXNNb2RlbFNlcnZpY2UpID0+IHtcblxuICAgICRzY29wZS52aWV3UHJvZmlsZSA9IHByb2ZpbGUgPT4gJGxvY2F0aW9uLnBhdGgoV2lraS52aWV3TGluaygkc2NvcGUucHJvamVjdElkLCAkc2NvcGUuYnJhbmNoLCBwcm9maWxlLnBhdGgsICRsb2NhdGlvbikpO1xuICAgICRzY29wZS5wcm9maWxlcyA9IHByb2ZpbGVzO1xuICAgICRzY29wZS5jb250YWluZXJzID0gY29udGFpbmVycztcblxuICAgICRzY29wZS50YWJsZUNvbmZpZyA9IHtcbiAgICAgIGRhdGE6ICdjb250YWluZXJzLmRhdGEnLFxuICAgICAgc2hvd1NlbGVjdGlvbkNoZWNrYm94OiAkc2NvcGUuc2VsZWN0YWJsZSB8fCBmYWxzZSxcbiAgICAgIGVuYWJsZVJvd0NsaWNrU2VsZWN0aW9uOiAkc2NvcGUuc2VsZWN0YWJsZSB8fCBmYWxzZSxcbiAgICAgIG11bHRpU2VsZWN0OiB0cnVlLFxuICAgICAgc2VsZWN0ZWRJdGVtczogJHNjb3BlLnNlbGVjdGFibGUgPyBjb250YWluZXJzLmNhcnQgOiBbXSxcbiAgICAgIGZpbHRlck9wdGlvbnM6IHtcbiAgICAgICAgZmlsdGVyVGV4dDogJGxvY2F0aW9uLnNlYXJjaCgpWydxJ10gfHwgJydcbiAgICAgIH0sXG4gICAgICBjb2x1bW5EZWZzOiBbXG4gICAgICAgIHsgZmllbGQ6ICduYW1lJyxcbiAgICAgICAgICBkaXNwbGF5TmFtZTogJ05hbWUnLFxuICAgICAgICAgIGNlbGxUZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb250YWluZXJOYW1lLmh0bWwnKVxuICAgICAgICB9LFxuICAgICAgICB7IGZpZWxkOiAncG9kcycsXG4gICAgICAgICAgZGlzcGxheU5hbWU6ICdQb2RzJyxcbiAgICAgICAgICBjZWxsVGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29udGFpbmVyUG9kcy5odG1sJylcbiAgICAgICAgfSxcbiAgICAgICAgeyBmaWVsZDogJ3R5cGVzJyxcbiAgICAgICAgICBkaXNwbGF5TmFtZTogJ1R5cGVzJyxcbiAgICAgICAgICBjZWxsVGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29udGFpbmVyVHlwZXMuaHRtbCcpXG4gICAgICAgIH0sXG4gICAgICAgIHsgZmllbGQ6ICdwcm9maWxlcycsXG4gICAgICAgICAgZGlzcGxheU5hbWU6ICdQcm9maWxlcycsXG4gICAgICAgICAgY2VsbFRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2NvbnRhaW5lclByb2ZpbGVzLmh0bWwnKVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcblxuICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCdwcm9maWxlcy5kYXRhJywgcHJvZmlsZXMgPT5cbiAgICAgIGNvbnRhaW5lcnMuZGF0YS5mb3JFYWNoKChjb250YWluZXI6Q29udGFpbmVyKSA9PlxuICAgICAgICBwcm9maWxlcy5mb3JFYWNoKChwcm9maWxlOlByb2ZpbGUpID0+IHtcbiAgICAgICAgICBsZXQgaSA9IF8uaW5kZXhPZihjb250YWluZXIucHJvZmlsZXMsIHByb2ZpbGUuaWQpO1xuICAgICAgICAgIGlmIChpID49IDApIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5wcm9maWxlc1tpXSA9IHByb2ZpbGU7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBOZWNlc3Nhcnkgc3luYyBhcyB1aS1zZWxlY3QgY2hhbmdlcyB0aGUgc2VsZWN0aW9uIGFycmF5IHJlZmVyZW5jZSA6KFxuICAgICRzY29wZS4kd2F0Y2goJ2NvbnRhaW5lcnMuY2FydCcsIGNvbnRhaW5lcnMgPT4ge1xuICAgICAgJHNjb3BlLnRhYmxlQ29uZmlnLnNlbGVjdGVkSXRlbXMgPSBjb250YWluZXJzO1xuICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2hhd3Rpby5kYXRhdGFibGUuY29udGFpbmVycy5kYXRhJyk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuJG9uKCdrdWJlcm5ldGVzTW9kZWxVcGRhdGVkJywgKCkgPT5cbiAgICAgIF8uZmlsdGVyKGNvbnRhaW5lcnMuZGF0YSwgKGNvbnRhaW5lcjpDb250YWluZXIpID0+ICFjb250YWluZXIuZGVwbG95bWVudClcbiAgICAgICAgLmZvckVhY2goKGNvbnRhaW5lcjpDb250YWluZXIpID0+IGNvbnRhaW5lci5kZXBsb3ltZW50ID0ga3ViZXJuZXRlcy5nZXREZXBsb3ltZW50KCRzY29wZS5uYW1lc3BhY2UgfHwgS3ViZXJuZXRlcy5jdXJyZW50S3ViZXJuZXRlc05hbWVzcGFjZSgpLCBjb250YWluZXIubmFtZSkpKTtcblxuICAgIGlmICghKGNvbnRhaW5lcnMubG9hZGVkIHx8IGNvbnRhaW5lcnMubG9hZGluZykpIHtcbiAgICAgICRzY29wZS5yZWZyZXNoKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgbW9kdWxlLmZpbHRlcigna3ViZXJuZXRlc1BhZ2VMaW5rJywgKCkgPT4gKGVudGl0eSwgcGF0aDEsIHBhdGgyKSA9PiBVcmxIZWxwZXJzLmpvaW4oS3ViZXJuZXRlcy5lbnRpdHlQYWdlTGluayhlbnRpdHkpLCBwYXRoMSwgcGF0aDIpKTtcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vaW5jbHVkZXMudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwicHJvZmlsZXNQbHVnaW4udHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwicHJvZmlsZXNIZWxwZXJzLnRzXCIvPlxuXG5tb2R1bGUgUHJvZmlsZXMge1xuXG4gIGltcG9ydCBLdWJlcm5ldGVzTW9kZWxTZXJ2aWNlID0gS3ViZXJuZXRlcy5LdWJlcm5ldGVzTW9kZWxTZXJ2aWNlO1xuICBpbXBvcnQgSURlZmVycmVkID0gYW5ndWxhci5JRGVmZXJyZWQ7XG4gIGltcG9ydCBJUHJvbWlzZSA9IGFuZ3VsYXIuSVByb21pc2U7XG5cbiAgZXhwb3J0IGludGVyZmFjZSBJY29uIHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHR5cGU6ICBzdHJpbmc7XG4gICAgc3JjOiAgIHN0cmluZztcbiAgfVxuXG4gIGxldCBpY29ucyA9IHtcbiAgICBjYW1lbDogICAgICAgJ2NhbWVsJyxcbiAgICBqZW5raW5zZmlsZTogJ2plbmtpbnMnLFxuICAgIGthcmFmOiAgICAgICAna2FyYWYnXG4gIH07XG5cbiAgZXhwb3J0IGludGVyZmFjZSBDb250YWluZXIge1xuICAgIG5hbWU6ICAgICBzdHJpbmc7XG4gICAgcGF0aDogICAgIHN0cmluZztcbiAgICB0ZXh0PzogICAgc3RyaW5nO1xuICAgIGRlcGxveW1lbnQ/OiBhbnk7XG4gICAgcHJvZmlsZXM6IChQcm9maWxlfHN0cmluZylbXTtcbiAgICB0eXBlczogICAgc3RyaW5nW107XG4gICAgaWNvbnM/OiAgIEljb25bXTtcbiAgfVxuXG4gIGV4cG9ydCBjbGFzcyBDb250YWluZXJzIHtcbiAgICBsb2FkZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGxvYWRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgcmVxdWVzdHM6IG51bWJlciA9IDA7XG4gICAgZGF0YTpDb250YWluZXJbXSA9IFtdO1xuICAgIGNhcnQ6Q29udGFpbmVyW10gPSBbXTtcbiAgICBwcml2YXRlIHByb2ZpbGVzOlByb2ZpbGVzO1xuICAgIHByaXZhdGUga3ViZXJuZXRlczpLdWJlcm5ldGVzTW9kZWxTZXJ2aWNlO1xuICAgIHByaXZhdGUgJHE6bmcuSVFTZXJ2aWNlO1xuXG4gICAgY29uc3RydWN0b3IocHJvZmlsZXM6IFByb2ZpbGVzLCBrdWJlcm5ldGVzOiBLdWJlcm5ldGVzTW9kZWxTZXJ2aWNlLCAkcTogbmcuSVFTZXJ2aWNlKSB7XG4gICAgICB0aGlzLnByb2ZpbGVzID0gcHJvZmlsZXM7XG4gICAgICB0aGlzLmt1YmVybmV0ZXMgPSBrdWJlcm5ldGVzO1xuICAgICAgdGhpcy4kcSA9ICRxO1xuICAgIH1cblxuICAgIGxvYWQgPSAod2lraTpXaWtpLkdpdFdpa2lSZXBvc2l0b3J5LCBicmFuY2g6c3RyaW5nLCBuYW1lc3BhY2U/OnN0cmluZyk6SVByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVxdWVzdHMrKztcbiAgICAgIGxldCBkYXRhOkNvbnRhaW5lcltdID0gW107XG4gICAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyPHZvaWQ+KCk7XG4gICAgICAvLyBMZXRzIGxpc3QgYWxsIHRoZSBjb250YWluZXJzLCBhbmQgbG9hZCB0aGUgY29udGFpbmVyIGNvbmZpZ3NcbiAgICAgIHdpa2kuZ2V0UGFnZShicmFuY2gsICdjb25maWdzL2NvbnRhaW5lcnMnLCBudWxsLCBwYWdlID0+IHtcbiAgICAgICAgXy5mb3JFYWNoKHBhZ2UuY2hpbGRyZW4sIGNoaWxkID0+IHtcbiAgICAgICAgICBpZiAoIWNoaWxkLmRpcmVjdG9yeSAmJiBfLmVuZHNXaXRoKGNoaWxkLm5hbWUsICcuY2ZnJykpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdHMrKztcbiAgICAgICAgICAgIHdpa2kuZ2V0UGFnZShicmFuY2gsIGNoaWxkLnBhdGgsIG51bGwsIHBhZ2UgPT4ge1xuICAgICAgICAgICAgICBsZXQgcHJvcGVydGllcyA9IHBhcnNlUHJvcGVydGllcyhwYWdlLnRleHQpO1xuICAgICAgICAgICAgICBjb25zdCBuYW1lID0gcGFnZS5uYW1lLnJlcGxhY2UoLy5jZmckLywgJycpO1xuICAgICAgICAgICAgICBsZXQgY29udGFpbmVyID0gPENvbnRhaW5lcj4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgcGF0aDogcGFnZS5wYXRoLFxuICAgICAgICAgICAgICAgIHRleHQ6IHBhZ2UudGV4dCxcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgYSBtb3JlIHJvYnVzdCBtYXBwaW5nIGJldHdlZW4gdGhlIGNvbnRhaW5lciBwcm9qZWN0IGFuZCB0aGUgY29ycmVzcG9uZGluZyBkZXBsb3ltZW50IHVzaW5nIHRoZSBncm91cCBhbmQgcHJvamVjdCBsYWJlbHNcbiAgICAgICAgICAgICAgICBkZXBsb3ltZW50OiB0aGlzLmt1YmVybmV0ZXMuZ2V0RGVwbG95bWVudChuYW1lc3BhY2UgfHwgS3ViZXJuZXRlcy5jdXJyZW50S3ViZXJuZXRlc05hbWVzcGFjZSgpLG5hbWUpLFxuICAgICAgICAgICAgICAgIC8vIFdlIGNvdWxkIGxvYWQgdGhlIHByb2ZpbGVzIGlmIG5vdCBhbHJlYWR5IGxvYWRlZCBhbmQgc3luYyB0aGUgY29udGFpbmVycyBkYXRhIGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgIHByb2ZpbGVzOiBfLm1hcChwcm9wZXJ0aWVzWydwcm9maWxlcyddLnNwbGl0KCcgJyksIChwcm9maWxlOnN0cmluZykgPT4gPFByb2ZpbGV8c3RyaW5nPl8uZmluZCh0aGlzLnByb2ZpbGVzLmRhdGEsIHtpZDogcHJvZmlsZX0pIHx8IHByb2ZpbGUpLFxuICAgICAgICAgICAgICAgIHR5cGVzOiBwcm9wZXJ0aWVzWydjb250YWluZXItdHlwZSddLnNwbGl0KCcgJyksXG4gICAgICAgICAgICAgICAgaWNvbnM6IHByb3BlcnRpZXNbJ2NvbnRhaW5lci10eXBlJ10uc3BsaXQoJyAnKS5tYXAodHlwZSA9PiA8SWNvbj4ge1xuICAgICAgICAgICAgICAgICAgdGl0bGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAnaW1nJyxcbiAgICAgICAgICAgICAgICAgIHNyYzogJ2ltZy9pY29ucy8nICsgKHR5cGUudG9Mb3dlckNhc2UoKSBpbiBpY29ucyA/IGljb25zW3R5cGUudG9Mb3dlckNhc2UoKV0gOiAnamF2YScpICsgJy5zdmcnXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAvLyBhZGQgdGhlIGljb25zIGZyb20gdGhlIHJ1bnRpbWUgaW5mb1xuICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLmRlcGxveW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaWNvbnMucHVzaCg8SWNvbj4ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltZycsXG4gICAgICAgICAgICAgICAgICBzcmMgOiBjb250YWluZXIuZGVwbG95bWVudC4kaWNvblVybFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRhdGEucHVzaChjb250YWluZXIpO1xuICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKGRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21wbGV0ZShkYXRhKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBjb21wbGV0ZSA9IChkYXRhOkNvbnRhaW5lcltdKTp2b2lkID0+IHtcbiAgICAgIGlmICgtLXRoaXMucmVxdWVzdHMgPT09IDApIHtcbiAgICAgICAgdGhpcy5kYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZGF0YS5wdXNoKC4uLiBkYXRhKTtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgbW9kdWxlLnNlcnZpY2UoJ2NvbnRhaW5lcnMnLCBbJ3Byb2ZpbGVzJywgJ0t1YmVybmV0ZXNNb2RlbCcsICckcScsIENvbnRhaW5lcnNdKTtcblxuICBtb2R1bGUuY29udHJvbGxlcignUHJvZmlsZXMuQ29udGFpbmVyc0NvbnRyb2xsZXInLFxuICAgIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICdjb250YWluZXJzJywgJ2Jsb2NrVUknLFxuICAgICAgKCRzY29wZSwgJGxvY2F0aW9uLCBjb250YWluZXJzOiBDb250YWluZXJzLCBibG9ja1VJKSA9PiB7XG4gICAgJHNjb3BlLnRhYnMgPSBjcmVhdGVQcm9maWxlc1N1Yk5hdkJhcnMoJHNjb3BlLm5hbWVzcGFjZSwgJHNjb3BlLnByb2plY3RJZCk7XG4gICAgLy8gQXNzb2NpYXRlIHRoaXMgY29udHJvbGxlciBzY29wZSB0byB0aGUgRm9yZ2VQcm9qZWN0U2VydmljZVxuICAgIEZvcmdlLnVwZGF0ZUZvcmdlUHJvamVjdCgkc2NvcGUpO1xuXG4gICAgJHNjb3BlLmNvbnRhaW5lcnMgPSBjb250YWluZXJzO1xuICAgICRzY29wZS5zZWxlY3RhYmxlID0gdHJ1ZTtcblxuICAgIGxldCBzYXZpbmc6bnVtYmVyID0gMDtcbiAgICAkc2NvcGUuc2F2aW5nID0gKCkgPT4gc2F2aW5nID4gMDtcblxuICAgIGxldCBibG9ja1RhYmxlID0gYmxvY2tVSS5pbnN0YW5jZXMuZ2V0KCdibG9ja1RhYmxlJyk7XG5cbiAgICAkc2NvcGUuY3JlYXRlQ29udGFpbmVycyA9ICgpID0+ICRsb2NhdGlvbi5wYXRoKFVybEhlbHBlcnMuam9pbignL3dvcmtzcGFjZXMnLCAkc2NvcGUubmFtZXNwYWNlLCAncHJvamVjdHMnLCAkc2NvcGUucHJvamVjdElkLCAncHJvZmlsZXMnLCAnY29udGFpbmVycycsICdkZXBsb3lQcm9maWxlcycpKTtcblxuICAgICRzY29wZS5hc3NpZ25Qcm9maWxlcyA9ICgpID0+ICRsb2NhdGlvbi5wYXRoKFVybEhlbHBlcnMuam9pbignL3dvcmtzcGFjZXMnLCAkc2NvcGUubmFtZXNwYWNlLCAncHJvamVjdHMnLCAkc2NvcGUucHJvamVjdElkLCAncHJvZmlsZXMnLCAnY29udGFpbmVycycsICdhc3NpZ25Qcm9maWxlcycpKTtcblxuICAgICRzY29wZS5kZWxldGVDb250YWluZXJzID0gKCkgPT4ge1xuICAgICAgbGV0IHdpa2kgPSBuZXcgV2lraS5HaXRXaWtpUmVwb3NpdG9yeSgkc2NvcGUpO1xuICAgICAgLy8gVE9ETzogdXNlIFBhdHRlcm5GbHkgbm90aWZpY2F0aW9uc1xuICAgICAgbGV0IHN1Y2Nlc3MgPSAocmVzcG9uc2UsIGNvbnRhaW5lcikgPT4ge1xuICAgICAgICBXaWtpLm9uQ29tcGxldGUocmVzcG9uc2UpO1xuICAgICAgICBDb3JlLm5vdGlmaWNhdGlvbignc3VjY2VzcycsIGNvbnRhaW5lciArICcgZGVsZXRlZCEnKTtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH07XG4gICAgICBsZXQgZmFpbHVyZSA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgQ29yZS5ub3RpZmljYXRpb24oJ2Vycm9yJywgcmVzcG9uc2UpO1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfTtcbiAgICAgIGxldCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKC0tc2F2aW5nID09PSAwKSB7XG4gICAgICAgICAgYmxvY2tUYWJsZS5tZXNzYWdlKCdSZWZyZXNoaW5nIC4uLicpO1xuICAgICAgICAgIGNvbnRhaW5lcnMubG9hZCh3aWtpLCAkc2NvcGUuYnJhbmNoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGJsb2NrVGFibGUuc3RvcCgpO1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoVXJsSGVscGVycy5qb2luKCcvd29ya3NwYWNlcycsICRzY29wZS5uYW1lc3BhY2UsICdwcm9qZWN0cycsICRzY29wZS5wcm9qZWN0SWQsICdwcm9maWxlcycsICdjb250YWluZXJzJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYmxvY2tUYWJsZS5zdGFydChcIlNhdmluZyAuLi5cIik7XG4gICAgICBjb250YWluZXJzLmNhcnQuZm9yRWFjaChjb250YWluZXIgPT4ge1xuICAgICAgICBzYXZpbmcrKztcbiAgICAgICAgd2lraS5yZW1vdmVQYWdlKCRzY29wZS5icmFuY2gsIGNvbnRhaW5lci5wYXRoLCAnRGVsZXRlIGNvbnRhaW5lcicsIChyZXNwb25zZSkgPT4gc3VjY2VzcyhyZXNwb25zZSwgY29udGFpbmVyLm5hbWUpLyosIGZhaWx1cmUqLyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnJlZnJlc2ggPSAoKSA9PiBjb250YWluZXJzLmxvYWQobmV3IFdpa2kuR2l0V2lraVJlcG9zaXRvcnkoJHNjb3BlKSwgJHNjb3BlLmJyYW5jaCwgJHNjb3BlLm5hbWVzcGFjZSk7XG4gIH1dKVxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9pbmNsdWRlcy50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJwcm9maWxlc1BsdWdpbi50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJwcm9maWxlc0hlbHBlcnMudHNcIi8+XG5cbm1vZHVsZSBQcm9maWxlcyB7XG5cbiAgbW9kdWxlLmNvbnRyb2xsZXIoJ1Byb2ZpbGVzLkRlcGxveVByb2ZpbGVzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICckdGVtcGxhdGVDYWNoZScsICdwcm9maWxlcycsICdjb250YWluZXJzJywgJ2Jsb2NrVUknLCAoJHNjb3BlLCAkbG9jYXRpb24sICR0ZW1wbGF0ZUNhY2hlLCBwcm9maWxlczogUHJvZmlsZXMsIGNvbnRhaW5lcnM6IENvbnRhaW5lcnMsIGJsb2NrVUkpID0+IHtcbiAgICAkc2NvcGUudGFicyA9IGNyZWF0ZVByb2ZpbGVzU3ViTmF2QmFycygkc2NvcGUubmFtZXNwYWNlLCAkc2NvcGUucHJvamVjdElkKTtcbiAgICAvLyBBc3NvY2lhdGUgdGhpcyBjb250cm9sbGVyIHNjb3BlIHRvIHRoZSBGb3JnZVByb2plY3RTZXJ2aWNlXG4gICAgRm9yZ2UudXBkYXRlRm9yZ2VQcm9qZWN0KCRzY29wZSk7XG4gICAgJHNjb3BlLmdpdFJlc3RVcmwgPSBwYXRoID0+IFdpa2kuZ2l0UmVzdFVSTCgkc2NvcGUsIHBhdGgpO1xuXG4gICAgJHNjb3BlLnByb2ZpbGVzID0gcHJvZmlsZXM7XG4gICAgJHNjb3BlLmNvbnRhaW5lcnMgPSBjb250YWluZXJzO1xuICAgICRzY29wZS5zZWxlY3QgPSB7XG4gICAgICBuYW1lczogW11cbiAgICB9O1xuICAgICRzY29wZS5zZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgJHNjb3BlLnByb2ZpbGVHcm91cHMgPSAocHJvZmlsZTogUHJvZmlsZSkgPT4gcHJvZmlsZS50YWdzLmxlbmd0aCA+IDAgPyBwcm9maWxlLnRhZ3NbMF0gOiAnJztcblxuICAgIGxldCBzYXZpbmc6bnVtYmVyID0gMDtcbiAgICAkc2NvcGUuc2F2aW5nID0gKCkgPT4gc2F2aW5nID4gMDtcblxuICAgIGxldCBibG9ja1RhYmxlID0gYmxvY2tVSS5pbnN0YW5jZXMuZ2V0KCdibG9ja1RhYmxlJyk7XG5cbiAgICAkc2NvcGUuZGVwbG95UHJvZmlsZXMgPSAoKSA9PiB7XG4gICAgICBsZXQgd2lraSA9IG5ldyBXaWtpLkdpdFdpa2lSZXBvc2l0b3J5KCRzY29wZSk7XG4gICAgICAvLyBUT0RPOiB1c2UgUGF0dGVybkZseSBub3RpZmljYXRpb25zXG4gICAgICBsZXQgc3VjY2VzcyA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgV2lraS5vbkNvbXBsZXRlKHJlc3BvbnNlKTtcbiAgICAgICAgQ29yZS5ub3RpZmljYXRpb24oJ3N1Y2Nlc3MnLCByZXNwb25zZS5maWxlICsgJyBzYXZlZCEnKTtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH07XG4gICAgICBsZXQgZmFpbHVyZSA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgQ29yZS5ub3RpZmljYXRpb24oJ2Vycm9yJywgcmVzcG9uc2UpO1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfTtcbiAgICAgIGxldCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKC0tc2F2aW5nID09PSAwKSB7XG4gICAgICAgICAgYmxvY2tUYWJsZS5tZXNzYWdlKCdSZWZyZXNoaW5nIC4uLicpO1xuICAgICAgICAgIGNvbnRhaW5lcnMubG9hZCh3aWtpLCAkc2NvcGUuYnJhbmNoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGJsb2NrVGFibGUuc3RvcCgpO1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoVXJsSGVscGVycy5qb2luKCcvd29ya3NwYWNlcycsICRzY29wZS5uYW1lc3BhY2UsICdwcm9qZWN0cycsICRzY29wZS5wcm9qZWN0SWQsICdwcm9maWxlcycsICdjb250YWluZXJzJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYmxvY2tUYWJsZS5zdGFydChcIlNhdmluZyAuLi5cIik7XG4gICAgICBzYXZpbmcrKztcbiAgICAgICRzY29wZS5zZWxlY3QubmFtZXMuZm9yRWFjaChuYW1lID0+XG4gICAgICAgIHdpa2kucHV0UGFnZSgkc2NvcGUuYnJhbmNoLCAnY29uZmlncy9jb250YWluZXJzLycgKyBuYW1lICsgJy5jZmcnLCBkZXBsb3lQcm9maWxlcyhuYW1lLCBwcm9maWxlcy5jYXJ0KSwgJ0RlcGxveSBwcm9maWxlcyBpbnRvICcgKyBuYW1lLCBzdWNjZXNzLCBmYWlsdXJlKSk7XG4gICAgfTtcblxuICAgIGxldCBkZXBsb3lQcm9maWxlcyA9IChjb250YWluZXI6IHN0cmluZywgcHJvZmlsZXM6IFByb2ZpbGVbXSk6c3RyaW5nID0+XG4gICAgICAgIHByb2ZpbGVzLnJlZHVjZSgocHJvZmlsZXM6IHN0cmluZywgcHJvZmlsZTogUHJvZmlsZSkgPT4gcHJvZmlsZXMgKyBwcm9maWxlLmlkICsgJyAnLCAncHJvZmlsZXM9JylcbiAgICAgICAgICAuY29uY2F0KCdcXG4nKVxuICAgICAgICAgIC5jb25jYXQoJ2NvbnRhaW5lci10eXBlPWthcmFmIGplbmtpbnNmaWxlJyk7XG5cbiAgICAkc2NvcGUuZXhpc3RpbmdDb250YWluZXJzID0gbmFtZXMgPT4gXy5pbnRlcnNlY3Rpb24obmFtZXMsIF8ucGx1Y2soY29udGFpbmVycy5kYXRhLCAnbmFtZScpKTtcblxuICAgICRzY29wZS5yZWZyZXNoQ29udGFpbmVycyA9ICgpID0+IGNvbnRhaW5lcnMubG9hZChuZXcgV2lraS5HaXRXaWtpUmVwb3NpdG9yeSgkc2NvcGUpLCAkc2NvcGUuYnJhbmNoKTtcbiAgICAkc2NvcGUucmVmcmVzaFByb2ZpbGVzID0gKCkgPT4ge1xuICAgICAgaWYgKCFwcm9maWxlcy5sb2FkaW5nKSB7XG4gICAgICAgIHByb2ZpbGVzLmxvYWQobmV3IFdpa2kuR2l0V2lraVJlcG9zaXRvcnkoJHNjb3BlKSwgJHNjb3BlLmJyYW5jaCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICghKGNvbnRhaW5lcnMubG9hZGVkIHx8IGNvbnRhaW5lcnMubG9hZGluZykpIHtcbiAgICAgICRzY29wZS5yZWZyZXNoQ29udGFpbmVycygpO1xuICAgIH1cbiAgfV0pXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzUGx1Z2luLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzSGVscGVycy50c1wiLz5cblxubW9kdWxlIFByb2ZpbGVzIHtcblxuICBleHBvcnQgaW50ZXJmYWNlIFByb2ZpbGUge1xuICAgIGlkOiAgICAgICAgICBzdHJpbmc7XG4gICAgcGF0aDogICAgICAgIHN0cmluZztcbiAgICBuYW1lOiAgICAgICAgc3RyaW5nO1xuICAgIHRhZ3M/OiAgICAgICBzdHJpbmdbXTtcbiAgICBzdW1tYXJ5PzogICAgc3RyaW5nO1xuICAgIHN1bW1hcnlVcmw/OiBzdHJpbmc7XG4gICAgaWNvbj86ICAgICAgIHN0cmluZztcbiAgICBpY29uVXJsPzogICAgc3RyaW5nO1xuICB9XG5cbiAgZXhwb3J0IGNsYXNzIFByb2ZpbGVzIHtcbiAgICBsb2FkZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGxvYWRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGRhdGE6UHJvZmlsZVtdID0gW107XG4gICAgY2FydDpQcm9maWxlW10gPSBbXTtcbiAgICBwcml2YXRlIHJlcXVlc3RzOm51bWJlciA9IDA7XG5cbiAgICBsb2FkID0gKHdpa2k6V2lraS5HaXRXaWtpUmVwb3NpdG9yeSwgYnJhbmNoOnN0cmluZywgcGF0aDpzdHJpbmcgPSAncHJvZmlsZXMnKTp2b2lkID0+IHtcbiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgICB0aGlzLmRhdGEubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMucmVxdWVzdHMgPSAwO1xuICAgICAgdGhpcy5maW5kUHJvZmlsZXMod2lraSwgYnJhbmNoLCBwYXRoKTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBmaW5kUHJvZmlsZXMgPSAod2lraTpXaWtpLkdpdFdpa2lSZXBvc2l0b3J5LCBicmFuY2g6c3RyaW5nLCBwYXRoOnN0cmluZyk6dm9pZCA9PiB7XG4gICAgICB0aGlzLnJlcXVlc3RzKys7XG4gICAgICAvLyB3ZSBuZWVkIHRvIHJlY3Vyc2l2ZWx5IHRyYXZlcnNlIHRoZSBwcm9maWxlcyBkaXIgdG8gbG9vayBmb3IgcHJvZmlsZXNcbiAgICAgIHdpa2kuZ2V0UGFnZShicmFuY2gsIHBhdGgsIG51bGwsIGRhdGEgPT4ge1xuICAgICAgICBpZihkYXRhLmNoaWxkcmVuKSB7XG4gICAgICAgICAgXy5mb3JFYWNoKGRhdGEuY2hpbGRyZW4sIHZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmKHZhbHVlLmRpcmVjdG9yeSAmJiBfLmVuZHNXaXRoKHZhbHVlLm5hbWUsICcucHJvZmlsZScpKSB7XG4gICAgICAgICAgICAgIHRoaXMubG9hZFByb2ZpbGUod2lraSwgYnJhbmNoLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLmRpcmVjdG9yeSkge1xuICAgICAgICAgICAgICB0aGlzLmZpbmRQcm9maWxlcyh3aWtpLCBicmFuY2gsIHZhbHVlLnBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGxvYWRQcm9maWxlID0gKHdpa2k6V2lraS5HaXRXaWtpUmVwb3NpdG9yeSwgYnJhbmNoOnN0cmluZywgdmFsdWU6YW55KTp2b2lkID0+IHtcbiAgICAgIHZhciBpbmZvID0gL15wcm9maWxlc1xcLygoPzouKylcXC8pKiguKykucHJvZmlsZSQvLmV4ZWModmFsdWUucGF0aCk7XG4gICAgICB2YXIgcHJvZmlsZSA9IDxQcm9maWxlPntcbiAgICAgICAgaWQ6ICAgKGluZm9bMV0gPyBpbmZvWzFdLnJlcGxhY2UoL1xcLy9nLCAnLScpIDogJycpICsgaW5mb1syXSxcbiAgICAgICAgbmFtZTogaW5mb1syXSxcbiAgICAgICAgcGF0aDogdmFsdWUucGF0aCxcbiAgICAgICAgdGFnczogaW5mb1sxXSA/IGluZm9bMV0uc2xpY2UoMCwgLTEpLnNwbGl0KCcvJykgOiBbXVxuICAgICAgfTtcblxuICAgICAgdGhpcy5yZXF1ZXN0cysrO1xuICAgICAgd2lraS5nZXRQYWdlKGJyYW5jaCwgdmFsdWUucGF0aCwgbnVsbCwgZGF0YSA9PiB7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIGRhdGEuY2hpbGRyZW4pIHtcbiAgICAgICAgICBsZXQgbmFtZSA9IGNoaWxkLm5hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICBpZiAobmFtZSA9PSAnUkVBRE1FLk1EJyB8fCBuYW1lID09ICdTVU1NQVJZLk1EJykge1xuICAgICAgICAgICAgcHJvZmlsZS5zdW1tYXJ5VXJsID0gY2hpbGQucGF0aDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gJ0lDT04uU1ZHJykge1xuICAgICAgICAgICAgcHJvZmlsZS5pY29uVXJsID0gY2hpbGQucGF0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgZXhpc3RpbmcgcHJvZmlsZSB3aXRoIHRoZSBuZXcgbG9hZGVkIG9uZVxuICAgICAgICB0aGlzLmRhdGEuc3BsaWNlKF8uc29ydGVkSW5kZXgodGhpcy5kYXRhLCBwcm9maWxlLCAnaWQnKSwgMCwgcHJvZmlsZSk7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvZmlsZXMgc2VsZWN0aW9uIGluIGNhc2UgaXQgY29udGFpbnMgdGhpcyBwcm9maWxlXG4gICAgICAgIGxldCBpID0gXy5maW5kSW5kZXgodGhpcy5jYXJ0LCB7aWQ6IHByb2ZpbGUuaWR9KTtcbiAgICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICAgIHRoaXMuY2FydFtpXSA9IHByb2ZpbGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBjb21wbGV0ZSA9ICgpOnZvaWQgPT4ge1xuICAgICAgaWYgKC0tdGhpcy5yZXF1ZXN0cyA9PT0gMCkge1xuICAgICAgICBTZWxlY3Rpb25IZWxwZXJzLnN5bmNHcm91cFNlbGVjdGlvbih0aGlzLmNhcnQsIHRoaXMuZGF0YSwgJ2lkJyk7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGNsYXNzIFByb2ZpbGVWaWV3IHtcbiAgICBvcGVuOiAgYm9vbGVhbjtcbiAgICBmb3JjZTogYm9vbGVhbjtcbiAgICBzY29wZTogYW55O1xuXG4gICAgY29uc3RydWN0b3IgKHNjb3BlOiBhbnkpIHtcbiAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG5cbiAgICBnZXQgb3Blbk9yU2luZ2xlKCk6Ym9vbGVhbiB7XG4gICAgICBsZXQgc2NvcGUgPSB0aGlzLnNjb3BlO1xuICAgICAgaWYgKHNjb3BlLmZpbHRlcmVkUHJvZmlsZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICghdGhpcy5mb3JjZSAmJiAoIXNjb3BlLmxvYWRpbmcoKSB8fCBzY29wZS5wcm9maWxlcy5sZW5ndGggPiAxKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZvcmNlID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vcGVuO1xuICAgIH1cblxuICAgIHNldCBvcGVuT3JTaW5nbGUob3Blbjpib29sZWFuKSB7XG4gICAgICBpZiAodGhpcy5zY29wZS5maWx0ZXJlZFByb2ZpbGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0aGlzLmZvcmNlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3BlbiA9IG9wZW47XG4gICAgfVxuICB9XG5cbiAgY2xhc3MgUHJvZmlsZVZpZXdzIHtcbiAgICBzZWxlY3RlZFRhZ3M6c3RyaW5nW10gPSBbXTtcbiAgICBwcm9maWxlVmlld3M6T2JqZWN0ICAgPSB7fTtcbiAgfVxuXG4gIG1vZHVsZS5zZXJ2aWNlKCdwcm9maWxlcycsIFByb2ZpbGVzKTtcbiAgbW9kdWxlLnNlcnZpY2UoJ3Byb2ZpbGVWaWV3cycsIFByb2ZpbGVWaWV3cyk7XG5cbiAgLy8gRXhwb3NlIGpzLXlhbWwgYXMgY29uc3RhbnQgZm9yIGluamVjdGlvblxuICBtb2R1bGUuY29uc3RhbnQoJ2pzeWFtbCcsIGpzeWFtbCk7XG5cbiAgbW9kdWxlLmZpbHRlcignZmlsdGVyQ29sbGVjdGlvbicsICgpID0+IChjb2xsZWN0aW9uLCB0ZXh0KSA9PlxuICAgIENvcmUuaXNCbGFuayh0ZXh0KVxuICAgICAgPyBjb2xsZWN0aW9uXG4gICAgICA6IF8uZmlsdGVyKGNvbGxlY3Rpb24sIGl0ZW0gPT4gRmlsdGVySGVscGVycy5zZWFyY2hPYmplY3QoaXRlbSwgdGV4dCkpKTtcblxuICBtb2R1bGUuY29udHJvbGxlcignUHJvZmlsZXMuUHJvZmlsZXNDb250cm9sbGVyJyxcbiAgICAgIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICdtYXJrZWQnLCAnJHNjZScsICdwcm9maWxlcycsICdwcm9maWxlVmlld3MnLFxuICAgICAgICgkc2NvcGUsICRsb2NhdGlvbiwgbWFya2VkLCAkc2NlLCBwcm9maWxlczogUHJvZmlsZXMsIHByb2ZpbGVWaWV3czogUHJvZmlsZVZpZXdzKSA9PiB7XG4gICAgJHNjb3BlLnRhYnMgPSBjcmVhdGVQcm9maWxlc1N1Yk5hdkJhcnMoJHNjb3BlLm5hbWVzcGFjZSwgJHNjb3BlLnByb2plY3RJZCk7XG4gICAgLy8gQXNzb2NpYXRlIHRoaXMgY29udHJvbGxlciBzY29wZSB0byB0aGUgRm9yZ2VQcm9qZWN0U2VydmljZVxuICAgIEZvcmdlLnVwZGF0ZUZvcmdlUHJvamVjdCgkc2NvcGUpO1xuICAgICRzY29wZS5naXRSZXN0VXJsID0gcGF0aCA9PiBXaWtpLmdpdFJlc3RVUkwoJHNjb3BlLCBwYXRoKTtcblxuICAgICRzY29wZS5wcm9maWxlcyA9IHByb2ZpbGVzLmRhdGE7XG4gICAgJHNjb3BlLnNlbGVjdGlvbiA9IHByb2ZpbGVzLmNhcnQ7XG5cbiAgICAkc2NvcGUuc2VsZWN0ZWRUYWdzID0gcHJvZmlsZVZpZXdzLnNlbGVjdGVkVGFncztcbiAgICAkc2NvcGUucHJvZmlsZVZpZXdzID0gcHJvZmlsZVZpZXdzLnByb2ZpbGVWaWV3cztcblxuICAgIFNlbGVjdGlvbkhlbHBlcnMuZGVjb3JhdGUoJHNjb3BlKTtcbiAgICAkc2NvcGUuaXNCbGFuayA9IENvcmUuaXNCbGFuaztcbiAgICAkc2NvcGUubG9hZGluZyA9ICgpID0+IHByb2ZpbGVzLmxvYWRpbmc7XG4gICAgJHNjb3BlLndpa2lMaW5rID0gcGF0aCA9PiBXaWtpLnZpZXdMaW5rKCRzY29wZS5wcm9qZWN0SWQsICRzY29wZS5icmFuY2gsIHBhdGgsICRsb2NhdGlvbik7XG5cbiAgICBsZXQgd2lraSA9IG5ldyBXaWtpLkdpdFdpa2lSZXBvc2l0b3J5KCRzY29wZSk7XG5cbiAgICAkc2NvcGUubG9hZFN1bW1hcnkgPSAocHJvZmlsZTogUHJvZmlsZSkgPT4ge1xuICAgICAgaWYgKHByb2ZpbGUuc3VtbWFyeVVybCkge1xuICAgICAgICBsZXQgcmVuZGVyZXIgPSBuZXcgbWFya2VkLlJlbmRlcmVyKCk7XG4gICAgICAgIC8vIEFkYXB0IHRoZSByZWxhdGl2ZSBpbWFnZSBVUkxzIHRvIHJldHJpZXZlIGNvbnRlbnQgZnJvbSB0aGUgRm9yZ2UgQVBJXG4gICAgICAgIHJlbmRlcmVyLmltYWdlID0gKGhyZWY6IHN0cmluZywgdGl0bGU6IHN0cmluZywgdGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgbGV0IHVyaSA9IG5ldyBVUkkoaHJlZik7XG4gICAgICAgICAgaWYgKHVyaS5pcygncmVsYXRpdmUnKSkge1xuICAgICAgICAgICAgaWYgKF8uc3RhcnRzV2l0aCh1cmkucGF0aCgpLCAnLycpKSB7XG4gICAgICAgICAgICAgIHVyaS5zZWdtZW50KFsncHJvZmlsZXMnLCAuLi51cmkuc2VnbWVudCgpXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB1cmkgPSB1cmkuYWJzb2x1dGVUbyhVcmxIZWxwZXJzLmpvaW4ocHJvZmlsZS5wYXRoLCAnLycpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEdldCB0aGUgaW1hZ2UgVVJMIGZvciB0aGUgRm9yZ2UgUkVTVCBBUElcbiAgICAgICAgICAgIGxldCBzcmMgPSBXaWtpLmdpdFJlc3RVUkwoJHNjb3BlLCB1cmkubm9ybWFsaXplKCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAvLyBhbmQgdXNlIFVSTC5jcmVhdGVPYmplY3RVUkwgdmlhIGFuZ3VsYXItaW1nLWh0dHAtc3JjIHRvIGdldCBhbiBVUkwgZm9yIHRoZSBpbWFnZSBCTE9CXG4gICAgICAgICAgICByZXR1cm4gJzxpbWcgc3JjPVwiaW1nL2xvYWRlci5zdmdcIiBodHRwLXNyYz1cIicgKyBzcmMgKyAnXCIgYWx0PVwiJyArICh0aXRsZSA/IHRpdGxlIDogdGV4dCkgKyAnXCIgLz4nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTaW1wbHkgcmV0dXJuIHRoZSBpbWcgdGFnIHdpdGggdGhlIG9yaWdpbmFsIGxvY2F0aW9uXG4gICAgICAgICAgICByZXR1cm4gJzxpbWcgc3JjPVwiJyArIGhyZWYgKyAnXCIgYWx0PVwiJyArICh0aXRsZSA/IHRpdGxlIDogdGV4dCkgKyAnXCIgLz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB3aWtpLmdldFBhZ2UoJHNjb3BlLmJyYW5jaCwgcHJvZmlsZS5zdW1tYXJ5VXJsLCBudWxsLFxuICAgICAgICAgICAgZGF0YSA9PiBwcm9maWxlLnN1bW1hcnkgPSBtYXJrZWQoZGF0YS50ZXh0LCB7cmVuZGVyZXI6IHJlbmRlcmVyfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZmlsZS5zdW1tYXJ5ID0gJzxlbT5ubyBzdW1tYXJ5PC9lbT4nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuYXNzaWduUHJvZmlsZXMgPSAoKSA9PiAkbG9jYXRpb24ucGF0aChVcmxIZWxwZXJzLmpvaW4oJy93b3Jrc3BhY2VzJywgJHNjb3BlLm5hbWVzcGFjZSwgJ3Byb2plY3RzJywgJHNjb3BlLnByb2plY3RJZCwgJ3Byb2ZpbGVzJywgJ2NvbnRhaW5lcnMnLCAnYXNzaWduUHJvZmlsZXMnKSk7XG5cbiAgICAkc2NvcGUuZGVwbG95UHJvZmlsZXMgPSAoKSA9PiAkbG9jYXRpb24ucGF0aChVcmxIZWxwZXJzLmpvaW4oJy93b3Jrc3BhY2VzJywgJHNjb3BlLm5hbWVzcGFjZSwgJ3Byb2plY3RzJywgJHNjb3BlLnByb2plY3RJZCwgJ3Byb2ZpbGVzJywgJ2NvbnRhaW5lcnMnLCAnZGVwbG95UHJvZmlsZXMnKSk7XG5cbiAgICBsZXQgdXBkYXRlUHJvZmlsZVZpZXdzID0gcHJvZmlsZXMgPT4gXy5yZWR1Y2UocHJvZmlsZXMsIChwcm9maWxlVmlld3M6IFByb2ZpbGVWaWV3cywgcHJvZmlsZTogUHJvZmlsZSkgPT4ge1xuICAgICAgaWYgKCFfLmhhcyhwcm9maWxlVmlld3MsIHByb2ZpbGUuaWQpKSB7XG4gICAgICAgIHByb2ZpbGVWaWV3c1twcm9maWxlLmlkXSA9IG5ldyBQcm9maWxlVmlldygkc2NvcGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZmlsZVZpZXdzW3Byb2ZpbGUuaWRdLnNjb3BlID0gJHNjb3BlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb2ZpbGVWaWV3cztcbiAgICB9LCAkc2NvcGUucHJvZmlsZVZpZXdzKTtcblxuICAgIF8ua2V5cygkc2NvcGUucHJvZmlsZVZpZXdzKS5mb3JFYWNoKGtleSA9PiBkZWxldGUgJHNjb3BlLnByb2ZpbGVWaWV3c1trZXldKTtcbiAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbigncHJvZmlsZXMnLCB1cGRhdGVQcm9maWxlVmlld3MpO1xuXG4gICAgJHNjb3BlLnJlZnJlc2ggPSAoKSA9PiBwcm9maWxlcy5sb2FkKHdpa2ksICRzY29wZS5icmFuY2gpO1xuXG4gICAgaWYgKCEocHJvZmlsZXMubG9hZGVkIHx8IHByb2ZpbGVzLmxvYWRpbmcpKSB7XG4gICAgICAkc2NvcGUucmVmcmVzaCgpO1xuICAgIH1cbiAgfV0pXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzUGx1Z2luLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzSGVscGVycy50c1wiLz5cblxubW9kdWxlIFByb2ZpbGVzIHtcblxuICBtb2R1bGUuY29udHJvbGxlcignUHJvZmlsZXMuU2V0dGluZ3NDb250cm9sbGVyJywgWyckc2NvcGUnLCAnanN5YW1sJywgKCRzY29wZSwgeWFtbCkgPT4ge1xuICAgICAgJHNjb3BlLnRhYnMgPSBjcmVhdGVQcm9maWxlc1N1Yk5hdkJhcnMoJHNjb3BlLm5hbWVzcGFjZSwgJHNjb3BlLnByb2plY3RJZCk7XG4gICAgICAvLyBBc3NvY2lhdGUgdGhpcyBjb250cm9sbGVyIHNjb3BlIHRvIHRoZSBGb3JnZVByb2plY3RTZXJ2aWNlXG4gICAgICBGb3JnZS51cGRhdGVGb3JnZVByb2plY3QoJHNjb3BlKTtcblxuICAgICAgY29uc3Qgd2lraVJlcG9zaXRvcnkgPSBuZXcgV2lraS5HaXRXaWtpUmVwb3NpdG9yeSgkc2NvcGUpO1xuICBcbiAgICAgIC8vIFdlIHVzZSAkc2NvcGUubG9hZGluZyB0byByZWZlcmVuY2UgY291bnQgbG9hZGluZyBvcGVyYXRpb25zIHNvIHRoYXQgd2Uga25vdyB3aGVuIGFsbCB0aGUgZGF0YVxuICAgICAgLy8gZm9yIHRoaXMgdmlldyBoYXMgYmVlbiBmZXRjaGVkLlxuICAgICAgJHNjb3BlLmxvYWRpbmcgPSAwO1xuXG4gICAgICAkc2NvcGUuY29uZmlnID0ge1xuICAgICAgICBzdHlsZTogSGF3dGlvRm9ybXMuRm9ybVN0eWxlLlNUQU5EQVJELFxuICAgICAgICBtb2RlOiBIYXd0aW9Gb3Jtcy5Gb3JtTW9kZS5WSUVXLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgJ2dpdC5naXRSZW1vdGVVcmlQYXR0ZXJuJzoge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0dpdCByZW1vdGUgVVJJIHBhdHRlcm4gZm9yIGFsbCBjb250YWluZXJzLCBuYW1lIGlzIHRoZSBuYW1lIG9mIHRoZSBjb250YWluZXIsIGUuZy4gcm9vdCdcbiAgICAgICAgICB9LFxuICAgICAgICAgICdnaXQuZ29nc1VzZXJuYW1lJzoge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgJ2dpdC5nb2dzUGFzc3dvcmQnOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdwYXNzd29yZCdcbiAgICAgICAgICB9LFxuICAgICAgICAgICdtYXZlbi5ncm91cElkJzoge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgJ21hdmVuLnZlcnNpb24nOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucmVmcmVzaCA9ICgpID0+IHtcbiAgICAgICAgJHNjb3BlLmxvYWRpbmcrKztcbiAgICAgICAgd2lraVJlcG9zaXRvcnkuZ2V0UGFnZSgkc2NvcGUuYnJhbmNoLCAnZmFicmljOC1wcm9maWxlcy55YW1sJywgbnVsbCwgZGF0YSA9PiB7XG4gICAgICAgICAgJHNjb3BlLmxvYWRpbmctLTtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MgPSBkYXRhLnRleHQ7XG4gICAgICAgICAgJHNjb3BlLnByb3BlcnRpZXMgPSB5YW1sLnNhZmVMb2FkKGRhdGEudGV4dCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCgnbG9hZGluZycsIHZhbHVlID0+ICRzY29wZS5jb25maWcubW9kZSA9IHZhbHVlID4gMFxuICAgICAgICA/IEhhd3Rpb0Zvcm1zLkZvcm1Nb2RlLlZJRVdcbiAgICAgICAgOiBIYXd0aW9Gb3Jtcy5Gb3JtTW9kZS5FRElUKTtcblxuICAgICAgJHNjb3BlLnNhdmUgPSAoKSA9PiB7XG4gICAgICAgIC8vIHRoYXQgc2hvdWxkIGlkZWFsbHkgcHJlc2VydmUgY29tbWVudHMgaW4gdGhlIGV4aXN0aW5nIGZpbGVcbiAgICAgICAgY29uc3QgZWRpdCA9IHlhbWwuc2FmZUR1bXAoJHNjb3BlLnByb3BlcnRpZXMpO1xuICAgICAgICBpZiAoZWRpdCAhPSAkc2NvcGUuc2V0dGluZ3MpIHtcbiAgICAgICAgICAkc2NvcGUubG9hZGluZysrO1xuICAgICAgICAgIC8vIFRPRE86IHVzZSBQYXR0ZXJuRmx5IG5vdGlmaWNhdGlvbnNcbiAgICAgICAgICB3aWtpUmVwb3NpdG9yeS5wdXRQYWdlKCRzY29wZS5icmFuY2gsICdmYWJyaWM4LXByb2ZpbGVzLnlhbWwnLCBlZGl0LCAnVXBkYXRlIHByb2ZpbGVzIHNldHRpbmdzJyxcbiAgICAgICAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgV2lraS5vbkNvbXBsZXRlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgQ29yZS5ub3RpZmljYXRpb24oJ3N1Y2Nlc3MnLCByZXNwb25zZS5maWxlICsgJyBzYXZlZCEnKTtcbiAgICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmctLTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgIENvcmUubm90aWZpY2F0aW9uKCdlcnJvcicsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmctLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucmVmcmVzaCgpO1xuICAgIH1cbiAgXSk7XG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

angular.module("hawtio-profiles-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("plugins/profiles/html/assignProfiles.html","<div ng-controller=\"Profiles.AssignProfilesController\">\n\n  <div class=\"row\">\n    <div template-cache-include=\"plugins/kubernetes/html/tabs.html\"></div>\n  </div>\n\n  <h2>Assign profile(s) to container(s)</h2>\n\n  <div class=\"row\">\n    <form class=\"form-horizontal\">\n      <div class=\"form-group has-feedback\" ng-class=\"profiles.cart.length > 0 ? \'has-success\' : \'has-error\'\">\n        <label class=\"control-label col-sm-2\">Profile(s)</label>\n        <div class=\"col-sm-9\">\n          <div class=\"input-group\">\n            <ui-select multiple sortable=\"true\" ng-model=\"profiles.cart\" theme=\"bootstrap\" aria-describedby=\"selectProfilesStatus\">\n              <ui-select-match placeholder=\"Select profiles...\">\n                <img ng-if=\"$item.iconUrl\" width=\"16px\" height=\"16px\"\n                     class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                     src=\"img/loader.svg\"\n                     http-src=\"{{gitRestUrl($item.iconUrl)}}\" media-type=\"image/svg+xml\" />\n                <img ng-if=\"!$item.iconUrl\" width=\"16px\" height=\"16px\"\n                     class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                     src=\"img/fabric8_icon.svg\" />\n                {{$item.id}}\n              </ui-select-match>\n              <ui-select-choices group-by=\"profileGroups\" repeat=\"profile in (profiles.data | filter: $select.search) track by profile.id\">\n                <img ng-if=\"profile.iconUrl\"\n                     class=\"profile-logo\" style=\"max-width: 32px; max-height: 32px\"\n                     src=\"img/loader.svg\"\n                     http-src=\"{{gitRestUrl(profile.iconUrl)}}\" media-type=\"image/svg+xml\" />\n                <img ng-if=\"!profile.iconUrl\"\n                     class=\"profile-logo\" style=\"max-width: 32px; max-height: 32px\"\n                     src=\"img/fabric8_icon.svg\" />\n                <span ng-bind-html=\"profile.id | highlight: $select.search\"></span>\n              </ui-select-choices>\n              <ui-select-no-choice>\n                <a ng-click=\"refreshProfiles()\">No profile is available. Click to refresh available profiles.</a>\n              </ui-select-no-choice>\n            </ui-select>\n            <span class=\"glyphicon form-control-feedback\" ng-class=\"profiles.cart.length > 0 ? \'glyphicon-ok\' : \'glyphicon-remove\'\" aria-hidden=\"true\"></span>\n            <span id=\"selectProfilesStatus\" class=\"sr-only\">{{profiles.cart.length > 0 ? \'(success)\' : \'(error)\'}}</span>\n            <span class=\"input-group-addon\">\n              <span class=\"fa fa-refresh\" ng-click=\"refreshProfiles()\" ng-class=\"{\'fa-spin\': profiles.loading}\"></span>\n            </span>\n          </div>\n          <span ng-show=\"profiles.cart.length == 0\" class=\"help-block\">At least one profile is required</span>\n        </div>\n      </div>\n      <div class=\"form-group has-feedback\" ng-class=\"containers.cart.length > 0 ? \'has-success\' : \'has-error\'\">\n        <label class=\"control-label col-sm-2\">Container(s)</label>\n        <div class=\"col-sm-9\">\n          <div class=\"input-group\">\n            <ui-select multiple sortable=\"true\" ng-model=\"containers.cart\" theme=\"bootstrap\" aria-describedby=\"selectContainersStatus\">\n              <ui-select-match placeholder=\"Select containers...\">{{$item.name}}</ui-select-match>\n              <ui-select-choices repeat=\"container in (containers.data | filter: $select.search)\">\n                <div ng-bind-html=\"container.name | highlight: $select.search\"></div>\n              </ui-select-choices>\n              <ui-select-no-choice>\n                No container is available! Click on the refresh button\n              </ui-select-no-choice>\n            </ui-select>\n            <span class=\"glyphicon form-control-feedback\" ng-class=\"containers.cart.length > 0 ? \'glyphicon-ok\' : \'glyphicon-remove\'\" aria-hidden=\"true\"></span>\n            <span id=\"selectContainersStatus\" class=\"sr-only\">{{containers.cart.length > 0 ? \'(success)\' : \'(error)\'}}</span>\n            <span class=\"input-group-addon\">\n              <span class=\"fa fa-refresh\" ng-click=\"refreshContainers()\" ng-class=\"{\'fa-spin\': containers.loading}\"></span>\n            </span>\n          </div>\n          <span ng-show=\"containers.cart.length == 0\" class=\"help-block\">At least one container must be selected</span>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <div class=\"col-sm-offset-2 col-sm-9\">\n          <button class=\"btn btn-primary pull-right\" ng-disabled=\"profiles.cart.length == 0 || containers.cart.length == 0 || containers.loading || saving()\" ng-click=\"assignProfiles()\"><i class=\"fa fa-cloud-upload\"></i> Assign</button>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <h2>Containers <i ng-show=\"containers.loading\" class=\"fa fa-refresh fa-spin\"></i> <span class=\"badge\">{{containers.cart.length + \'/\' + containers.data.length}}</span></h2>\n\n  <div class=\"row\" block-ui=\"blockTable\">\n    <div ng-include=\"\'plugins/profiles/html/containerList.html\'\"></div>\n  </div>\n\n</div>\n");
$templateCache.put("plugins/profiles/html/containerList.html","<div ng-controller=\"Profiles.ContainerListController\">\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <table class=\"table table-bordered table-striped\" hawtio-simple-table=\"tableConfig\"></table>\n    </div>\n  </div>\n</div>\n\n<script type=\"text/ng-template\" id=\"containerName.html\">\n  <div class=\"ngCellText nowrap\">\n    <a ng-if=\"row.entity.deployment\" href=\"\" title=\"View details for {{row.entity.name}}\"\n       ng-href=\"{{row.entity.deployment | kubernetesPageLink}}\">\n      {{row.entity.name}}\n    </a>\n    <span ng-if=\"!row.entity.deployment\">{{row.entity.name}}</span>\n  </div>\n</script>\n\n<script type=\"text/ng-template\" id=\"containerPods.html\">\n  <div class=\"ngCellText nowrap\">\n    <i ng-if=\"!row.entity.deployment || row.entity.deployment.$pods.length === 0\" class=\"fa fa-power-off\"></i>\n    <ul class=\"plain-list\">\n      <li ng-repeat=\"pod in row.entity.deployment.$pods\">\n        <i ng-class=\"pod.$statusCss\"></i>\n        <a href=\"\" title=\"View details for {{pod.metadata.name}}\"\n           ng-href=\"{{pod | kubernetesPageLink}}\">\n          {{pod.metadata.name}}\n        </a>\n        <span ng-show=\"pod.$jolokiaUrl && pod.$ready\" ng-controller=\"Kubernetes.ConnectController\">\n          <!--\n            Redirects to the OpenShift JVM plugin for the corresponding pod\n            Requires to use the \'serve-site\' task for local development\n          -->\n          <a class=\"clickable\"\n             ng-click=\"doConnect(pod)\"\n             title=\"Open a new window and connect to this container\">\n            <i class=\"fa fa-sign-in\"></i>\n          </a>\n        </span>\n        <span ng-show=\"pod.status.phase === \'Running\'\" ng-controller=\"Kubernetes.TermController\">\n          <span ng-repeat=\"container in pod.spec.containers\" ng-show=\"canConnectTo(container)\">\n            <a href=\"\" ng-href=\"{{pod | kubernetesPageLink:\'term\':container.name}}\">\n              <i class=\"fa fa-television clickable\" title=\"Open up a terminal to {{pod.metadata.name}}:{{container.name}}\"></i>\n            </a>\n          </span>\n        </span>\n        <span ng-show=\"pod.status.phase === \'Running\'\" ng-controller=\"Kubernetes.PodLogLinkController\">\n          <span ng-repeat=\"container in pod.spec.containers\">\n            <a href=\"\" ng-href=\"{{pod | kubernetesPageLink:\'log\':container.name}}\">\n              <i class=\"fa fa-file-text clickable\" title=\"Open up the log for {{pod.metadata.name}}:{{container.name}}\"></i>\n            </a>\n          </span>\n        </span>\n      </li>\n    </ul>\n  </div>\n</script>\n\n<script type=\"text/ng-template\" id=\"containerTypes.html\">\n  <div class=\"ngCellText nowrap\">\n    <ul class=\"plain-list\">\n      <li class=\"inline-block\" ng-repeat=\"icon in row.entity.icons\">\n        <hawtio-icon config=\"icon\"/>\n      </li>\n    </ul>\n  </div>\n</script>\n\n<script type=\"text/ng-template\" id=\"containerProfiles.html\">\n  <div class=\"ngCellText nowrap\">\n    <ul class=\"plain-list\">\n      <li class=\"inline-block\" ng-repeat=\"profile in row.entity.profiles\">\n        <button ng-if=\"profile.id\" class=\"btn btn-link\" ng-click=\"$parent.$parent.$parent.$parent.viewProfile(profile);$event.stopPropagation();\">{{profile.id}} <i class=\"fa fa-files-o\"></i></button>\n        <span ng-if=\"!profile.id\" class=\"text-muted\">\n          {{profile}}\n          <i ng-if=\"$parent.$parent.$parent.$parent.profiles.loading\" class=\"fa fa-refresh fa-spin\"></i>\n          <i ng-if=\"$parent.$parent.$parent.$parent.profiles.loaded\" class=\"fa fa-chain-broken\"></i>\n        </span>\n      </li>\n    </ul>\n  </div>\n</script>");
$templateCache.put("plugins/profiles/html/containers.html","<div ng-controller=\"Profiles.ContainersController\">\n\n  <div class=\"row\">\n    <div template-cache-include=\"plugins/kubernetes/html/tabs.html\"></div>\n  </div>\n\n  <button class=\"btn btn-primary pull-right\" ng-disabled=\"containers.loading\" ng-click=\"refresh()\">\n    <i class=\"fa fa-refresh\" ng-class=\"{\'fa-spin\': containers.loading}\"></i> Refresh\n  </button>\n\n  <h2>Containers <i ng-show=\"containers.loading\" class=\"fa fa-refresh fa-spin\"></i> <span class=\"badge\" ng-show=\"containers.data.length > 0\">{{containers.length}}</span></h2>\n\n  <div class=\"row\" block-ui=\"blockTable\">\n    <div ng-include=\"\'plugins/profiles/html/containerList.html\'\"></div>\n  </div>\n\n  <div class=\"row pull-right\">\n    <button class=\"btn btn-link\"\n            type=\"button\"\n            ng-disabled=\"containers.loading || saving()\"\n            ng-click=\"createContainers()\"\n            title=\"Create new container(s) from a set of profiles\">\n      Create <i class=\"fa fa-cubes\"></i>\n    </button>\n    <button class=\"btn btn-link\"\n            type=\"button\"\n            ng-disabled=\"!containers.cart.length || containers.loading || saving()\"\n            ng-click=\"assignProfiles()\"\n            title=\"Modify the selected container(s) by changing the set of profiles\">\n      Assign profiles <i class=\"fa fa-magic\"></i>\n    </button>\n    <button class=\"btn btn-danger\"\n            type=\"button\"\n            ng-disabled=\"!containers.cart.length || containers.loading || saving()\"\n            ng-click=\"deleteContainers()\"\n            title=\"Delete the selected container(s)\">\n      Delete <i class=\"fa fa-times-circle\"></i>\n    </button>\n  </div>\n\n</div>");
$templateCache.put("plugins/profiles/html/deployProfiles.html","<div ng-controller=\"Profiles.DeployProfilesController\">\n\n  <div class=\"row\">\n    <div template-cache-include=\"plugins/kubernetes/html/tabs.html\"></div>\n  </div>\n\n  <h2>Deploy profile(s) into new container(s)</h2>\n\n  <div class=\"row\">\n    <form class=\"form-horizontal\">\n      <div class=\"form-group has-feedback\" ng-class=\"profiles.cart.length > 0 ? \'has-success\' : \'has-error\'\">\n        <label class=\"control-label col-sm-2\">Profile(s)</label>\n        <div class=\"col-sm-9\">\n          <div class=\"input-group\">\n            <ui-select multiple sortable=\"true\" ng-model=\"profiles.cart\" theme=\"bootstrap\" aria-describedby=\"selectProfilesStatus\">\n              <ui-select-match placeholder=\"Select profiles...\">\n                <img ng-if=\"$item.iconUrl\" width=\"16px\" height=\"16px\"\n                     class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                     src=\"img/loader.svg\"\n                     http-src=\"{{gitRestUrl($item.iconUrl)}}\" media-type=\"image/svg+xml\" />\n                <img ng-if=\"!$item.iconUrl\" width=\"16px\" height=\"16px\"\n                     class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                     src=\"img/fabric8_icon.svg\" />\n                {{$item.id}}\n              </ui-select-match>\n              <ui-select-choices group-by=\"profileGroups\" repeat=\"profile in (profiles.data | filter: $select.search) track by profile.id\">\n                <img ng-if=\"profile.iconUrl\"\n                     class=\"profile-logo\" style=\"max-width: 32px; max-height: 32px\"\n                     src=\"img/loader.svg\"\n                     http-src=\"{{gitRestUrl(profile.iconUrl)}}\" media-type=\"image/svg+xml\" />\n                <img ng-if=\"!profile.iconUrl\"\n                     class=\"profile-logo\" style=\"max-width: 32px; max-height: 32px\"\n                     src=\"img/fabric8_icon.svg\" />\n                <span ng-bind-html=\"profile.id | highlight: $select.search\"></span>\n              </ui-select-choices>\n              <ui-select-no-choice>\n                <a ng-click=\"refreshProfiles()\">No profile is available. Click to refresh available profiles.</a>\n              </ui-select-no-choice>\n            </ui-select>\n            <span class=\"glyphicon form-control-feedback\" ng-class=\"profiles.cart.length > 0 ? \'glyphicon-ok\' : \'glyphicon-remove\'\" aria-hidden=\"true\"></span>\n            <span id=\"selectProfilesStatus\" class=\"sr-only\">{{profiles.cart.length > 0 ? \'(success)\' : \'(error)\'}}</span>\n            <span class=\"input-group-addon\">\n              <span class=\"fa fa-refresh\" ng-click=\"refreshProfiles()\" ng-class=\"{\'fa-spin\': profiles.loading}\"></span>\n            </span>\n          </div>\n          <span ng-show=\"profiles.cart.length == 0\" class=\"help-block\">At least one profile is required</span>\n        </div>\n      </div>\n      <div class=\"form-group has-feedback\" ng-class=\"(status = select.names.length > 0 ? ((existing = existingContainers(select.names)).length > 0 ? \'has-warning\' : \'has-success\') : \'has-error\')\">\n        <label class=\"control-label col-sm-2\">Name(s)</label>\n        <div class=\"col-sm-9\">\n          <ui-select multiple tagging tagging-label=\"false\" tagging-tokens=\"ENTER|SPACE\" ng-model=\"select.names\" theme=\"bootstrap\" aria-describedby=\"selectNamesStatus\">\n            <ui-select-match placeholder=\"Enter names...\">\n              <span ng-if=\"existing.indexOf($item) >= 0\" class=\"glyphicon glyphicon-alert\" ng-class=\"{\'text-warning\': $selectMultiple.activeMatchIndex !== $index}\" aria-hidden=\"true\"></span>\n              <span ng-class=\"{\'text-warning\': existing.indexOf($item) >= 0 && $selectMultiple.activeMatchIndex !== $index}\">{{$item}}</span>\n            </ui-select-match>\n            <ui-select-choices repeat=\"item in []\"></ui-select-choices>\n          </ui-select>\n          <span class=\"glyphicon form-control-feedback\" ng-class=\"select.names.length > 0 ? (existing.length > 0 ? \'glyphicon-warning-sign\' : \'glyphicon-ok\') : \'glyphicon-remove\'\" aria-hidden=\"true\"></span>\n          <span id=\"selectNamesStatus\" class=\"sr-only\">{{select.names.length > 0 ? \'(success)\' : \'(error)\'}}</span>\n          <span ng-show=\"select.names.length == 0\" class=\"help-block\">At least one container name is required</span>\n          <span ng-show=\"select.names.length != 0 && existing.length > 0\" class=\"help-block\">Some container profiles will be overwritten</span>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <div class=\"col-sm-offset-2 col-sm-9\">\n          <button class=\"btn btn-primary pull-right\" ng-disabled=\"profiles.cart.length == 0 || select.names.length == 0 || containers.loading || saving()\" ng-click=\"deployProfiles()\"><i class=\"fa fa-cloud-upload\"></i> Deploy</button>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <h2>Existing containers <i ng-show=\"containers.loading\" class=\"fa fa-refresh fa-spin\"></i> <span class=\"badge\">{{containers.data.length}}</span></h2>\n\n  <div class=\"row\" block-ui=\"blockTable\">\n    <div ng-include=\"\'plugins/profiles/html/containerList.html\'\"></div>\n  </div>\n\n</div>\n");
$templateCache.put("plugins/profiles/html/profileSummary.html","<div class=\"row\">\n  <div class=\"col-md-2\">\n    <a ng-href=\"{{wikiLink(profile.path)}}\">Details...</a>\n    <!-- ideally angular-img-http-src would reuse the same BLOB for the same URLs though\n         it seems it creates a new one each time -->\n    <!-- TODO: use the fileExtensionTypeRegistry service to retrieve the MIME type -->\n    <img class=\"profile-logo\" ng-if=\"profile.iconUrl\" src=\"img/loader.svg\" http-src=\"{{gitRestUrl(profile.iconUrl)}}\" media-type=\"image/svg+xml\" />\n    <img class=\"profile-logo\" ng-if=\"!profile.iconUrl\" src=\"img/fabric8_icon.svg\" />\n  </div>\n\n  <div class=\"col-md-10\">\n    <i ng-hide=\"profile.summary\" class=\"fa fa-refresh fa-spin\"></i>\n    <!-- We need to use compile directive so that the http-src directive from angular-img-http-src applied -->\n    <div class=\"profile-summary\" ng-show=\"profile.summary\" compile=\"profile.summary\"></div>\n  </div>\n</div>");
$templateCache.put("plugins/profiles/html/profiles.html","<div ng-controller=\"Profiles.ProfilesController\">\n\n  <div class=\"row\">\n    <div template-cache-include=\"plugins/kubernetes/html/tabs.html\"></div>\n  </div>\n\n  <button class=\"btn btn-primary pull-right\" ng-disabled=\"loading()\" ng-click=\"refresh()\">\n    <i class=\"fa fa-refresh\" ng-class=\"{\'fa-spin\': loading()}\"></i> Refresh\n  </button>\n\n  <h2 class=\"inline-block\">\n    Profiles\n    <i ng-show=\"loading()\" class=\"fa fa-refresh fa-spin\"></i>\n    <span class=\"badge\" ng-show=\"profiles.length > 0\">{{selectedTags.length > 0 || !isBlank(searchFilter) ? (filteredProfiles = (profiles | selectedTags:\'tags\':selectedTags | filterCollection:searchFilter)).length + \' / \' + profiles.length : (filteredProfiles = profiles).length}}</span>\n    <hawtio-filter ng-model=\"searchFilter\"\n                   css-class=\"search-input\"\n                   placeholder=\"Search...\"\n                   save-as=\"profiles-search-filter\">\n    </hawtio-filter>\n  </h2>\n\n  <div>\n    <div class=\"row-fluid\">\n      <div class=\"col-md-8\">\n        <accordion close-others=\"false\">\n          <accordion-group ng-init=\"profileView = profileViews[profile.id]\" is-open=\"profileView.openOrSingle\" ng-repeat=\"profile in filteredProfiles\">\n            <accordion-heading>\n              <div class=\"pull-left\">\n                <i class=\"glyphicon\" ng-class=\"{\'glyphicon-chevron-down\': profileView.openOrSingle, \'glyphicon-chevron-right\': !profileView.openOrSingle}\"></i>\n              </div>\n              <div class=\"pull-right\">\n                <!-- See https://github.com/angular-ui/bootstrap/issues/3299 -->\n                <hawtio-tag-list tags=\"profile.tags\" selected=\"selectedTags\"\n                                 ng-click=\"$event.stopPropagation();$event.preventDefault();\"></hawtio-tag-list>\n                <input type=\"checkbox\" ng-checked=\"isInGroup(selection, profile)\"\n                       ng-click=\"toggleSelectionFromGroup(selection, profile);$event.stopPropagation();\">\n              </div>\n              <div class=\"ellipsis\">\n                {{profile.id}}\n              </div>\n            </accordion-heading>\n            <div ng-if=\"profileView.openOrSingle\" ng-include=\"\'plugins/profiles/html/profileSummary.html\'\" onload=\"loadSummary(profile)\"></div>\n          </accordion-group>\n        </accordion>\n      </div>\n\n      <div class=\"col-md-4\">\n        <div class=\"panel panel-default\">\n          <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i class=\"fa fa-cart-arrow-down\"></i> Selection</h3>\n          </div>\n          <div class=\"panel-body\">\n            <div ng-hide=\"selection.length > 0\">\n              <em class=\"text-muted\">Select profiles...</em>\n            </div>\n            <ul class=\"plain-list\">\n              <li class=\"inline-block\" style=\"max-width: 100%\" ng-repeat=\"profile in selection\">\n                <span type=\"button\" style=\"max-width: 100%\" class=\"btn btn-default btn-xs ellipsis\">\n                  <span type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"toggleSelectionFromGroup(selection, profile)\"><span aria-hidden=\"true\">&times;</span>\n                  </span>\n                  <img ng-if=\"profile.iconUrl\" width=\"16px\" height=\"16px\"\n                       class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                       src=\"img/loader.svg\"\n                       http-src=\"{{gitRestUrl(profile.iconUrl)}}\" media-type=\"image/svg+xml\" />\n                  <img ng-if=\"!profile.iconUrl\" width=\"16px\" height=\"16px\"\n                       class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                       src=\"img/fabric8_icon.svg\" />\n                  <span>\n                    {{profile.id}}\n                  </span>\n                </span>\n                <small><i ng-if=\"!$last\" class=\"fa fa-plus text-muted\"></i></small>\n                <span ng-if=\"$last\" type=\"button\" class=\"glyphicon glyphicon-trash text-muted\" ng-click=\"selection.length = 0\" aria-hidden=\"true\"></span>\n              </li>\n            </ul>\n            <div class=\"pull-right\">\n              <button class=\"btn btn-link\"\n                      type=\"button\"\n                      ng-disabled=\"!selection.length\"\n                      ng-click=\"deployProfiles()\"\n                      title=\"Deploy the selected profile(s) into new container(s)\">\n                Deploy <i class=\"fa fa-cubes\"></i>\n              </button>\n              <button class=\"btn btn-link\"\n                      type=\"button\"\n                      ng-disabled=\"!selection.length\"\n                      ng-click=\"assignProfiles()\"\n                      title=\"Assign the selected profile(s) to existing container(s)\">\n                Assign <i class=\"fa fa-magic\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"panel panel-default\">\n          <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i class=\"fa fa-tags\"></i> Tags</h3>\n          </div>\n          <div class=\"panel-body\">\n            <hawtio-tag-filter class=\"tag-filter\"\n                               tags=\"tags\"\n                               selected=\"selectedTags\"\n                               collection=\"profiles\"\n                               collection-property=\"tags\">\n            </hawtio-tag-filter>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("plugins/profiles/html/settings.html","<div ng-controller=\"Profiles.SettingsController\">\n\n  <div class=\"row\">\n    <div template-cache-include=\"plugins/kubernetes/html/tabs.html\"></div>\n  </div>\n\n  <button class=\"btn btn-primary pull-right\" ng-disabled=\"loading != 0\" ng-click=\"refresh()\">\n    <i class=\"fa fa-refresh\" ng-class=\"{\'fa-spin\': loading != 0}\"></i> Refresh\n  </button>\n\n  <h2>Settings <i ng-hide=\"loading == 0\" class=\"fa fa-refresh fa-spin\"></i></h2>\n\n  <div>\n    Settings for building containers from Fabric8 profiles repository\n  </div>\n\n  <div class=\"row\">\n    <button class=\"btn btn-primary pull-right\"\n            title=\"Saves changes to profiles settings\"\n            ng-disabled=\"loading != 0\"\n            ng-click=\"save()\">\n        Save Changes\n    </button>\n  </div>\n\n  <div hawtio-form-2=\"config\" entity=\"properties\"></div>\n\n</div>");}]); hawtioPluginLoader.addModule("hawtio-profiles-templates");