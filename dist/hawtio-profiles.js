

var Profiles;
(function (Profiles) {
    function createProfilesSubNavBars(namespace, projectId) {
        return Developer.activateCurrent([
            {
                href: UrlHelpers.join(HawtioCore.documentBase(), '/workspaces', namespace, 'projects', projectId, 'profiles'),
                label: 'Profiles',
                title: 'Profiles'
            },
            {
                href: UrlHelpers.join(HawtioCore.documentBase(), '/workspaces', namespace, 'projects', projectId, 'profiles', 'containers'),
                label: 'Containers',
                title: 'Containers',
                isActive: function (item, path) { return _.startsWith(path, item.href); }
            },
            {
                href: UrlHelpers.join(HawtioCore.documentBase(), '/workspaces', namespace, 'projects', projectId, 'profiles', 'settings'),
                label: 'Settings',
                title: 'Settings'
            }
        ]);
    }
    Profiles.createProfilesSubNavBars = createProfilesSubNavBars;
    function parseProperties(content) {
        return content.split('\n').reduce(function (properties, line) {
            var property = /^([^#=]+)=(.*)$/.exec(line.trim());
            if (property) {
                properties[property[1].trim()] = property[2].trim();
            }
            return properties;
        }, {});
    }
    Profiles.parseProperties = parseProperties;
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    Profiles.pluginName = 'profiles';
    Profiles.log = Logger.get(Profiles.pluginName);
    Profiles.templatePath = 'plugins/' + Profiles.pluginName + '/html/';
    Profiles.module = angular.module(Profiles.pluginName, ['hawtio-core', 'hawtio-ui', 'hawtio-forms', 'blockUI', 'ui.select', 'ngSanitize']);
    Profiles.module.config(['$routeProvider', 'blockUIConfig', function ($routeProvider, blockUIConfig) {
            blockUIConfig.autoBlock = false;
            blockUIConfig.delay = 0;
            var join = UrlHelpers.join;
            var route = Developer.createTabRoutingFunction(Profiles.templatePath);
            var base = '/workspaces/:namespace/projects/:projectId/profiles';
            Developer.customProjectSubTabFactories.push(function (context) {
                if (context.$scope) {
                    Forge.updateForgeProject(context.$scope);
                }
                return [{
                        isValid: function () { return context.projectLink && Developer.forgeReadyLink() && Forge.forgeProject().hasPerspective('fabric8-profiles'); },
                        href: join(context.projectLink, 'profiles'),
                        class: 'fa fa-code-fork',
                        label: 'Profiles',
                        title: 'Browse the profiles of this project',
                        isActive: function (subTab, path) { return _.startsWith(path, join(context.projectLink, 'profiles')); }
                    }];
            });
            $routeProvider
                .when(base, route('profiles.html', false))
                .when(join(base, 'containers', 'assignProfiles'), route('assignProfiles.html', false))
                .when(join(base, 'containers', 'deployProfiles'), route('deployProfiles.html', false))
                .when(join(base, 'containers'), route('containers.html', false))
                .when(join(base, 'settings'), route('settings.html', false));
        }]);
    Profiles.module.directive('templateCacheInclude', ['$compile', '$templateCache', function ($compile, $templateCache) { return ({
            restrict: 'A',
            priority: 400,
            compile: function (element, attrs) {
                var templateName = attrs.templateCacheInclude;
                var template = $templateCache.get(templateName);
                return function (scope, element) {
                    element.html(template);
                    $compile(element.contents())(scope);
                };
            }
        }); }
    ]);
    hawtioPluginLoader.addModule(Profiles.pluginName);
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    Profiles.module.controller('Profiles.AssignProfilesController', ['$scope', '$location', '$templateCache', 'profiles', 'containers', 'blockUI', function ($scope, $location, $templateCache, profiles, containers, blockUI) {
            $scope.tabs = Profiles.createProfilesSubNavBars($scope.namespace, $scope.projectId);
            Forge.updateForgeProject($scope);
            $scope.gitRestUrl = function (path) { return Wiki.gitRestURL($scope, path); };
            $scope.profiles = profiles;
            $scope.containers = containers;
            $scope.selectable = true;
            $scope.profileGroups = function (profile) { return profile.tags.length > 0 ? profile.tags[0] : ''; };
            var saving = 0;
            $scope.saving = function () { return saving > 0; };
            var blockTable = blockUI.instances.get('blockTable');
            $scope.assignProfiles = function () {
                var wiki = new Wiki.GitWikiRepository($scope);
                var success = function (response) {
                    Wiki.onComplete(response);
                    Core.notification('success', response.file + ' saved!');
                    complete();
                };
                var failure = function (response) {
                    Core.notification('error', response);
                    complete();
                };
                var complete = function () {
                    if (--saving === 0) {
                        blockTable.message('Refreshing ...');
                        containers.load(wiki, $scope.branch).then(function () {
                            blockTable.stop();
                            $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers'));
                        });
                    }
                };
                blockTable.start("Saving ...");
                containers.cart.forEach(function (container) {
                    saving++;
                    wiki.putPage($scope.branch, container.path, assignProfiles(container, profiles.cart), 'Assign profiles', success, failure);
                });
            };
            var assignProfiles = function (container, profiles) {
                return container.text.replace(/^(profiles)=(.*)$/m, function (match, key, value) { return key + '=' + profiles.map(function (profile) { return profile.id; }).join(' '); });
            };
            $scope.refreshContainers = function () { return containers.load(new Wiki.GitWikiRepository($scope), $scope.branch); };
            $scope.refreshProfiles = function () {
                if (!profiles.loading) {
                    profiles.load(new Wiki.GitWikiRepository($scope), $scope.branch);
                }
            };
            if (!(containers.loaded || containers.loading)) {
                $scope.refreshContainers();
            }
        }]);
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    Profiles.module.controller('Profiles.ContainerListController', ['$scope', '$location', '$templateCache', 'profiles', 'containers', 'KubernetesModel',
        function ($scope, $location, $templateCache, profiles, containers, kubernetes) {
            $scope.viewProfile = function (profile) { return $location.path(Wiki.viewLink($scope.projectId, $scope.branch, profile.path, $location)); };
            $scope.profiles = profiles;
            $scope.containers = containers;
            $scope.tableConfig = {
                data: 'containers.data',
                showSelectionCheckbox: $scope.selectable || false,
                enableRowClickSelection: $scope.selectable || false,
                multiSelect: true,
                selectedItems: $scope.selectable ? containers.cart : [],
                filterOptions: {
                    filterText: $location.search()['q'] || ''
                },
                columnDefs: [
                    { field: 'name',
                        displayName: 'Name',
                        cellTemplate: $templateCache.get('containerName.html')
                    },
                    { field: 'pods',
                        displayName: 'Pods',
                        cellTemplate: $templateCache.get('containerPods.html')
                    },
                    { field: 'types',
                        displayName: 'Types',
                        cellTemplate: $templateCache.get('containerTypes.html')
                    },
                    { field: 'profiles',
                        displayName: 'Profiles',
                        cellTemplate: $templateCache.get('containerProfiles.html')
                    }
                ]
            };
            $scope.$watchCollection('profiles.data', function (profiles) {
                return containers.data.forEach(function (container) {
                    return profiles.forEach(function (profile) {
                        var i = _.indexOf(container.profiles, profile.id);
                        if (i >= 0) {
                            container.profiles[i] = profile;
                        }
                    });
                });
            });
            $scope.$watch('containers.cart', function (containers) {
                $scope.tableConfig.selectedItems = containers;
                $scope.$broadcast('hawtio.datatable.containers.data');
            });
            $scope.$on('kubernetesModelUpdated', function () {
                return _.filter(containers.data, function (container) { return !container.rc; })
                    .forEach(function (container) { return container.rc = kubernetes.getReplicationController($scope.namespace || Kubernetes.currentKubernetesNamespace(), container.name); });
            });
            if (!(containers.loaded || containers.loading)) {
                $scope.refresh();
            }
        }]);
    Profiles.module.filter('kubernetesPageLink', function () { return function (entity, path1, path2) { return UrlHelpers.join(Kubernetes.entityPageLink(entity), path1, path2); }; });
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    var icons = {
        camel: 'camel',
        jenkinsfile: 'jenkins',
        karaf: 'karaf'
    };
    var Containers = (function () {
        function Containers(profiles, kubernetes, $q) {
            var _this = this;
            this.loaded = false;
            this.loading = false;
            this.requests = 0;
            this.data = [];
            this.cart = [];
            this.load = function (wiki, branch, namespace) {
                _this.loading = true;
                _this.requests++;
                var data = [];
                var deferred = _this.$q.defer();
                wiki.getPage(branch, 'configs/containers', null, function (page) {
                    _.forEach(page.children, function (child) {
                        if (!child.directory && _.endsWith(child.name, '.cfg')) {
                            _this.requests++;
                            wiki.getPage(branch, child.path, null, function (page) {
                                var properties = Profiles.parseProperties(page.text);
                                var container = {
                                    name: page.name.replace(/.cfg$/, ''),
                                    path: page.path,
                                    text: page.text,
                                    rc: _this.kubernetes.getReplicationController(namespace || Kubernetes.currentKubernetesNamespace(), page.name.replace(/.cfg$/, '')),
                                    profiles: _.map(properties['profiles'].split(' '), function (profile) { return _.find(_this.profiles.data, { id: profile }) || profile; }),
                                    types: properties['container-type'].split(' '),
                                    icons: properties['container-type'].split(' ').map(function (type) { return {
                                        title: type,
                                        type: 'img',
                                        src: 'img/icons/' + (type.toLowerCase() in icons ? icons[type.toLowerCase()] : 'java') + '.svg'
                                    }; })
                                };
                                if (container.rc) {
                                    var type = container.rc.metadata.labels.container.toLocaleLowerCase();
                                    container.icons = [
                                        {
                                            title: type,
                                            type: 'img',
                                            src: 'img/icons/' + (type in icons ? icons[type] : 'java') + '.svg'
                                        },
                                        {
                                            type: 'img',
                                            src: container.rc.$iconUrl
                                        }];
                                }
                                data.push(container);
                                _this.complete(data);
                            });
                        }
                    });
                    _this.complete(data);
                    deferred.resolve();
                });
                return deferred.promise;
            };
            this.complete = function (data) {
                if (--_this.requests === 0) {
                    _this.data.length = 0;
                    (_a = _this.data).push.apply(_a, data);
                    _this.loading = false;
                    _this.loaded = true;
                }
                var _a;
            };
            this.profiles = profiles;
            this.kubernetes = kubernetes;
            this.$q = $q;
        }
        return Containers;
    }());
    Profiles.Containers = Containers;
    Profiles.module.service('containers', ['profiles', 'KubernetesModel', '$q', Containers]);
    Profiles.module.controller('Profiles.ContainersController', ['$scope', '$location', 'containers', 'blockUI',
        function ($scope, $location, containers, blockUI) {
            $scope.tabs = Profiles.createProfilesSubNavBars($scope.namespace, $scope.projectId);
            Forge.updateForgeProject($scope);
            $scope.containers = containers;
            $scope.selectable = true;
            var saving = 0;
            $scope.saving = function () { return saving > 0; };
            var blockTable = blockUI.instances.get('blockTable');
            $scope.createContainers = function () { return $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers', 'deployProfiles')); };
            $scope.assignProfiles = function () { return $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers', 'assignProfiles')); };
            $scope.deleteContainers = function () {
                var wiki = new Wiki.GitWikiRepository($scope);
                var success = function (response, container) {
                    Wiki.onComplete(response);
                    Core.notification('success', container + ' deleted!');
                    complete();
                };
                var failure = function (response) {
                    Core.notification('error', response);
                    complete();
                };
                var complete = function () {
                    if (--saving === 0) {
                        blockTable.message('Refreshing ...');
                        containers.load(wiki, $scope.branch).then(function () {
                            blockTable.stop();
                            $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers'));
                        });
                    }
                };
                blockTable.start("Saving ...");
                containers.cart.forEach(function (container) {
                    saving++;
                    wiki.removePage($scope.branch, container.path, 'Delete container', function (response) { return success(response, container.name); });
                });
            };
            $scope.refresh = function () { return containers.load(new Wiki.GitWikiRepository($scope), $scope.branch, $scope.namespace); };
        }]);
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    Profiles.module.controller('Profiles.DeployProfilesController', ['$scope', '$location', '$templateCache', 'profiles', 'containers', 'blockUI', function ($scope, $location, $templateCache, profiles, containers, blockUI) {
            $scope.tabs = Profiles.createProfilesSubNavBars($scope.namespace, $scope.projectId);
            Forge.updateForgeProject($scope);
            $scope.gitRestUrl = function (path) { return Wiki.gitRestURL($scope, path); };
            $scope.profiles = profiles;
            $scope.containers = containers;
            $scope.select = {
                names: []
            };
            $scope.selectable = false;
            $scope.profileGroups = function (profile) { return profile.tags.length > 0 ? profile.tags[0] : ''; };
            var saving = 0;
            $scope.saving = function () { return saving > 0; };
            var blockTable = blockUI.instances.get('blockTable');
            $scope.deployProfiles = function () {
                var wiki = new Wiki.GitWikiRepository($scope);
                var success = function (response) {
                    Wiki.onComplete(response);
                    Core.notification('success', response.file + ' saved!');
                    complete();
                };
                var failure = function (response) {
                    Core.notification('error', response);
                    complete();
                };
                var complete = function () {
                    if (--saving === 0) {
                        blockTable.message('Refreshing ...');
                        containers.load(wiki, $scope.branch).then(function () {
                            blockTable.stop();
                            $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers'));
                        });
                    }
                };
                blockTable.start("Saving ...");
                saving++;
                $scope.select.names.forEach(function (name) {
                    return wiki.putPage($scope.branch, 'configs/containers/' + name + '.cfg', deployProfiles(name, profiles.cart), 'Deploy profiles into ' + name, success, failure);
                });
            };
            var deployProfiles = function (container, profiles) {
                return profiles.reduce(function (profiles, profile) { return profiles + profile.id + ' '; }, 'profiles=')
                    .concat('\n')
                    .concat('container-type=karaf jenkinsfile');
            };
            $scope.existingContainers = function (names) { return _.intersection(names, _.pluck(containers.data, 'name')); };
            $scope.refreshContainers = function () { return containers.load(new Wiki.GitWikiRepository($scope), $scope.branch); };
            $scope.refreshProfiles = function () {
                if (!profiles.loading) {
                    profiles.load(new Wiki.GitWikiRepository($scope), $scope.branch);
                }
            };
            if (!(containers.loaded || containers.loading)) {
                $scope.refreshContainers();
            }
        }]);
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles_1) {
    var Profiles = (function () {
        function Profiles() {
            var _this = this;
            this.loaded = false;
            this.loading = false;
            this.data = [];
            this.cart = [];
            this.requests = 0;
            this.load = function (wiki, branch, path) {
                if (path === void 0) { path = 'profiles'; }
                _this.loading = true;
                _this.data.length = 0;
                _this.requests = 0;
                _this.findProfiles(wiki, branch, path);
            };
            this.findProfiles = function (wiki, branch, path) {
                _this.requests++;
                wiki.getPage(branch, path, null, function (data) {
                    if (data.children) {
                        _.forEach(data.children, function (value) {
                            if (value.directory && _.endsWith(value.name, '.profile')) {
                                _this.loadProfile(wiki, branch, value);
                            }
                            else if (value.directory) {
                                _this.findProfiles(wiki, branch, value.path);
                            }
                        });
                    }
                    _this.complete();
                });
            };
            this.loadProfile = function (wiki, branch, value) {
                var info = /^profiles\/((?:.+)\/)*(.+).profile$/.exec(value.path);
                var profile = {
                    id: (info[1] ? info[1].replace(/\//g, '-') : '') + info[2],
                    name: info[2],
                    path: value.path,
                    tags: info[1] ? info[1].slice(0, -1).split('/') : []
                };
                _this.requests++;
                wiki.getPage(branch, value.path, null, function (data) {
                    for (var _i = 0, _a = data.children; _i < _a.length; _i++) {
                        var child = _a[_i];
                        var name_1 = child.name.toUpperCase();
                        if (name_1 == 'README.MD' || name_1 == 'SUMMARY.MD') {
                            profile.summaryUrl = child.path;
                        }
                        else if (name_1 == 'ICON.SVG') {
                            profile.iconUrl = child.path;
                        }
                    }
                    _this.data.splice(_.sortedIndex(_this.data, profile, 'id'), 0, profile);
                    var i = _.findIndex(_this.cart, { id: profile.id });
                    if (i >= 0) {
                        _this.cart[i] = profile;
                    }
                    _this.complete();
                });
            };
            this.complete = function () {
                if (--_this.requests === 0) {
                    SelectionHelpers.syncGroupSelection(_this.cart, _this.data, 'id');
                    _this.loading = false;
                    _this.loaded = true;
                }
            };
        }
        return Profiles;
    }());
    Profiles_1.Profiles = Profiles;
    var ProfileView = (function () {
        function ProfileView(scope) {
            this.scope = scope;
        }
        Object.defineProperty(ProfileView.prototype, "openOrSingle", {
            get: function () {
                var scope = this.scope;
                if (scope.filteredProfiles.length === 1) {
                    if (!this.force && (!scope.loading() || scope.profiles.length > 1)) {
                        return true;
                    }
                }
                else {
                    this.force = false;
                }
                return this.open;
            },
            set: function (open) {
                if (this.scope.filteredProfiles.length === 1) {
                    this.force = true;
                }
                this.open = open;
            },
            enumerable: true,
            configurable: true
        });
        return ProfileView;
    }());
    var ProfileViews = (function () {
        function ProfileViews() {
            this.selectedTags = [];
            this.profileViews = {};
        }
        return ProfileViews;
    }());
    Profiles_1.module.service('profiles', Profiles);
    Profiles_1.module.service('profileViews', ProfileViews);
    Profiles_1.module.filter('filterCollection', function () { return function (collection, text) {
        return Core.isBlank(text)
            ? collection
            : _.filter(collection, function (item) { return FilterHelpers.searchObject(item, text); });
    }; });
    Profiles_1.module.controller('Profiles.ProfilesController', ['$scope', '$location', 'marked', '$sce', 'profiles', 'profileViews',
        function ($scope, $location, marked, $sce, profiles, profileViews) {
            $scope.tabs = Profiles_1.createProfilesSubNavBars($scope.namespace, $scope.projectId);
            Forge.updateForgeProject($scope);
            $scope.gitRestUrl = function (path) { return Wiki.gitRestURL($scope, path); };
            $scope.profiles = profiles.data;
            $scope.selection = profiles.cart;
            $scope.selectedTags = profileViews.selectedTags;
            $scope.profileViews = profileViews.profileViews;
            SelectionHelpers.decorate($scope);
            $scope.isBlank = Core.isBlank;
            $scope.loading = function () { return profiles.loading; };
            $scope.wikiLink = function (path) { return Wiki.viewLink($scope.projectId, $scope.branch, path, $location); };
            var wiki = new Wiki.GitWikiRepository($scope);
            $scope.loadSummary = function (profile) {
                if (profile.summaryUrl) {
                    var renderer_1 = new marked.Renderer();
                    renderer_1.image = function (href, title, text) {
                        var uri = new URI(href);
                        if (uri.is('relative')) {
                            if (_.startsWith(uri.path(), '/')) {
                                uri.segment(['profiles'].concat(uri.segment()));
                            }
                            else {
                                uri = uri.absoluteTo(UrlHelpers.join(profile.path, '/'));
                            }
                            var src = Wiki.gitRestURL($scope, uri.normalize().toString());
                            return '<img src="img/loader.svg" http-src="' + src + '" alt="' + (title ? title : text) + '" />';
                        }
                        else {
                            return '<img src="' + href + '" alt="' + (title ? title : text) + '" />';
                        }
                    };
                    wiki.getPage($scope.branch, profile.summaryUrl, null, function (data) { return profile.summary = marked(data.text, { renderer: renderer_1 }); });
                }
                else {
                    profile.summary = '<em>no summary</em>';
                }
            };
            $scope.assignProfiles = function () { return $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers', 'assignProfiles')); };
            $scope.deployProfiles = function () { return $location.path(UrlHelpers.join('/workspaces', $scope.namespace, 'projects', $scope.projectId, 'profiles', 'containers', 'deployProfiles')); };
            var updateProfileViews = function (profiles) { return _.reduce(profiles, function (profileViews, profile) {
                if (!_.has(profileViews, profile.id)) {
                    profileViews[profile.id] = new ProfileView($scope);
                }
                else {
                    profileViews[profile.id].scope = $scope;
                }
                return profileViews;
            }, $scope.profileViews); };
            _.keys($scope.profileViews).forEach(function (key) { return delete $scope.profileViews[key]; });
            $scope.$watchCollection('profiles', updateProfileViews);
            $scope.refresh = function () { return profiles.load(wiki, $scope.branch); };
            if (!(profiles.loaded || profiles.loading)) {
                $scope.refresh();
            }
        }]);
})(Profiles || (Profiles = {}));

var Profiles;
(function (Profiles) {
    Profiles.module.controller('Profiles.SettingsController', ['$scope', function ($scope) {
            $scope.tabs = Profiles.createProfilesSubNavBars($scope.namespace, $scope.projectId);
            Forge.updateForgeProject($scope);
            var wikiRepository = new Wiki.GitWikiRepository($scope);
            $scope.loading = 0;
            $scope.config = {
                style: HawtioForms.FormStyle.STANDARD,
                mode: HawtioForms.FormMode.VIEW,
                properties: {
                    gitRemoteUriPattern: {
                        type: 'string',
                        description: 'Git remote URI pattern for all containers, name is the name of the container, e.g. root'
                    },
                    gogsUsername: {
                        type: 'string'
                    },
                    gogsPassword: {
                        type: 'password'
                    },
                    groupId: {
                        type: 'string'
                    },
                    version: {
                        type: 'string'
                    }
                }
            };
            $scope.refresh = function () {
                $scope.loading++;
                wikiRepository.getPage($scope.branch, 'fabric8-profiles.cfg', null, function (data) {
                    $scope.loading--;
                    $scope.settings = data.text;
                    $scope.properties = Profiles.parseProperties(data.text);
                });
            };
            $scope.$watch('loading', function (value) { return $scope.config.mode = value > 0
                ? HawtioForms.FormMode.VIEW
                : HawtioForms.FormMode.EDIT; });
            $scope.save = function () {
                var edit = apply($scope.properties, $scope.settings);
                if (edit != $scope.settings) {
                    $scope.loading++;
                    wikiRepository.putPage($scope.branch, 'fabric8-profiles.cfg', edit, 'Update profiles settings', function (response) {
                        Wiki.onComplete(response);
                        Core.notification('success', response.file + ' saved!');
                        $scope.loading--;
                    }, function (response) {
                        Core.notification('error', response);
                        $scope.loading--;
                    });
                }
            };
            var apply = function (properties, settings) {
                return settings.replace(/^([^#=]+)=(.*)$/gm, function (match, key, value) { return key + '=' + properties[key] || value; });
            };
            $scope.refresh();
        }
    ]);
})(Profiles || (Profiles = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluY2x1ZGVzLmpzIiwicHJvZmlsZXMvdHMvcHJvZmlsZXNIZWxwZXJzLnRzIiwicHJvZmlsZXMvdHMvcHJvZmlsZXNQbHVnaW4udHMiLCJwcm9maWxlcy90cy9hc3NpZ25Qcm9maWxlcy50cyIsInByb2ZpbGVzL3RzL2NvbnRhaW5lckxpc3QudHMiLCJwcm9maWxlcy90cy9jb250YWluZXJzLnRzIiwicHJvZmlsZXMvdHMvZGVwbG95UHJvZmlsZXMudHMiLCJwcm9maWxlcy90cy9wcm9maWxlcy50cyIsInByb2ZpbGVzL3RzL3NldHRpbmdzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUNJQSxJQUFPLFFBQVEsQ0FnQ2Q7QUFoQ0QsV0FBTyxRQUFRLEVBQUMsQ0FBQztJQUVmLGtDQUF5QyxTQUFnQixFQUFFLFNBQWdCO1FBQ3pFLE1BQU0sQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDO1lBQy9CO2dCQUNFLElBQUksRUFBRSxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLEVBQUUsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsVUFBVSxDQUFDO2dCQUM3RyxLQUFLLEVBQUUsVUFBVTtnQkFDakIsS0FBSyxFQUFFLFVBQVU7YUFDbEI7WUFDRDtnQkFDRSxJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxFQUFFLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxZQUFZLENBQUM7Z0JBQzNILEtBQUssRUFBRSxZQUFZO2dCQUNuQixLQUFLLEVBQUUsWUFBWTtnQkFDbkIsUUFBUSxFQUFFLFVBQUMsSUFBSSxFQUFFLElBQUksSUFBSyxPQUFBLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBN0IsQ0FBNkI7YUFDeEQ7WUFDRDtnQkFDRSxJQUFJLEVBQUUsVUFB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RyxDQUFDO1lBRXJHLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNuQixDQUFDO0tBQ0YsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxFQTFFTSxRQUFRLEtBQVIsUUFBUSxRQTBFZCIsImZpbGUiOiJjb21waWxlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbbnVsbCwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxuXG4vKipcbiAqIEBtb2R1bGUgUHJvZmlsZXNcbiAqL1xubW9kdWxlIFByb2ZpbGVzIHtcblxuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvZmlsZXNTdWJOYXZCYXJzKG5hbWVzcGFjZTpzdHJpbmcsIHByb2plY3RJZDpzdHJpbmcpIHtcbiAgICByZXR1cm4gRGV2ZWxvcGVyLmFjdGl2YXRlQ3VycmVudChbXG4gICAgICB7XG4gICAgICAgIGhyZWY6IFVybEhlbHBlcnMuam9pbihIYXd0aW9Db3JlLmRvY3VtZW50QmFzZSgpLCAnL3dvcmtzcGFjZXMnLCBuYW1lc3BhY2UsICdwcm9qZWN0cycsIHByb2plY3RJZCwgJ3Byb2ZpbGVzJyksXG4gICAgICAgIGxhYmVsOiAnUHJvZmlsZXMnLFxuICAgICAgICB0aXRsZTogJ1Byb2ZpbGVzJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaHJlZjogVXJsSGVscGVycy5qb2luKEhhd3Rpb0NvcmUuZG9jdW1lbnRCYXNlKCksICcvd29ya3NwYWNlcycsIG5hbWVzcGFjZSwgJ3Byb2plY3RzJywgcHJvamVjdElkLCAncHJvZmlsZXMnLCAnY29udGFpbmVycycpLFxuICAgICAgICBsYWJlbDogJ0NvbnRhaW5lcnMnLFxuICAgICAgICB0aXRsZTogJ0NvbnRhaW5lcnMnLFxuICAgICAgICBpc0FjdGl2ZTogKGl0ZW0sIHBhdGgpID0+IF8uc3RhcnRzV2l0aChwYXRoLCBpdGVtLmhyZWYpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBocmVmOiBVcmxIZWxwZXJzLmpvaW4oSGF3dGlvQ29yZS5kb2N1bWVudEJhc2UoKSwgJy93b3Jrc3BhY2VzJywgbmFtZXNwYWNlLCAncHJvamVjdHMnLCBwcm9qZWN0SWQsICdwcm9maWxlcycsICdzZXR0aW5ncycpLFxuICAgICAgICBsYWJlbDogJ1NldHRpbmdzJyxcbiAgICAgICAgdGl0bGU6ICdTZXR0aW5ncydcbiAgICAgIH1cbiAgICBdKTtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBwYXJzZVByb3BlcnRpZXMoY29udGVudDpzdHJpbmcpOmFueSB7XG4gICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQoJ1xcbicpLnJlZHVjZSgocHJvcGVydGllcywgbGluZSkgPT4ge1xuICAgICAgdmFyIHByb3BlcnR5ID0gL14oW14jPV0rKT0oLiopJC8uZXhlYyhsaW5lLnRyaW0oKSk7XG4gICAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgICAgcHJvcGVydGllc1twcm9wZXJ0eVsxXS50cmltKCldID0gcHJvcGVydHlbMl0udHJpbSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfSwge30pO1xuICB9XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vaW5jbHVkZXMudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwicHJvZmlsZXNIZWxwZXJzLnRzXCIvPlxuXG4vKipcbiAqIEBtb2R1bGUgUHJvZmlsZXNcbiAqIEBtYWluIFByb2ZpbGVzXG4gKi9cbm1vZHVsZSBQcm9maWxlcyB7XG5cbiAgZXhwb3J0IHZhciBwbHVnaW5OYW1lID0gJ3Byb2ZpbGVzJztcbiAgZXhwb3J0IHZhciBsb2c6TG9nZ2luZy5Mb2dnZXIgPSBMb2dnZXIuZ2V0KHBsdWdpbk5hbWUpO1xuICBleHBvcnQgdmFyIHRlbXBsYXRlUGF0aCA9ICdwbHVnaW5zLycgKyBwbHVnaW5OYW1lICsgJy9odG1sLyc7XG5cbiAgZXhwb3J0IHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShwbHVnaW5OYW1lLCBbJ2hhd3Rpby1jb3JlJywgJ2hhd3Rpby11aScsICdoYXd0aW8tZm9ybXMnLCAnYmxvY2tVSScsICd1aS5zZWxlY3QnLCAnbmdTYW5pdGl6ZSddKTtcblxuICBtb2R1bGUuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCAnYmxvY2tVSUNvbmZpZycsICgkcm91dGVQcm92aWRlcjpuZy5yb3V0ZS5JUm91dGVQcm92aWRlciwgYmxvY2tVSUNvbmZpZykgPT4ge1xuICAgIGJsb2NrVUlDb25maWcuYXV0b0Jsb2NrID0gZmFsc2U7XG4gICAgYmxvY2tVSUNvbmZpZy5kZWxheSA9IDA7XG5cbiAgICB2YXIgam9pbiA9IFVybEhlbHBlcnMuam9pbjtcbiAgICB2YXIgcm91dGUgPSBEZXZlbG9wZXIuY3JlYXRlVGFiUm91dGluZ0Z1bmN0aW9uKHRlbXBsYXRlUGF0aCk7XG4gICAgdmFyIGJhc2UgPSAnL3dvcmtzcGFjZXMvOm5hbWVzcGFjZS9wcm9qZWN0cy86cHJvamVjdElkL3Byb2ZpbGVzJztcblxuICAgIC8vIEFkZCBhIHRhYi9saW5rIHRvIHRoZSBwcm9maWxlcyB2aWV3IG9uIHRoZSBsZWZ0Li5cbiAgICBEZXZlbG9wZXIuY3VzdG9tUHJvamVjdFN1YlRhYkZhY3Rvcmllcy5wdXNoKGNvbnRleHQgPT4ge1xuICAgICAgaWYoY29udGV4dC4kc2NvcGUpIHtcbiAgICAgICAgRm9yZ2UudXBkYXRlRm9yZ2VQcm9qZWN0KGNvbnRleHQuJHNjb3BlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbe1xuICAgICAgICBpc1ZhbGlkOiAoKSA9PiBjb250ZXh0LnByb2plY3RMaW5rICYmIERldmVsb3Blci5mb3JnZVJlYWR5TGluaygpICYmIEZvcmdlLmZvcmdlUHJvamVjdCgpLmhhc1BlcnNwZWN0aXZlKCdmYWJyaWM4LXByb2ZpbGVzJyksXG4gICAgICAgIGhyZWY6IGpvaW4oY29udGV4dC5wcm9qZWN0TGluaywgJ3Byb2ZpbGVzJyksXG4gICAgICAgIGNsYXNzOiAnZmEgZmEtY29kZS1mb3JrJyxcbiAgICAgICAgbGFiZWw6ICdQcm9maWxlcycsXG4gICAgICAgIHRpdGxlOiAnQnJvd3NlIHRoZSBwcm9maWxlcyBvZiB0aGlzIHByb2plY3QnLFxuICAgICAgICBpc0FjdGl2ZTogKHN1YlRhYiwgcGF0aCkgPT4gXy5zdGFydHNXaXRoKHBhdGgsIGpvaW4oY29udGV4dC5wcm9qZWN0TGluaywgJ3Byb2ZpbGVzJykpXG4gICAgICB9XVxuICAgIH0pO1xuXG4gICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgIC53aGVuKGJhc2UsIHJvdXRlKCdwcm9maWxlcy5odG1sJywgZmFsc2UpKVxuICAgICAgLndoZW4oam9pbihiYXNlLCAnY29udGFpbmVycycsICdhc3NpZ25Qcm9maWxlcycpLCByb3V0ZSgnYXNzaWduUHJvZmlsZXMuaHRtbCcsIGZhbHNlKSlcbiAgICAgIC53aGVuKGpvaW4oYmFzZSwgJ2NvbnRhaW5lcnMnLCAnZGVwbG95UHJvZmlsZXMnKSwgcm91dGUoJ2RlcGxveVByb2ZpbGVzLmh0bWwnLCBmYWxzZSkpXG4gICAgICAud2hlbihqb2luKGJhc2UsICdjb250YWluZXJzJyksIHJvdXRlKCdjb250YWluZXJzLmh0bWwnLCBmYWxzZSkpXG4gICAgICAud2hlbihqb2luKGJhc2UsICdzZXR0aW5ncycpLCByb3V0ZSgnc2V0dGluZ3MuaHRtbCcsIGZhbHNlKSk7XG4gIH1dKTtcblxuICAvLyBEaXJlY3RpdmUgdGhhdCBhdm9pZHMgcmVuZGVyaW5nIGdsaXRjaGVzIHdoZW4gdXNpbmcgbmctaW5jbHVkZSBhbmQgYnlwYXNzZXMgaXRzIGNvbXBsZXhpdHlcbiAgLy8gYXMgd2UgdXNlIGd1bHAtYW5ndWxhci10ZW1wbGF0ZWNhY2hlIHRvIHJlZ2lzdGVyIEFuZ3VsYXJKUyB0ZW1wbGF0ZXMgaW4gdGhlICR0ZW1wbGF0ZUNhY2hlLlxuICBtb2R1bGUuZGlyZWN0aXZlKCd0ZW1wbGF0ZUNhY2hlSW5jbHVkZScsIFsnJGNvbXBpbGUnLCAnJHRlbXBsYXRlQ2FjaGUnLCAoJGNvbXBpbGUsICR0ZW1wbGF0ZUNhY2hlKSA9PiAoe1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHByaW9yaXR5OiA0MDAsXG4gICAgICBjb21waWxlOiAoZWxlbWVudCwgYXR0cnMpID0+IHtcbiAgICAgICAgdmFyIHRlbXBsYXRlTmFtZSA9IGF0dHJzLnRlbXBsYXRlQ2FjaGVJbmNsdWRlO1xuICAgICAgICB2YXIgdGVtcGxhdGUgPSAkdGVtcGxhdGVDYWNoZS5nZXQodGVtcGxhdGVOYW1lKTtcbiAgICAgICAgcmV0dXJuIChzY29wZSwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgIGVsZW1lbnQuaHRtbCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSlcbiAgXSk7XG5cbiAgaGF3dGlvUGx1Z2luTG9hZGVyLmFkZE1vZHVsZShwbHVnaW5OYW1lKTtcbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9pbmNsdWRlcy50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJwcm9maWxlc1BsdWdpbi50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJwcm9maWxlc0hlbHBlcnMudHNcIi8+XG5cbm1vZHVsZSBQcm9maWxlcyB7XG5cbiAgbW9kdWxlLmNvbnRyb2xsZXIoJ1Byb2ZpbGVzLkFzc2lnblByb2ZpbGVzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICckdGVtcGxhdGVDYWNoZScsICdwcm9maWxlcycsICdjb250YWluZXJzJywgJ2Jsb2NrVUknLCAoJHNjb3BlLCAkbG9jYXRpb24sICR0ZW1wbGF0ZUNhY2hlLCBwcm9maWxlczogUHJvZmlsZXMsIGNvbnRhaW5lcnM6IENvbnRhaW5lcnMsIGJsb2NrVUkpID0+IHtcbiAgICAkc2NvcGUudGFicyA9IGNyZWF0ZVByb2ZpbGVzU3ViTmF2QmFycygkc2NvcGUubmFtZXNwYWNlLCAkc2NvcGUucHJvamVjdElkKTtcbiAgICAvLyBBc3NvY2lhdGUgdGhpcyBjb250cm9sbGVyIHNjb3BlIHRvIHRoZSBGb3JnZVByb2plY3RTZXJ2aWNlXG4gICAgRm9yZ2UudXBkYXRlRm9yZ2VQcm9qZWN0KCRzY29wZSk7XG4gICAgJHNjb3BlLmdpdFJlc3RVcmwgPSBwYXRoID0+IFdpa2kuZ2l0UmVzdFVSTCgkc2NvcGUsIHBhdGgpO1xuXG4gICAgJHNjb3BlLnByb2ZpbGVzID0gcHJvZmlsZXM7XG4gICAgJHNjb3BlLmNvbnRhaW5lcnMgPSBjb250YWluZXJzO1xuICAgICRzY29wZS5zZWxlY3RhYmxlID0gdHJ1ZTtcbiAgICAkc2NvcGUucHJvZmlsZUdyb3VwcyA9IChwcm9maWxlOiBQcm9maWxlKSA9PiBwcm9maWxlLnRhZ3MubGVuZ3RoID4gMCA/IHByb2ZpbGUudGFnc1swXSA6ICcnO1xuXG4gICAgbGV0IHNhdmluZzpudW1iZXIgPSAwO1xuICAgICRzY29wZS5zYXZpbmcgPSAoKSA9PiBzYXZpbmcgPiAwO1xuXG4gICAgbGV0IGJsb2NrVGFibGUgPSBibG9ja1VJLmluc3RhbmNlcy5nZXQoJ2Jsb2NrVGFibGUnKTtcblxuICAgICRzY29wZS5hc3NpZ25Qcm9maWxlcyA9ICgpID0+IHtcbiAgICAgIGxldCB3aWtpID0gbmV3IFdpa2kuR2l0V2lraVJlcG9zaXRvcnkoJHNjb3BlKTtcbiAgICAgIC8vIFRPRE86IHVzZSBQYXR0ZXJuRmx5IG5vdGlmaWNhdGlvbnNcbiAgICAgIGxldCBzdWNjZXNzID0gcmVzcG9uc2UgPT4ge1xuICAgICAgICBXaWtpLm9uQ29tcGxldGUocmVzcG9uc2UpO1xuICAgICAgICBDb3JlLm5vdGlmaWNhdGlvbignc3VjY2VzcycsIHJlc3BvbnNlLmZpbGUgKyAnIHNhdmVkIScpO1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfTtcbiAgICAgIGxldCBmYWlsdXJlID0gcmVzcG9uc2UgPT4ge1xuICAgICAgICBDb3JlLm5vdGlmaWNhdGlvbignZXJyb3InLCByZXNwb25zZSk7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9O1xuICAgICAgbGV0IGNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICBpZiAoLS1zYXZpbmcgPT09IDApIHtcbiAgICAgICAgICBibG9ja1RhYmxlLm1lc3NhZ2UoJ1JlZnJlc2hpbmcgLi4uJyk7XG4gICAgICAgICAgY29udGFpbmVycy5sb2FkKHdpa2ksICRzY29wZS5icmFuY2gpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgYmxvY2tUYWJsZS5zdG9wKCk7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aChVcmxIZWxwZXJzLmpvaW4oJy93b3Jrc3BhY2VzJywgJHNjb3BlLm5hbWVzcGFjZSwgJ3Byb2plY3RzJywgJHNjb3BlLnByb2plY3RJZCwgJ3Byb2ZpbGVzJywgJ2NvbnRhaW5lcnMnKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBibG9ja1RhYmxlLnN0YXJ0KFwiU2F2aW5nIC4uLlwiKTtcbiAgICAgIGNvbnRhaW5lcnMuY2FydC5mb3JFYWNoKGNvbnRhaW5lciA9PiB7XG4gICAgICAgIHNhdmluZysrO1xuICAgICAgICB3aWtpLnB1dFBhZ2UoJHNjb3BlLmJyYW5jaCwgY29udGFpbmVyLnBhdGgsIGFzc2lnblByb2ZpbGVzKGNvbnRhaW5lciwgcHJvZmlsZXMuY2FydCksICdBc3NpZ24gcHJvZmlsZXMnLCBzdWNjZXNzLCBmYWlsdXJlKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBsZXQgYXNzaWduUHJvZmlsZXMgPSAoY29udGFpbmVyOiBDb250YWluZXIsIHByb2ZpbGVzOiBQcm9maWxlW10pOnN0cmluZyA9PlxuICAgICAgICBjb250YWluZXIudGV4dC5yZXBsYWNlKC9eKHByb2ZpbGVzKT0oLiopJC9tLFxuICAgICAgICAgICAgKG1hdGNoLCBrZXksIHZhbHVlKSA9PiBrZXkgKyAnPScgKyBwcm9maWxlcy5tYXAocHJvZmlsZSA9PiBwcm9maWxlLmlkKS5qb2luKCcgJykpO1xuXG4gICAgJHNjb3BlLnJlZnJlc2hDb250YWluZXJzID0gKCkgPT4gY29udGFpbmVycy5sb2FkKG5ldyBXaWtpLkdpdFdpa2lSZXBvc2l0b3J5KCRzY29wZSksICRzY29wZS5icmFuY2gpO1xuICAgICRzY29wZS5yZWZyZXNoUHJvZmlsZXMgPSAoKSA9PiB7XG4gICAgICBpZiAoIXByb2ZpbGVzLmxvYWRpbmcpIHtcbiAgICAgICAgcHJvZmlsZXMubG9hZChuZXcgV2lraS5HaXRXaWtpUmVwb3NpdG9yeSgkc2NvcGUpLCAkc2NvcGUuYnJhbmNoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCEoY29udGFpbmVycy5sb2FkZWQgfHwgY29udGFpbmVycy5sb2FkaW5nKSkge1xuICAgICAgJHNjb3BlLnJlZnJlc2hDb250YWluZXJzKCk7XG4gICAgfVxuICB9XSlcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vaW5jbHVkZXMudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwicHJvZmlsZXNQbHVnaW4udHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwicHJvZmlsZXNIZWxwZXJzLnRzXCIvPlxuXG5tb2R1bGUgUHJvZmlsZXMge1xuXG4gIGltcG9ydCBLdWJlcm5ldGVzTW9kZWxTZXJ2aWNlID0gS3ViZXJuZXRlcy5LdWJlcm5ldGVzTW9kZWxTZXJ2aWNlO1xuXG4gIG1vZHVsZS5jb250cm9sbGVyKCdQcm9maWxlcy5Db250YWluZXJMaXN0Q29udHJvbGxlcicsXG4gICAgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywgJyR0ZW1wbGF0ZUNhY2hlJywgJ3Byb2ZpbGVzJywgJ2NvbnRhaW5lcnMnLCAnS3ViZXJuZXRlc01vZGVsJyxcbiAgICAgICgkc2NvcGUsICRsb2NhdGlvbiwgJHRlbXBsYXRlQ2FjaGUsIHByb2ZpbGVzOiBQcm9maWxlcywgY29udGFpbmVyczogQ29udGFpbmVycywga3ViZXJuZXRlczogS3ViZXJuZXRlc01vZGVsU2VydmljZSkgPT4ge1xuXG4gICAgJHNjb3BlLnZpZXdQcm9maWxlID0gcHJvZmlsZSA9PiAkbG9jYXRpb24ucGF0aChXaWtpLnZpZXdMaW5rKCRzY29wZS5wcm9qZWN0SWQsICRzY29wZS5icmFuY2gsIHByb2ZpbGUucGF0aCwgJGxvY2F0aW9uKSk7XG4gICAgJHNjb3BlLnByb2ZpbGVzID0gcHJvZmlsZXM7XG4gICAgJHNjb3BlLmNvbnRhaW5lcnMgPSBjb250YWluZXJzO1xuXG4gICAgJHNjb3BlLnRhYmxlQ29uZmlnID0ge1xuICAgICAgZGF0YTogJ2NvbnRhaW5lcnMuZGF0YScsXG4gICAgICBzaG93U2VsZWN0aW9uQ2hlY2tib3g6ICRzY29wZS5zZWxlY3RhYmxlIHx8IGZhbHNlLFxuICAgICAgZW5hYmxlUm93Q2xpY2tTZWxlY3Rpb246ICRzY29wZS5zZWxlY3RhYmxlIHx8IGZhbHNlLFxuICAgICAgbXVsdGlTZWxlY3Q6IHRydWUsXG4gICAgICBzZWxlY3RlZEl0ZW1zOiAkc2NvcGUuc2VsZWN0YWJsZSA/IGNvbnRhaW5lcnMuY2FydCA6IFtdLFxuICAgICAgZmlsdGVyT3B0aW9uczoge1xuICAgICAgICBmaWx0ZXJUZXh0OiAkbG9jYXRpb24uc2VhcmNoKClbJ3EnXSB8fCAnJ1xuICAgICAgfSxcbiAgICAgIGNvbHVtbkRlZnM6IFtcbiAgICAgICAgeyBmaWVsZDogJ25hbWUnLFxuICAgICAgICAgIGRpc3BsYXlOYW1lOiAnTmFtZScsXG4gICAgICAgICAgY2VsbFRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2NvbnRhaW5lck5hbWUuaHRtbCcpXG4gICAgICAgIH0sXG4gICAgICAgIHsgZmllbGQ6ICdwb2RzJyxcbiAgICAgICAgICBkaXNwbGF5TmFtZTogJ1BvZHMnLFxuICAgICAgICAgIGNlbGxUZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb250YWluZXJQb2RzLmh0bWwnKVxuICAgICAgICB9LFxuICAgICAgICB7IGZpZWxkOiAndHlwZXMnLFxuICAgICAgICAgIGRpc3BsYXlOYW1lOiAnVHlwZXMnLFxuICAgICAgICAgIGNlbGxUZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb250YWluZXJUeXBlcy5odG1sJylcbiAgICAgICAgfSxcbiAgICAgICAgeyBmaWVsZDogJ3Byb2ZpbGVzJyxcbiAgICAgICAgICBkaXNwbGF5TmFtZTogJ1Byb2ZpbGVzJyxcbiAgICAgICAgICBjZWxsVGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29udGFpbmVyUHJvZmlsZXMuaHRtbCcpXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuXG4gICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ3Byb2ZpbGVzLmRhdGEnLCBwcm9maWxlcyA9PlxuICAgICAgY29udGFpbmVycy5kYXRhLmZvckVhY2goKGNvbnRhaW5lcjpDb250YWluZXIpID0+XG4gICAgICAgIHByb2ZpbGVzLmZvckVhY2goKHByb2ZpbGU6UHJvZmlsZSkgPT4ge1xuICAgICAgICAgIGxldCBpID0gXy5pbmRleE9mKGNvbnRhaW5lci5wcm9maWxlcywgcHJvZmlsZS5pZCk7XG4gICAgICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICAgICAgY29udGFpbmVyLnByb2ZpbGVzW2ldID0gcHJvZmlsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKTtcblxuICAgIC8vIE5lY2Vzc2FyeSBzeW5jIGFzIHVpLXNlbGVjdCBjaGFuZ2VzIHRoZSBzZWxlY3Rpb24gYXJyYXkgcmVmZXJlbmNlIDooXG4gICAgJHNjb3BlLiR3YXRjaCgnY29udGFpbmVycy5jYXJ0JywgY29udGFpbmVycyA9PiB7XG4gICAgICAkc2NvcGUudGFibGVDb25maWcuc2VsZWN0ZWRJdGVtcyA9IGNvbnRhaW5lcnM7XG4gICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnaGF3dGlvLmRhdGF0YWJsZS5jb250YWluZXJzLmRhdGEnKTtcbiAgICB9KTtcblxuICAgICRzY29wZS4kb24oJ2t1YmVybmV0ZXNNb2RlbFVwZGF0ZWQnLCAoKSA9PlxuICAgICAgXy5maWx0ZXIoY29udGFpbmVycy5kYXRhLCAoY29udGFpbmVyOkNvbnRhaW5lcikgPT4gIWNvbnRhaW5lci5yYylcbiAgICAgICAgLmZvckVhY2goKGNvbnRhaW5lcjpDb250YWluZXIpID0+IGNvbnRhaW5lci5yYyA9IGt1YmVybmV0ZXMuZ2V0UmVwbGljYXRpb25Db250cm9sbGVyKCRzY29wZS5uYW1lc3BhY2UgfHwgS3ViZXJuZXRlcy5jdXJyZW50S3ViZXJuZXRlc05hbWVzcGFjZSgpLCBjb250YWluZXIubmFtZSkpKTtcblxuICAgIGlmICghKGNvbnRhaW5lcnMubG9hZGVkIHx8IGNvbnRhaW5lcnMubG9hZGluZykpIHtcbiAgICAgICRzY29wZS5yZWZyZXNoKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgbW9kdWxlLmZpbHRlcigna3ViZXJuZXRlc1BhZ2VMaW5rJywgKCkgPT4gKGVudGl0eSwgcGF0aDEsIHBhdGgyKSA9PiBVcmxIZWxwZXJzLmpvaW4oS3ViZXJuZXRlcy5lbnRpdHlQYWdlTGluayhlbnRpdHkpLCBwYXRoMSwgcGF0aDIpKTtcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vaW5jbHVkZXMudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwicHJvZmlsZXNQbHVnaW4udHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwicHJvZmlsZXNIZWxwZXJzLnRzXCIvPlxuXG5tb2R1bGUgUHJvZmlsZXMge1xuXG4gIGltcG9ydCBLdWJlcm5ldGVzTW9kZWxTZXJ2aWNlID0gS3ViZXJuZXRlcy5LdWJlcm5ldGVzTW9kZWxTZXJ2aWNlO1xuICBpbXBvcnQgSURlZmVycmVkID0gYW5ndWxhci5JRGVmZXJyZWQ7XG4gIGltcG9ydCBJUHJvbWlzZSA9IGFuZ3VsYXIuSVByb21pc2U7XG5cbiAgZXhwb3J0IGludGVyZmFjZSBJY29uIHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHR5cGU6ICBzdHJpbmc7XG4gICAgc3JjOiAgIHN0cmluZztcbiAgfVxuXG4gIGxldCBpY29ucyA9IHtcbiAgICBjYW1lbDogICAgICAgJ2NhbWVsJyxcbiAgICBqZW5raW5zZmlsZTogJ2plbmtpbnMnLFxuICAgIGthcmFmOiAgICAgICAna2FyYWYnXG4gIH07XG5cbiAgZXhwb3J0IGludGVyZmFjZSBDb250YWluZXIge1xuICAgIG5hbWU6ICAgICBzdHJpbmc7XG4gICAgcGF0aDogICAgIHN0cmluZztcbiAgICB0ZXh0PzogICAgc3RyaW5nO1xuICAgIHJjPzogICAgICBhbnk7XG4gICAgcHJvZmlsZXM6IChQcm9maWxlfHN0cmluZylbXTtcbiAgICB0eXBlczogICAgc3RyaW5nW107XG4gICAgaWNvbnM/OiAgIEljb25bXTtcbiAgfVxuXG4gIGV4cG9ydCBjbGFzcyBDb250YWluZXJzIHtcbiAgICBsb2FkZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGxvYWRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgcmVxdWVzdHM6IG51bWJlciA9IDA7XG4gICAgZGF0YTpDb250YWluZXJbXSA9IFtdO1xuICAgIGNhcnQ6Q29udGFpbmVyW10gPSBbXTtcbiAgICBwcml2YXRlIHByb2ZpbGVzOlByb2ZpbGVzO1xuICAgIHByaXZhdGUga3ViZXJuZXRlczpLdWJlcm5ldGVzTW9kZWxTZXJ2aWNlO1xuICAgIHByaXZhdGUgJHE6bmcuSVFTZXJ2aWNlO1xuXG4gICAgY29uc3RydWN0b3IocHJvZmlsZXM6IFByb2ZpbGVzLCBrdWJlcm5ldGVzOiBLdWJlcm5ldGVzTW9kZWxTZXJ2aWNlLCAkcTogbmcuSVFTZXJ2aWNlKSB7XG4gICAgICB0aGlzLnByb2ZpbGVzID0gcHJvZmlsZXM7XG4gICAgICB0aGlzLmt1YmVybmV0ZXMgPSBrdWJlcm5ldGVzO1xuICAgICAgdGhpcy4kcSA9ICRxO1xuICAgIH1cblxuICAgIGxvYWQgPSAod2lraTpXaWtpLkdpdFdpa2lSZXBvc2l0b3J5LCBicmFuY2g6c3RyaW5nLCBuYW1lc3BhY2U/OnN0cmluZyk6SVByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVxdWVzdHMrKztcbiAgICAgIGxldCBkYXRhOkNvbnRhaW5lcltdID0gW107XG4gICAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyPHZvaWQ+KCk7XG4gICAgICAvLyBMZXRzIGxpc3QgYWxsIHRoZSBjb250YWluZXJzLCBhbmQgbG9hZCB0aGUgY29udGFpbmVyIGNvbmZpZ3NcbiAgICAgIHdpa2kuZ2V0UGFnZShicmFuY2gsICdjb25maWdzL2NvbnRhaW5lcnMnLCBudWxsLCBwYWdlID0+IHtcbiAgICAgICAgXy5mb3JFYWNoKHBhZ2UuY2hpbGRyZW4sIGNoaWxkID0+IHtcbiAgICAgICAgICBpZiAoIWNoaWxkLmRpcmVjdG9yeSAmJiBfLmVuZHNXaXRoKGNoaWxkLm5hbWUsICcuY2ZnJykpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdHMrKztcbiAgICAgICAgICAgIHdpa2kuZ2V0UGFnZShicmFuY2gsIGNoaWxkLnBhdGgsIG51bGwsIHBhZ2UgPT4ge1xuICAgICAgICAgICAgICBsZXQgcHJvcGVydGllcyA9IHBhcnNlUHJvcGVydGllcyhwYWdlLnRleHQpO1xuICAgICAgICAgICAgICBsZXQgY29udGFpbmVyID0gPENvbnRhaW5lcj4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHBhZ2UubmFtZS5yZXBsYWNlKC8uY2ZnJC8sICcnKSxcbiAgICAgICAgICAgICAgICBwYXRoOiBwYWdlLnBhdGgsXG4gICAgICAgICAgICAgICAgdGV4dDogcGFnZS50ZXh0LFxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGltcGxlbWVudCBhIG1vcmUgcm9idXN0IG1hcHBpbmcgYmV0d2VlbiB0aGUgY29udGFpbmVyIHByb2plY3QgYW5kIHRoZSBjb3JyZXNwb25kaW5nIFJDXG4gICAgICAgICAgICAgICAgcmM6IHRoaXMua3ViZXJuZXRlcy5nZXRSZXBsaWNhdGlvbkNvbnRyb2xsZXIobmFtZXNwYWNlIHx8IEt1YmVybmV0ZXMuY3VycmVudEt1YmVybmV0ZXNOYW1lc3BhY2UoKSwgcGFnZS5uYW1lLnJlcGxhY2UoLy5jZmckLywgJycpKSxcbiAgICAgICAgICAgICAgICAvLyBXZSBjb3VsZCBsb2FkIHRoZSBwcm9maWxlcyBpZiBub3QgYWxyZWFkeSBsb2FkZWQgYW5kIHN5bmMgdGhlIGNvbnRhaW5lcnMgZGF0YSBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICBwcm9maWxlczogXy5tYXAocHJvcGVydGllc1sncHJvZmlsZXMnXS5zcGxpdCgnICcpLCAocHJvZmlsZTpzdHJpbmcpID0+IDxQcm9maWxlfHN0cmluZz5fLmZpbmQodGhpcy5wcm9maWxlcy5kYXRhLCB7aWQ6IHByb2ZpbGV9KSB8fCBwcm9maWxlKSxcbiAgICAgICAgICAgICAgICB0eXBlczogcHJvcGVydGllc1snY29udGFpbmVyLXR5cGUnXS5zcGxpdCgnICcpLFxuICAgICAgICAgICAgICAgIGljb25zOiBwcm9wZXJ0aWVzWydjb250YWluZXItdHlwZSddLnNwbGl0KCcgJykubWFwKHR5cGUgPT4gPEljb24+IHtcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltZycsXG4gICAgICAgICAgICAgICAgICBzcmM6ICdpbWcvaWNvbnMvJyArICh0eXBlLnRvTG93ZXJDYXNlKCkgaW4gaWNvbnMgPyBpY29uc1t0eXBlLnRvTG93ZXJDYXNlKCldIDogJ2phdmEnKSArICcuc3ZnJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSBpY29ucyB3aXRoIHJ1bnRpbWUgY29udGFpbmVyIGluZm9cbiAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5yYykge1xuICAgICAgICAgICAgICAgIGxldCB0eXBlID0gY29udGFpbmVyLnJjLm1ldGFkYXRhLmxhYmVscy5jb250YWluZXIudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaWNvbnMgPSBbXG4gICAgICAgICAgICAgICAgPEljb24+IHtcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltZycsXG4gICAgICAgICAgICAgICAgICBzcmM6ICdpbWcvaWNvbnMvJyArICh0eXBlIGluIGljb25zID8gaWNvbnNbdHlwZV0gOiAnamF2YScpICsgJy5zdmcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICA8SWNvbj4ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltZycsXG4gICAgICAgICAgICAgICAgICBzcmM6IGNvbnRhaW5lci5yYy4kaWNvblVybFxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRhdGEucHVzaChjb250YWluZXIpO1xuICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKGRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21wbGV0ZShkYXRhKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBjb21wbGV0ZSA9IChkYXRhOkNvbnRhaW5lcltdKTp2b2lkID0+IHtcbiAgICAgIGlmICgtLXRoaXMucmVxdWVzdHMgPT09IDApIHtcbiAgICAgICAgdGhpcy5kYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZGF0YS5wdXNoKC4uLiBkYXRhKTtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgbW9kdWxlLnNlcnZpY2UoJ2NvbnRhaW5lcnMnLCBbJ3Byb2ZpbGVzJywgJ0t1YmVybmV0ZXNNb2RlbCcsICckcScsIENvbnRhaW5lcnNdKTtcblxuICBtb2R1bGUuY29udHJvbGxlcignUHJvZmlsZXMuQ29udGFpbmVyc0NvbnRyb2xsZXInLFxuICAgIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICdjb250YWluZXJzJywgJ2Jsb2NrVUknLFxuICAgICAgKCRzY29wZSwgJGxvY2F0aW9uLCBjb250YWluZXJzOiBDb250YWluZXJzLCBibG9ja1VJKSA9PiB7XG4gICAgJHNjb3BlLnRhYnMgPSBjcmVhdGVQcm9maWxlc1N1Yk5hdkJhcnMoJHNjb3BlLm5hbWVzcGFjZSwgJHNjb3BlLnByb2plY3RJZCk7XG4gICAgLy8gQXNzb2NpYXRlIHRoaXMgY29udHJvbGxlciBzY29wZSB0byB0aGUgRm9yZ2VQcm9qZWN0U2VydmljZVxuICAgIEZvcmdlLnVwZGF0ZUZvcmdlUHJvamVjdCgkc2NvcGUpO1xuXG4gICAgJHNjb3BlLmNvbnRhaW5lcnMgPSBjb250YWluZXJzO1xuICAgICRzY29wZS5zZWxlY3RhYmxlID0gdHJ1ZTtcblxuICAgIGxldCBzYXZpbmc6bnVtYmVyID0gMDtcbiAgICAkc2NvcGUuc2F2aW5nID0gKCkgPT4gc2F2aW5nID4gMDtcblxuICAgIGxldCBibG9ja1RhYmxlID0gYmxvY2tVSS5pbnN0YW5jZXMuZ2V0KCdibG9ja1RhYmxlJyk7XG5cbiAgICAkc2NvcGUuY3JlYXRlQ29udGFpbmVycyA9ICgpID0+ICRsb2NhdGlvbi5wYXRoKFVybEhlbHBlcnMuam9pbignL3dvcmtzcGFjZXMnLCAkc2NvcGUubmFtZXNwYWNlLCAncHJvamVjdHMnLCAkc2NvcGUucHJvamVjdElkLCAncHJvZmlsZXMnLCAnY29udGFpbmVycycsICdkZXBsb3lQcm9maWxlcycpKTtcblxuICAgICRzY29wZS5hc3NpZ25Qcm9maWxlcyA9ICgpID0+ICRsb2NhdGlvbi5wYXRoKFVybEhlbHBlcnMuam9pbignL3dvcmtzcGFjZXMnLCAkc2NvcGUubmFtZXNwYWNlLCAncHJvamVjdHMnLCAkc2NvcGUucHJvamVjdElkLCAncHJvZmlsZXMnLCAnY29udGFpbmVycycsICdhc3NpZ25Qcm9maWxlcycpKTtcblxuICAgICRzY29wZS5kZWxldGVDb250YWluZXJzID0gKCkgPT4ge1xuICAgICAgbGV0IHdpa2kgPSBuZXcgV2lraS5HaXRXaWtpUmVwb3NpdG9yeSgkc2NvcGUpO1xuICAgICAgLy8gVE9ETzogdXNlIFBhdHRlcm5GbHkgbm90aWZpY2F0aW9uc1xuICAgICAgbGV0IHN1Y2Nlc3MgPSAocmVzcG9uc2UsIGNvbnRhaW5lcikgPT4ge1xuICAgICAgICBXaWtpLm9uQ29tcGxldGUocmVzcG9uc2UpO1xuICAgICAgICBDb3JlLm5vdGlmaWNhdGlvbignc3VjY2VzcycsIGNvbnRhaW5lciArICcgZGVsZXRlZCEnKTtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH07XG4gICAgICBsZXQgZmFpbHVyZSA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgQ29yZS5ub3RpZmljYXRpb24oJ2Vycm9yJywgcmVzcG9uc2UpO1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfTtcbiAgICAgIGxldCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKC0tc2F2aW5nID09PSAwKSB7XG4gICAgICAgICAgYmxvY2tUYWJsZS5tZXNzYWdlKCdSZWZyZXNoaW5nIC4uLicpO1xuICAgICAgICAgIGNvbnRhaW5lcnMubG9hZCh3aWtpLCAkc2NvcGUuYnJhbmNoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGJsb2NrVGFibGUuc3RvcCgpO1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoVXJsSGVscGVycy5qb2luKCcvd29ya3NwYWNlcycsICRzY29wZS5uYW1lc3BhY2UsICdwcm9qZWN0cycsICRzY29wZS5wcm9qZWN0SWQsICdwcm9maWxlcycsICdjb250YWluZXJzJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYmxvY2tUYWJsZS5zdGFydChcIlNhdmluZyAuLi5cIik7XG4gICAgICBjb250YWluZXJzLmNhcnQuZm9yRWFjaChjb250YWluZXIgPT4ge1xuICAgICAgICBzYXZpbmcrKztcbiAgICAgICAgd2lraS5yZW1vdmVQYWdlKCRzY29wZS5icmFuY2gsIGNvbnRhaW5lci5wYXRoLCAnRGVsZXRlIGNvbnRhaW5lcicsIChyZXNwb25zZSkgPT4gc3VjY2VzcyhyZXNwb25zZSwgY29udGFpbmVyLm5hbWUpLyosIGZhaWx1cmUqLyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnJlZnJlc2ggPSAoKSA9PiBjb250YWluZXJzLmxvYWQobmV3IFdpa2kuR2l0V2lraVJlcG9zaXRvcnkoJHNjb3BlKSwgJHNjb3BlLmJyYW5jaCwgJHNjb3BlLm5hbWVzcGFjZSk7XG4gIH1dKVxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9pbmNsdWRlcy50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJwcm9maWxlc1BsdWdpbi50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJwcm9maWxlc0hlbHBlcnMudHNcIi8+XG5cbm1vZHVsZSBQcm9maWxlcyB7XG5cbiAgbW9kdWxlLmNvbnRyb2xsZXIoJ1Byb2ZpbGVzLkRlcGxveVByb2ZpbGVzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICckdGVtcGxhdGVDYWNoZScsICdwcm9maWxlcycsICdjb250YWluZXJzJywgJ2Jsb2NrVUknLCAoJHNjb3BlLCAkbG9jYXRpb24sICR0ZW1wbGF0ZUNhY2hlLCBwcm9maWxlczogUHJvZmlsZXMsIGNvbnRhaW5lcnM6IENvbnRhaW5lcnMsIGJsb2NrVUkpID0+IHtcbiAgICAkc2NvcGUudGFicyA9IGNyZWF0ZVByb2ZpbGVzU3ViTmF2QmFycygkc2NvcGUubmFtZXNwYWNlLCAkc2NvcGUucHJvamVjdElkKTtcbiAgICAvLyBBc3NvY2lhdGUgdGhpcyBjb250cm9sbGVyIHNjb3BlIHRvIHRoZSBGb3JnZVByb2plY3RTZXJ2aWNlXG4gICAgRm9yZ2UudXBkYXRlRm9yZ2VQcm9qZWN0KCRzY29wZSk7XG4gICAgJHNjb3BlLmdpdFJlc3RVcmwgPSBwYXRoID0+IFdpa2kuZ2l0UmVzdFVSTCgkc2NvcGUsIHBhdGgpO1xuXG4gICAgJHNjb3BlLnByb2ZpbGVzID0gcHJvZmlsZXM7XG4gICAgJHNjb3BlLmNvbnRhaW5lcnMgPSBjb250YWluZXJzO1xuICAgICRzY29wZS5zZWxlY3QgPSB7XG4gICAgICBuYW1lczogW11cbiAgICB9O1xuICAgICRzY29wZS5zZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgJHNjb3BlLnByb2ZpbGVHcm91cHMgPSAocHJvZmlsZTogUHJvZmlsZSkgPT4gcHJvZmlsZS50YWdzLmxlbmd0aCA+IDAgPyBwcm9maWxlLnRhZ3NbMF0gOiAnJztcblxuICAgIGxldCBzYXZpbmc6bnVtYmVyID0gMDtcbiAgICAkc2NvcGUuc2F2aW5nID0gKCkgPT4gc2F2aW5nID4gMDtcblxuICAgIGxldCBibG9ja1RhYmxlID0gYmxvY2tVSS5pbnN0YW5jZXMuZ2V0KCdibG9ja1RhYmxlJyk7XG5cbiAgICAkc2NvcGUuZGVwbG95UHJvZmlsZXMgPSAoKSA9PiB7XG4gICAgICBsZXQgd2lraSA9IG5ldyBXaWtpLkdpdFdpa2lSZXBvc2l0b3J5KCRzY29wZSk7XG4gICAgICAvLyBUT0RPOiB1c2UgUGF0dGVybkZseSBub3RpZmljYXRpb25zXG4gICAgICBsZXQgc3VjY2VzcyA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgV2lraS5vbkNvbXBsZXRlKHJlc3BvbnNlKTtcbiAgICAgICAgQ29yZS5ub3RpZmljYXRpb24oJ3N1Y2Nlc3MnLCByZXNwb25zZS5maWxlICsgJyBzYXZlZCEnKTtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH07XG4gICAgICBsZXQgZmFpbHVyZSA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgQ29yZS5ub3RpZmljYXRpb24oJ2Vycm9yJywgcmVzcG9uc2UpO1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfTtcbiAgICAgIGxldCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKC0tc2F2aW5nID09PSAwKSB7XG4gICAgICAgICAgYmxvY2tUYWJsZS5tZXNzYWdlKCdSZWZyZXNoaW5nIC4uLicpO1xuICAgICAgICAgIGNvbnRhaW5lcnMubG9hZCh3aWtpLCAkc2NvcGUuYnJhbmNoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGJsb2NrVGFibGUuc3RvcCgpO1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoVXJsSGVscGVycy5qb2luKCcvd29ya3NwYWNlcycsICRzY29wZS5uYW1lc3BhY2UsICdwcm9qZWN0cycsICRzY29wZS5wcm9qZWN0SWQsICdwcm9maWxlcycsICdjb250YWluZXJzJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYmxvY2tUYWJsZS5zdGFydChcIlNhdmluZyAuLi5cIik7XG4gICAgICBzYXZpbmcrKztcbiAgICAgICRzY29wZS5zZWxlY3QubmFtZXMuZm9yRWFjaChuYW1lID0+XG4gICAgICAgIHdpa2kucHV0UGFnZSgkc2NvcGUuYnJhbmNoLCAnY29uZmlncy9jb250YWluZXJzLycgKyBuYW1lICsgJy5jZmcnLCBkZXBsb3lQcm9maWxlcyhuYW1lLCBwcm9maWxlcy5jYXJ0KSwgJ0RlcGxveSBwcm9maWxlcyBpbnRvICcgKyBuYW1lLCBzdWNjZXNzLCBmYWlsdXJlKSk7XG4gICAgfTtcblxuICAgIGxldCBkZXBsb3lQcm9maWxlcyA9IChjb250YWluZXI6IHN0cmluZywgcHJvZmlsZXM6IFByb2ZpbGVbXSk6c3RyaW5nID0+XG4gICAgICAgIHByb2ZpbGVzLnJlZHVjZSgocHJvZmlsZXM6IHN0cmluZywgcHJvZmlsZTogUHJvZmlsZSkgPT4gcHJvZmlsZXMgKyBwcm9maWxlLmlkICsgJyAnLCAncHJvZmlsZXM9JylcbiAgICAgICAgICAuY29uY2F0KCdcXG4nKVxuICAgICAgICAgIC5jb25jYXQoJ2NvbnRhaW5lci10eXBlPWthcmFmIGplbmtpbnNmaWxlJyk7XG5cbiAgICAkc2NvcGUuZXhpc3RpbmdDb250YWluZXJzID0gbmFtZXMgPT4gXy5pbnRlcnNlY3Rpb24obmFtZXMsIF8ucGx1Y2soY29udGFpbmVycy5kYXRhLCAnbmFtZScpKTtcblxuICAgICRzY29wZS5yZWZyZXNoQ29udGFpbmVycyA9ICgpID0+IGNvbnRhaW5lcnMubG9hZChuZXcgV2lraS5HaXRXaWtpUmVwb3NpdG9yeSgkc2NvcGUpLCAkc2NvcGUuYnJhbmNoKTtcbiAgICAkc2NvcGUucmVmcmVzaFByb2ZpbGVzID0gKCkgPT4ge1xuICAgICAgaWYgKCFwcm9maWxlcy5sb2FkaW5nKSB7XG4gICAgICAgIHByb2ZpbGVzLmxvYWQobmV3IFdpa2kuR2l0V2lraVJlcG9zaXRvcnkoJHNjb3BlKSwgJHNjb3BlLmJyYW5jaCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICghKGNvbnRhaW5lcnMubG9hZGVkIHx8IGNvbnRhaW5lcnMubG9hZGluZykpIHtcbiAgICAgICRzY29wZS5yZWZyZXNoQ29udGFpbmVycygpO1xuICAgIH1cbiAgfV0pXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzUGx1Z2luLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzSGVscGVycy50c1wiLz5cblxubW9kdWxlIFByb2ZpbGVzIHtcblxuICBleHBvcnQgaW50ZXJmYWNlIFByb2ZpbGUge1xuICAgIGlkOiAgICAgICAgICBzdHJpbmc7XG4gICAgcGF0aDogICAgICAgIHN0cmluZztcbiAgICBuYW1lOiAgICAgICAgc3RyaW5nO1xuICAgIHRhZ3M/OiAgICAgICBzdHJpbmdbXTtcbiAgICBzdW1tYXJ5PzogICAgc3RyaW5nO1xuICAgIHN1bW1hcnlVcmw/OiBzdHJpbmc7XG4gICAgaWNvbj86ICAgICAgIHN0cmluZztcbiAgICBpY29uVXJsPzogICAgc3RyaW5nO1xuICB9XG5cbiAgZXhwb3J0IGNsYXNzIFByb2ZpbGVzIHtcbiAgICBsb2FkZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGxvYWRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGRhdGE6UHJvZmlsZVtdID0gW107XG4gICAgY2FydDpQcm9maWxlW10gPSBbXTtcbiAgICBwcml2YXRlIHJlcXVlc3RzOm51bWJlciA9IDA7XG5cbiAgICBsb2FkID0gKHdpa2k6V2lraS5HaXRXaWtpUmVwb3NpdG9yeSwgYnJhbmNoOnN0cmluZywgcGF0aDpzdHJpbmcgPSAncHJvZmlsZXMnKTp2b2lkID0+IHtcbiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgICB0aGlzLmRhdGEubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMucmVxdWVzdHMgPSAwO1xuICAgICAgdGhpcy5maW5kUHJvZmlsZXMod2lraSwgYnJhbmNoLCBwYXRoKTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBmaW5kUHJvZmlsZXMgPSAod2lraTpXaWtpLkdpdFdpa2lSZXBvc2l0b3J5LCBicmFuY2g6c3RyaW5nLCBwYXRoOnN0cmluZyk6dm9pZCA9PiB7XG4gICAgICB0aGlzLnJlcXVlc3RzKys7XG4gICAgICAvLyB3ZSBuZWVkIHRvIHJlY3Vyc2l2ZWx5IHRyYXZlcnNlIHRoZSBwcm9maWxlcyBkaXIgdG8gbG9vayBmb3IgcHJvZmlsZXNcbiAgICAgIHdpa2kuZ2V0UGFnZShicmFuY2gsIHBhdGgsIG51bGwsIGRhdGEgPT4ge1xuICAgICAgICBpZihkYXRhLmNoaWxkcmVuKSB7XG4gICAgICAgICAgXy5mb3JFYWNoKGRhdGEuY2hpbGRyZW4sIHZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmKHZhbHVlLmRpcmVjdG9yeSAmJiBfLmVuZHNXaXRoKHZhbHVlLm5hbWUsICcucHJvZmlsZScpKSB7XG4gICAgICAgICAgICAgIHRoaXMubG9hZFByb2ZpbGUod2lraSwgYnJhbmNoLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLmRpcmVjdG9yeSkge1xuICAgICAgICAgICAgICB0aGlzLmZpbmRQcm9maWxlcyh3aWtpLCBicmFuY2gsIHZhbHVlLnBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGxvYWRQcm9maWxlID0gKHdpa2k6V2lraS5HaXRXaWtpUmVwb3NpdG9yeSwgYnJhbmNoOnN0cmluZywgdmFsdWU6YW55KTp2b2lkID0+IHtcbiAgICAgIHZhciBpbmZvID0gL15wcm9maWxlc1xcLygoPzouKylcXC8pKiguKykucHJvZmlsZSQvLmV4ZWModmFsdWUucGF0aCk7XG4gICAgICB2YXIgcHJvZmlsZSA9IDxQcm9maWxlPntcbiAgICAgICAgaWQ6ICAgKGluZm9bMV0gPyBpbmZvWzFdLnJlcGxhY2UoL1xcLy9nLCAnLScpIDogJycpICsgaW5mb1syXSxcbiAgICAgICAgbmFtZTogaW5mb1syXSxcbiAgICAgICAgcGF0aDogdmFsdWUucGF0aCxcbiAgICAgICAgdGFnczogaW5mb1sxXSA/IGluZm9bMV0uc2xpY2UoMCwgLTEpLnNwbGl0KCcvJykgOiBbXVxuICAgICAgfTtcblxuICAgICAgdGhpcy5yZXF1ZXN0cysrO1xuICAgICAgd2lraS5nZXRQYWdlKGJyYW5jaCwgdmFsdWUucGF0aCwgbnVsbCwgZGF0YSA9PiB7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIGRhdGEuY2hpbGRyZW4pIHtcbiAgICAgICAgICBsZXQgbmFtZSA9IGNoaWxkLm5hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICBpZiAobmFtZSA9PSAnUkVBRE1FLk1EJyB8fCBuYW1lID09ICdTVU1NQVJZLk1EJykge1xuICAgICAgICAgICAgcHJvZmlsZS5zdW1tYXJ5VXJsID0gY2hpbGQucGF0aDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gJ0lDT04uU1ZHJykge1xuICAgICAgICAgICAgcHJvZmlsZS5pY29uVXJsID0gY2hpbGQucGF0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgZXhpc3RpbmcgcHJvZmlsZSB3aXRoIHRoZSBuZXcgbG9hZGVkIG9uZVxuICAgICAgICB0aGlzLmRhdGEuc3BsaWNlKF8uc29ydGVkSW5kZXgodGhpcy5kYXRhLCBwcm9maWxlLCAnaWQnKSwgMCwgcHJvZmlsZSk7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvZmlsZXMgc2VsZWN0aW9uIGluIGNhc2UgaXQgY29udGFpbnMgdGhpcyBwcm9maWxlXG4gICAgICAgIGxldCBpID0gXy5maW5kSW5kZXgodGhpcy5jYXJ0LCB7aWQ6IHByb2ZpbGUuaWR9KTtcbiAgICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICAgIHRoaXMuY2FydFtpXSA9IHByb2ZpbGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBjb21wbGV0ZSA9ICgpOnZvaWQgPT4ge1xuICAgICAgaWYgKC0tdGhpcy5yZXF1ZXN0cyA9PT0gMCkge1xuICAgICAgICBTZWxlY3Rpb25IZWxwZXJzLnN5bmNHcm91cFNlbGVjdGlvbih0aGlzLmNhcnQsIHRoaXMuZGF0YSwgJ2lkJyk7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGNsYXNzIFByb2ZpbGVWaWV3IHtcbiAgICBvcGVuOiAgYm9vbGVhbjtcbiAgICBmb3JjZTogYm9vbGVhbjtcbiAgICBzY29wZTogYW55O1xuXG4gICAgY29uc3RydWN0b3IgKHNjb3BlOiBhbnkpIHtcbiAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG5cbiAgICBnZXQgb3Blbk9yU2luZ2xlKCk6Ym9vbGVhbiB7XG4gICAgICBsZXQgc2NvcGUgPSB0aGlzLnNjb3BlO1xuICAgICAgaWYgKHNjb3BlLmZpbHRlcmVkUHJvZmlsZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICghdGhpcy5mb3JjZSAmJiAoIXNjb3BlLmxvYWRpbmcoKSB8fCBzY29wZS5wcm9maWxlcy5sZW5ndGggPiAxKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZvcmNlID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vcGVuO1xuICAgIH1cblxuICAgIHNldCBvcGVuT3JTaW5nbGUob3Blbjpib29sZWFuKSB7XG4gICAgICBpZiAodGhpcy5zY29wZS5maWx0ZXJlZFByb2ZpbGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0aGlzLmZvcmNlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3BlbiA9IG9wZW47XG4gICAgfVxuICB9XG5cbiAgY2xhc3MgUHJvZmlsZVZpZXdzIHtcbiAgICBzZWxlY3RlZFRhZ3M6c3RyaW5nW10gPSBbXTtcbiAgICBwcm9maWxlVmlld3M6T2JqZWN0ICAgPSB7fTtcbiAgfVxuXG4gIG1vZHVsZS5zZXJ2aWNlKCdwcm9maWxlcycsIFByb2ZpbGVzKTtcbiAgbW9kdWxlLnNlcnZpY2UoJ3Byb2ZpbGVWaWV3cycsIFByb2ZpbGVWaWV3cyk7XG5cbiAgbW9kdWxlLmZpbHRlcignZmlsdGVyQ29sbGVjdGlvbicsICgpID0+IChjb2xsZWN0aW9uLCB0ZXh0KSA9PlxuICAgIENvcmUuaXNCbGFuayh0ZXh0KVxuICAgICAgPyBjb2xsZWN0aW9uXG4gICAgICA6IF8uZmlsdGVyKGNvbGxlY3Rpb24sIGl0ZW0gPT4gRmlsdGVySGVscGVycy5zZWFyY2hPYmplY3QoaXRlbSwgdGV4dCkpKTtcblxuICBtb2R1bGUuY29udHJvbGxlcignUHJvZmlsZXMuUHJvZmlsZXNDb250cm9sbGVyJyxcbiAgICAgIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICdtYXJrZWQnLCAnJHNjZScsICdwcm9maWxlcycsICdwcm9maWxlVmlld3MnLFxuICAgICAgICgkc2NvcGUsICRsb2NhdGlvbiwgbWFya2VkLCAkc2NlLCBwcm9maWxlczogUHJvZmlsZXMsIHByb2ZpbGVWaWV3czogUHJvZmlsZVZpZXdzKSA9PiB7XG4gICAgJHNjb3BlLnRhYnMgPSBjcmVhdGVQcm9maWxlc1N1Yk5hdkJhcnMoJHNjb3BlLm5hbWVzcGFjZSwgJHNjb3BlLnByb2plY3RJZCk7XG4gICAgLy8gQXNzb2NpYXRlIHRoaXMgY29udHJvbGxlciBzY29wZSB0byB0aGUgRm9yZ2VQcm9qZWN0U2VydmljZVxuICAgIEZvcmdlLnVwZGF0ZUZvcmdlUHJvamVjdCgkc2NvcGUpO1xuICAgICRzY29wZS5naXRSZXN0VXJsID0gcGF0aCA9PiBXaWtpLmdpdFJlc3RVUkwoJHNjb3BlLCBwYXRoKTtcblxuICAgICRzY29wZS5wcm9maWxlcyA9IHByb2ZpbGVzLmRhdGE7XG4gICAgJHNjb3BlLnNlbGVjdGlvbiA9IHByb2ZpbGVzLmNhcnQ7XG5cbiAgICAkc2NvcGUuc2VsZWN0ZWRUYWdzID0gcHJvZmlsZVZpZXdzLnNlbGVjdGVkVGFncztcbiAgICAkc2NvcGUucHJvZmlsZVZpZXdzID0gcHJvZmlsZVZpZXdzLnByb2ZpbGVWaWV3cztcblxuICAgIFNlbGVjdGlvbkhlbHBlcnMuZGVjb3JhdGUoJHNjb3BlKTtcbiAgICAkc2NvcGUuaXNCbGFuayA9IENvcmUuaXNCbGFuaztcbiAgICAkc2NvcGUubG9hZGluZyA9ICgpID0+IHByb2ZpbGVzLmxvYWRpbmc7XG4gICAgJHNjb3BlLndpa2lMaW5rID0gcGF0aCA9PiBXaWtpLnZpZXdMaW5rKCRzY29wZS5wcm9qZWN0SWQsICRzY29wZS5icmFuY2gsIHBhdGgsICRsb2NhdGlvbik7XG5cbiAgICBsZXQgd2lraSA9IG5ldyBXaWtpLkdpdFdpa2lSZXBvc2l0b3J5KCRzY29wZSk7XG5cbiAgICAkc2NvcGUubG9hZFN1bW1hcnkgPSAocHJvZmlsZTogUHJvZmlsZSkgPT4ge1xuICAgICAgaWYgKHByb2ZpbGUuc3VtbWFyeVVybCkge1xuICAgICAgICBsZXQgcmVuZGVyZXIgPSBuZXcgbWFya2VkLlJlbmRlcmVyKCk7XG4gICAgICAgIC8vIEFkYXB0IHRoZSByZWxhdGl2ZSBpbWFnZSBVUkxzIHRvIHJldHJpZXZlIGNvbnRlbnQgZnJvbSB0aGUgRm9yZ2UgQVBJXG4gICAgICAgIHJlbmRlcmVyLmltYWdlID0gKGhyZWY6IHN0cmluZywgdGl0bGU6IHN0cmluZywgdGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgbGV0IHVyaSA9IG5ldyBVUkkoaHJlZik7XG4gICAgICAgICAgaWYgKHVyaS5pcygncmVsYXRpdmUnKSkge1xuICAgICAgICAgICAgaWYgKF8uc3RhcnRzV2l0aCh1cmkucGF0aCgpLCAnLycpKSB7XG4gICAgICAgICAgICAgIHVyaS5zZWdtZW50KFsncHJvZmlsZXMnLCAuLi51cmkuc2VnbWVudCgpXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB1cmkgPSB1cmkuYWJzb2x1dGVUbyhVcmxIZWxwZXJzLmpvaW4ocHJvZmlsZS5wYXRoLCAnLycpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEdldCB0aGUgaW1hZ2UgVVJMIGZvciB0aGUgRm9yZ2UgUkVTVCBBUElcbiAgICAgICAgICAgIGxldCBzcmMgPSBXaWtpLmdpdFJlc3RVUkwoJHNjb3BlLCB1cmkubm9ybWFsaXplKCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAvLyBhbmQgdXNlIFVSTC5jcmVhdGVPYmplY3RVUkwgdmlhIGFuZ3VsYXItaW1nLWh0dHAtc3JjIHRvIGdldCBhbiBVUkwgZm9yIHRoZSBpbWFnZSBCTE9CXG4gICAgICAgICAgICByZXR1cm4gJzxpbWcgc3JjPVwiaW1nL2xvYWRlci5zdmdcIiBodHRwLXNyYz1cIicgKyBzcmMgKyAnXCIgYWx0PVwiJyArICh0aXRsZSA/IHRpdGxlIDogdGV4dCkgKyAnXCIgLz4nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTaW1wbHkgcmV0dXJuIHRoZSBpbWcgdGFnIHdpdGggdGhlIG9yaWdpbmFsIGxvY2F0aW9uXG4gICAgICAgICAgICByZXR1cm4gJzxpbWcgc3JjPVwiJyArIGhyZWYgKyAnXCIgYWx0PVwiJyArICh0aXRsZSA/IHRpdGxlIDogdGV4dCkgKyAnXCIgLz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB3aWtpLmdldFBhZ2UoJHNjb3BlLmJyYW5jaCwgcHJvZmlsZS5zdW1tYXJ5VXJsLCBudWxsLFxuICAgICAgICAgICAgZGF0YSA9PiBwcm9maWxlLnN1bW1hcnkgPSBtYXJrZWQoZGF0YS50ZXh0LCB7cmVuZGVyZXI6IHJlbmRlcmVyfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZmlsZS5zdW1tYXJ5ID0gJzxlbT5ubyBzdW1tYXJ5PC9lbT4nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuYXNzaWduUHJvZmlsZXMgPSAoKSA9PiAkbG9jYXRpb24ucGF0aChVcmxIZWxwZXJzLmpvaW4oJy93b3Jrc3BhY2VzJywgJHNjb3BlLm5hbWVzcGFjZSwgJ3Byb2plY3RzJywgJHNjb3BlLnByb2plY3RJZCwgJ3Byb2ZpbGVzJywgJ2NvbnRhaW5lcnMnLCAnYXNzaWduUHJvZmlsZXMnKSk7XG5cbiAgICAkc2NvcGUuZGVwbG95UHJvZmlsZXMgPSAoKSA9PiAkbG9jYXRpb24ucGF0aChVcmxIZWxwZXJzLmpvaW4oJy93b3Jrc3BhY2VzJywgJHNjb3BlLm5hbWVzcGFjZSwgJ3Byb2plY3RzJywgJHNjb3BlLnByb2plY3RJZCwgJ3Byb2ZpbGVzJywgJ2NvbnRhaW5lcnMnLCAnZGVwbG95UHJvZmlsZXMnKSk7XG5cbiAgICBsZXQgdXBkYXRlUHJvZmlsZVZpZXdzID0gcHJvZmlsZXMgPT4gXy5yZWR1Y2UocHJvZmlsZXMsIChwcm9maWxlVmlld3M6IFByb2ZpbGVWaWV3cywgcHJvZmlsZTogUHJvZmlsZSkgPT4ge1xuICAgICAgaWYgKCFfLmhhcyhwcm9maWxlVmlld3MsIHByb2ZpbGUuaWQpKSB7XG4gICAgICAgIHByb2ZpbGVWaWV3c1twcm9maWxlLmlkXSA9IG5ldyBQcm9maWxlVmlldygkc2NvcGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZmlsZVZpZXdzW3Byb2ZpbGUuaWRdLnNjb3BlID0gJHNjb3BlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb2ZpbGVWaWV3cztcbiAgICB9LCAkc2NvcGUucHJvZmlsZVZpZXdzKTtcblxuICAgIF8ua2V5cygkc2NvcGUucHJvZmlsZVZpZXdzKS5mb3JFYWNoKGtleSA9PiBkZWxldGUgJHNjb3BlLnByb2ZpbGVWaWV3c1trZXldKTtcbiAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbigncHJvZmlsZXMnLCB1cGRhdGVQcm9maWxlVmlld3MpO1xuXG4gICAgJHNjb3BlLnJlZnJlc2ggPSAoKSA9PiBwcm9maWxlcy5sb2FkKHdpa2ksICRzY29wZS5icmFuY2gpO1xuXG4gICAgaWYgKCEocHJvZmlsZXMubG9hZGVkIHx8IHByb2ZpbGVzLmxvYWRpbmcpKSB7XG4gICAgICAkc2NvcGUucmVmcmVzaCgpO1xuICAgIH1cbiAgfV0pXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzUGx1Z2luLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cInByb2ZpbGVzSGVscGVycy50c1wiLz5cblxubW9kdWxlIFByb2ZpbGVzIHtcblxuICBtb2R1bGUuY29udHJvbGxlcignUHJvZmlsZXMuU2V0dGluZ3NDb250cm9sbGVyJywgWyckc2NvcGUnLCAoJHNjb3BlKSA9PiB7XG4gICAgICAkc2NvcGUudGFicyA9IGNyZWF0ZVByb2ZpbGVzU3ViTmF2QmFycygkc2NvcGUubmFtZXNwYWNlLCAkc2NvcGUucHJvamVjdElkKTtcbiAgICAgIC8vIEFzc29jaWF0ZSB0aGlzIGNvbnRyb2xsZXIgc2NvcGUgdG8gdGhlIEZvcmdlUHJvamVjdFNlcnZpY2VcbiAgICAgIEZvcmdlLnVwZGF0ZUZvcmdlUHJvamVjdCgkc2NvcGUpO1xuXG4gICAgICB2YXIgd2lraVJlcG9zaXRvcnkgPSBuZXcgV2lraS5HaXRXaWtpUmVwb3NpdG9yeSgkc2NvcGUpO1xuICBcbiAgICAgIC8vIFdlIHVzZSAkc2NvcGUubG9hZGluZyB0byByZWZlcmVuY2UgY291bnQgbG9hZGluZyBvcGVyYXRpb25zIHNvIHRoYXQgd2Uga25vdyB3aGVuIGFsbCB0aGUgZGF0YVxuICAgICAgLy8gZm9yIHRoaXMgdmlldyBoYXMgYmVlbiBmZXRjaGVkLlxuICAgICAgJHNjb3BlLmxvYWRpbmcgPSAwO1xuXG4gICAgICAkc2NvcGUuY29uZmlnID0ge1xuICAgICAgICBzdHlsZTogSGF3dGlvRm9ybXMuRm9ybVN0eWxlLlNUQU5EQVJELFxuICAgICAgICBtb2RlOiBIYXd0aW9Gb3Jtcy5Gb3JtTW9kZS5WSUVXLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgZ2l0UmVtb3RlVXJpUGF0dGVybjoge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0dpdCByZW1vdGUgVVJJIHBhdHRlcm4gZm9yIGFsbCBjb250YWluZXJzLCBuYW1lIGlzIHRoZSBuYW1lIG9mIHRoZSBjb250YWluZXIsIGUuZy4gcm9vdCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdvZ3NVc2VybmFtZToge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ29nc1Bhc3N3b3JkOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdwYXNzd29yZCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdyb3VwSWQ6IHtcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgICB9LFxuICAgICAgICAgIHZlcnNpb246IHtcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZWZyZXNoID0gKCkgPT4ge1xuICAgICAgICAkc2NvcGUubG9hZGluZysrO1xuICAgICAgICB3aWtpUmVwb3NpdG9yeS5nZXRQYWdlKCRzY29wZS5icmFuY2gsICdmYWJyaWM4LXByb2ZpbGVzLmNmZycsIG51bGwsIGRhdGEgPT4ge1xuICAgICAgICAgICRzY29wZS5sb2FkaW5nLS07XG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzID0gZGF0YS50ZXh0O1xuICAgICAgICAgICRzY29wZS5wcm9wZXJ0aWVzID0gcGFyc2VQcm9wZXJ0aWVzKGRhdGEudGV4dCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCgnbG9hZGluZycsIHZhbHVlID0+ICRzY29wZS5jb25maWcubW9kZSA9IHZhbHVlID4gMFxuICAgICAgICA/IEhhd3Rpb0Zvcm1zLkZvcm1Nb2RlLlZJRVdcbiAgICAgICAgOiBIYXd0aW9Gb3Jtcy5Gb3JtTW9kZS5FRElUKTtcblxuICAgICAgJHNjb3BlLnNhdmUgPSAoKSA9PiB7XG4gICAgICAgIHZhciBlZGl0ID0gYXBwbHkoJHNjb3BlLnByb3BlcnRpZXMsICRzY29wZS5zZXR0aW5ncyk7XG4gICAgICAgIGlmIChlZGl0ICE9ICRzY29wZS5zZXR0aW5ncykge1xuICAgICAgICAgICRzY29wZS5sb2FkaW5nKys7XG4gICAgICAgICAgLy8gVE9ETzogdXNlIFBhdHRlcm5GbHkgbm90aWZpY2F0aW9uc1xuICAgICAgICAgIHdpa2lSZXBvc2l0b3J5LnB1dFBhZ2UoJHNjb3BlLmJyYW5jaCwgJ2ZhYnJpYzgtcHJvZmlsZXMuY2ZnJywgZWRpdCwgJ1VwZGF0ZSBwcm9maWxlcyBzZXR0aW5ncycsXG4gICAgICAgICAgICByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgIFdpa2kub25Db21wbGV0ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgIENvcmUubm90aWZpY2F0aW9uKCdzdWNjZXNzJywgcmVzcG9uc2UuZmlsZSArICcgc2F2ZWQhJyk7XG4gICAgICAgICAgICAgICRzY29wZS5sb2FkaW5nLS07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICBDb3JlLm5vdGlmaWNhdGlvbignZXJyb3InLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICRzY29wZS5sb2FkaW5nLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbGV0IGFwcGx5ID0gKHByb3BlcnRpZXM6YW55LCBzZXR0aW5nczpzdHJpbmcpOnN0cmluZyA9PlxuICAgICAgICBzZXR0aW5ncy5yZXBsYWNlKC9eKFteIz1dKyk9KC4qKSQvZ20sIChtYXRjaCwga2V5LCB2YWx1ZSkgPT4ga2V5ICsgJz0nICsgcHJvcGVydGllc1trZXldIHx8IHZhbHVlKTtcblxuICAgICAgJHNjb3BlLnJlZnJlc2goKTtcbiAgICB9XG4gIF0pO1xufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

angular.module("hawtio-profiles-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("plugins/profiles/html/assignProfiles.html","<div ng-controller=\"Profiles.AssignProfilesController\">\n\n  <div class=\"row\">\n    <div template-cache-include=\"plugins/kubernetes/html/tabs.html\"></div>\n  </div>\n\n  <h2>Assign profile(s) to container(s)</h2>\n\n  <div class=\"row\">\n    <form class=\"form-horizontal\">\n      <div class=\"form-group has-feedback\" ng-class=\"profiles.cart.length > 0 ? \'has-success\' : \'has-error\'\">\n        <label class=\"control-label col-sm-2\">Profile(s)</label>\n        <div class=\"col-sm-9\">\n          <div class=\"input-group\">\n            <ui-select multiple sortable=\"true\" ng-model=\"profiles.cart\" theme=\"bootstrap\" aria-describedby=\"selectProfilesStatus\">\n              <ui-select-match placeholder=\"Select profiles...\">\n                <img ng-if=\"$item.iconUrl\" width=\"16px\" height=\"16px\"\n                     class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                     src=\"img/loader.svg\"\n                     http-src=\"{{gitRestUrl($item.iconUrl)}}\" media-type=\"image/svg+xml\" />\n                <img ng-if=\"!$item.iconUrl\" width=\"16px\" height=\"16px\"\n                     class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                     src=\"img/fabric8_icon.svg\" />\n                {{$item.id}}\n              </ui-select-match>\n              <ui-select-choices group-by=\"profileGroups\" repeat=\"profile in (profiles.data | filter: $select.search) track by profile.id\">\n                <img ng-if=\"profile.iconUrl\"\n                     class=\"profile-logo\" style=\"max-width: 32px; max-height: 32px\"\n                     src=\"img/loader.svg\"\n                     http-src=\"{{gitRestUrl(profile.iconUrl)}}\" media-type=\"image/svg+xml\" />\n                <img ng-if=\"!profile.iconUrl\"\n                     class=\"profile-logo\" style=\"max-width: 32px; max-height: 32px\"\n                     src=\"img/fabric8_icon.svg\" />\n                <span ng-bind-html=\"profile.id | highlight: $select.search\"></span>\n              </ui-select-choices>\n              <ui-select-no-choice>\n                <a ng-click=\"refreshProfiles()\">No profile is available. Click to refresh available profiles.</a>\n              </ui-select-no-choice>\n            </ui-select>\n            <span class=\"glyphicon form-control-feedback\" ng-class=\"profiles.cart.length > 0 ? \'glyphicon-ok\' : \'glyphicon-remove\'\" aria-hidden=\"true\"></span>\n            <span id=\"selectProfilesStatus\" class=\"sr-only\">{{profiles.cart.length > 0 ? \'(success)\' : \'(error)\'}}</span>\n            <span class=\"input-group-addon\">\n              <span class=\"fa fa-refresh\" ng-click=\"refreshProfiles()\" ng-class=\"{\'fa-spin\': profiles.loading}\"></span>\n            </span>\n          </div>\n          <span ng-show=\"profiles.cart.length == 0\" class=\"help-block\">At least one profile is required</span>\n        </div>\n      </div>\n      <div class=\"form-group has-feedback\" ng-class=\"containers.cart.length > 0 ? \'has-success\' : \'has-error\'\">\n        <label class=\"control-label col-sm-2\">Container(s)</label>\n        <div class=\"col-sm-9\">\n          <div class=\"input-group\">\n            <ui-select multiple sortable=\"true\" ng-model=\"containers.cart\" theme=\"bootstrap\" aria-describedby=\"selectContainersStatus\">\n              <ui-select-match placeholder=\"Select containers...\">{{$item.name}}</ui-select-match>\n              <ui-select-choices repeat=\"container in (containers.data | filter: $select.search)\">\n                <div ng-bind-html=\"container.name | highlight: $select.search\"></div>\n              </ui-select-choices>\n              <ui-select-no-choice>\n                No container is available! Click on the refresh button\n              </ui-select-no-choice>\n            </ui-select>\n            <span class=\"glyphicon form-control-feedback\" ng-class=\"containers.cart.length > 0 ? \'glyphicon-ok\' : \'glyphicon-remove\'\" aria-hidden=\"true\"></span>\n            <span id=\"selectContainersStatus\" class=\"sr-only\">{{containers.cart.length > 0 ? \'(success)\' : \'(error)\'}}</span>\n            <span class=\"input-group-addon\">\n              <span class=\"fa fa-refresh\" ng-click=\"refreshContainers()\" ng-class=\"{\'fa-spin\': containers.loading}\"></span>\n            </span>\n          </div>\n          <span ng-show=\"containers.cart.length == 0\" class=\"help-block\">At least one container must be selected</span>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <div class=\"col-sm-offset-2 col-sm-9\">\n          <button class=\"btn btn-primary pull-right\" ng-disabled=\"profiles.cart.length == 0 || containers.cart.length == 0 || containers.loading || saving()\" ng-click=\"assignProfiles()\"><i class=\"fa fa-cloud-upload\"></i> Assign</button>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <h2>Containers <i ng-show=\"containers.loading\" class=\"fa fa-refresh fa-spin\"></i> <span class=\"badge\">{{containers.cart.length + \'/\' + containers.data.length}}</span></h2>\n\n  <div class=\"row\" block-ui=\"blockTable\">\n    <div ng-include=\"\'plugins/profiles/html/containerList.html\'\"></div>\n  </div>\n\n</div>\n");
$templateCache.put("plugins/profiles/html/containerList.html","<div ng-controller=\"Profiles.ContainerListController\">\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <table class=\"table table-bordered table-striped\" hawtio-simple-table=\"tableConfig\"></table>\n    </div>\n  </div>\n</div>\n\n<script type=\"text/ng-template\" id=\"containerName.html\">\n  <div class=\"ngCellText nowrap\">\n    <a ng-if=\"row.entity.rc\" href=\"\" title=\"View details for {{row.entity.name}}\"\n       ng-href=\"{{row.entity.rc | kubernetesPageLink}}\">\n      {{row.entity.name}}\n    </a>\n    <span ng-if=\"!row.entity.rc\">{{row.entity.name}}</span>\n  </div>\n</script>\n\n<script type=\"text/ng-template\" id=\"containerPods.html\">\n  <div class=\"ngCellText nowrap\">\n    <i ng-if=\"!row.entity.rc || row.entity.rc.$pods.length === 0\" class=\"fa fa-power-off\"></i>\n    <ul class=\"plain-list\">\n      <li ng-repeat=\"pod in row.entity.rc.$pods\">\n        <i ng-class=\"pod.$statusCss\"></i>\n        <a href=\"\" title=\"View details for {{pod.metadata.name}}\"\n           ng-href=\"{{pod | kubernetesPageLink}}\">\n          {{pod.metadata.name}}\n        </a>\n        <span ng-show=\"pod.$jolokiaUrl && pod.$ready\" ng-controller=\"Kubernetes.ConnectController\">\n          <!--\n            Redirects to the OpenShift JVM plugin for the corresponding pod\n            Requires to use the \'serve-site\' task for local development\n          -->\n          <a class=\"clickable\"\n             ng-click=\"doConnect(pod)\"\n             title=\"Open a new window and connect to this container\">\n            <i class=\"fa fa-sign-in\"></i>\n          </a>\n        </span>\n        <span ng-show=\"pod.status.phase === \'Running\'\" ng-controller=\"Kubernetes.TermController\">\n          <span ng-repeat=\"container in pod.spec.containers\" ng-show=\"canConnectTo(container)\">\n            <a href=\"\" ng-href=\"{{pod | kubernetesPageLink:\'term\':container.name}}\">\n              <i class=\"fa fa-television clickable\" title=\"Open up a terminal to {{pod.metadata.name}}:{{container.name}}\"></i>\n            </a>\n          </span>\n        </span>\n        <span ng-show=\"pod.status.phase === \'Running\'\" ng-controller=\"Kubernetes.PodLogLinkController\">\n          <span ng-repeat=\"container in pod.spec.containers\">\n            <a href=\"\" ng-href=\"{{pod | kubernetesPageLink:\'log\':container.name}}\">\n              <i class=\"fa fa-file-text clickable\" title=\"Open up the log for {{pod.metadata.name}}:{{container.name}}\"></i>\n            </a>\n          </span>\n        </span>\n      </li>\n    </ul>\n  </div>\n</script>\n\n<script type=\"text/ng-template\" id=\"containerTypes.html\">\n  <div class=\"ngCellText nowrap\">\n    <ul class=\"plain-list\">\n      <li class=\"inline-block\" ng-repeat=\"icon in row.entity.icons\">\n        <hawtio-icon config=\"icon\"/>\n      </li>\n    </ul>\n  </div>\n</script>\n\n<script type=\"text/ng-template\" id=\"containerProfiles.html\">\n  <div class=\"ngCellText nowrap\">\n    <ul class=\"plain-list\">\n      <li class=\"inline-block\" ng-repeat=\"profile in row.entity.profiles\">\n        <button ng-if=\"profile.id\" class=\"btn btn-link\" ng-click=\"$parent.$parent.$parent.$parent.viewProfile(profile);$event.stopPropagation();\">{{profile.id}} <i class=\"fa fa-files-o\"></i></button>\n        <span ng-if=\"!profile.id\" class=\"text-muted\">\n          {{profile}}\n          <i ng-if=\"$parent.$parent.$parent.$parent.profiles.loading\" class=\"fa fa-refresh fa-spin\"></i>\n          <i ng-if=\"$parent.$parent.$parent.$parent.profiles.loaded\" class=\"fa fa-chain-broken\"></i>\n        </span>\n      </li>\n    </ul>\n  </div>\n</script>");
$templateCache.put("plugins/profiles/html/containers.html","<div ng-controller=\"Profiles.ContainersController\">\n\n  <div class=\"row\">\n    <div template-cache-include=\"plugins/kubernetes/html/tabs.html\"></div>\n  </div>\n\n  <button class=\"btn btn-primary pull-right\" ng-disabled=\"containers.loading\" ng-click=\"refresh()\">\n    <i class=\"fa fa-refresh\" ng-class=\"{\'fa-spin\': containers.loading}\"></i> Refresh\n  </button>\n\n  <h2>Containers <i ng-show=\"containers.loading\" class=\"fa fa-refresh fa-spin\"></i> <span class=\"badge\" ng-show=\"containers.data.length > 0\">{{containers.length}}</span></h2>\n\n  <div class=\"row\" block-ui=\"blockTable\">\n    <div ng-include=\"\'plugins/profiles/html/containerList.html\'\"></div>\n  </div>\n\n  <div class=\"row pull-right\">\n    <button class=\"btn btn-link\"\n            type=\"button\"\n            ng-disabled=\"containers.loading || saving()\"\n            ng-click=\"createContainers()\"\n            title=\"Create new container(s) from a set of profiles\">\n      Create <i class=\"fa fa-cubes\"></i>\n    </button>\n    <button class=\"btn btn-link\"\n            type=\"button\"\n            ng-disabled=\"!containers.cart.length || containers.loading || saving()\"\n            ng-click=\"assignProfiles()\"\n            title=\"Modify the selected container(s) by changing the set of profiles\">\n      Assign profiles <i class=\"fa fa-magic\"></i>\n    </button>\n    <button class=\"btn btn-danger\"\n            type=\"button\"\n            ng-disabled=\"!containers.cart.length || containers.loading || saving()\"\n            ng-click=\"deleteContainers()\"\n            title=\"Delete the selected container(s)\">\n      Delete <i class=\"fa fa-times-circle\"></i>\n    </button>\n  </div>\n\n</div>");
$templateCache.put("plugins/profiles/html/deployProfiles.html","<div ng-controller=\"Profiles.DeployProfilesController\">\n\n  <div class=\"row\">\n    <div template-cache-include=\"plugins/kubernetes/html/tabs.html\"></div>\n  </div>\n\n  <h2>Deploy profile(s) into new container(s)</h2>\n\n  <div class=\"row\">\n    <form class=\"form-horizontal\">\n      <div class=\"form-group has-feedback\" ng-class=\"profiles.cart.length > 0 ? \'has-success\' : \'has-error\'\">\n        <label class=\"control-label col-sm-2\">Profile(s)</label>\n        <div class=\"col-sm-9\">\n          <div class=\"input-group\">\n            <ui-select multiple sortable=\"true\" ng-model=\"profiles.cart\" theme=\"bootstrap\" aria-describedby=\"selectProfilesStatus\">\n              <ui-select-match placeholder=\"Select profiles...\">\n                <img ng-if=\"$item.iconUrl\" width=\"16px\" height=\"16px\"\n                     class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                     src=\"img/loader.svg\"\n                     http-src=\"{{gitRestUrl($item.iconUrl)}}\" media-type=\"image/svg+xml\" />\n                <img ng-if=\"!$item.iconUrl\" width=\"16px\" height=\"16px\"\n                     class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                     src=\"img/fabric8_icon.svg\" />\n                {{$item.id}}\n              </ui-select-match>\n              <ui-select-choices group-by=\"profileGroups\" repeat=\"profile in (profiles.data | filter: $select.search) track by profile.id\">\n                <img ng-if=\"profile.iconUrl\"\n                     class=\"profile-logo\" style=\"max-width: 32px; max-height: 32px\"\n                     src=\"img/loader.svg\"\n                     http-src=\"{{gitRestUrl(profile.iconUrl)}}\" media-type=\"image/svg+xml\" />\n                <img ng-if=\"!profile.iconUrl\"\n                     class=\"profile-logo\" style=\"max-width: 32px; max-height: 32px\"\n                     src=\"img/fabric8_icon.svg\" />\n                <span ng-bind-html=\"profile.id | highlight: $select.search\"></span>\n              </ui-select-choices>\n              <ui-select-no-choice>\n                <a ng-click=\"refreshProfiles()\">No profile is available. Click to refresh available profiles.</a>\n              </ui-select-no-choice>\n            </ui-select>\n            <span class=\"glyphicon form-control-feedback\" ng-class=\"profiles.cart.length > 0 ? \'glyphicon-ok\' : \'glyphicon-remove\'\" aria-hidden=\"true\"></span>\n            <span id=\"selectProfilesStatus\" class=\"sr-only\">{{profiles.cart.length > 0 ? \'(success)\' : \'(error)\'}}</span>\n            <span class=\"input-group-addon\">\n              <span class=\"fa fa-refresh\" ng-click=\"refreshProfiles()\" ng-class=\"{\'fa-spin\': profiles.loading}\"></span>\n            </span>\n          </div>\n          <span ng-show=\"profiles.cart.length == 0\" class=\"help-block\">At least one profile is required</span>\n        </div>\n      </div>\n      <div class=\"form-group has-feedback\" ng-class=\"(status = select.names.length > 0 ? ((existing = existingContainers(select.names)).length > 0 ? \'has-warning\' : \'has-success\') : \'has-error\')\">\n        <label class=\"control-label col-sm-2\">Name(s)</label>\n        <div class=\"col-sm-9\">\n          <ui-select multiple tagging tagging-label=\"false\" tagging-tokens=\"ENTER|SPACE\" ng-model=\"select.names\" theme=\"bootstrap\" aria-describedby=\"selectNamesStatus\">\n            <ui-select-match placeholder=\"Enter names...\">\n              <span ng-if=\"existing.indexOf($item) >= 0\" class=\"glyphicon glyphicon-alert\" ng-class=\"{\'text-warning\': $selectMultiple.activeMatchIndex !== $index}\" aria-hidden=\"true\"></span>\n              <span ng-class=\"{\'text-warning\': existing.indexOf($item) >= 0 && $selectMultiple.activeMatchIndex !== $index}\">{{$item}}</span>\n            </ui-select-match>\n            <ui-select-choices repeat=\"item in []\"></ui-select-choices>\n          </ui-select>\n          <span class=\"glyphicon form-control-feedback\" ng-class=\"select.names.length > 0 ? (existing.length > 0 ? \'glyphicon-warning-sign\' : \'glyphicon-ok\') : \'glyphicon-remove\'\" aria-hidden=\"true\"></span>\n          <span id=\"selectNamesStatus\" class=\"sr-only\">{{select.names.length > 0 ? \'(success)\' : \'(error)\'}}</span>\n          <span ng-show=\"select.names.length == 0\" class=\"help-block\">At least one container name is required</span>\n          <span ng-show=\"select.names.length != 0 && existing.length > 0\" class=\"help-block\">Some container profiles will be overwritten</span>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <div class=\"col-sm-offset-2 col-sm-9\">\n          <button class=\"btn btn-primary pull-right\" ng-disabled=\"profiles.cart.length == 0 || select.names.length == 0 || containers.loading || saving()\" ng-click=\"deployProfiles()\"><i class=\"fa fa-cloud-upload\"></i> Deploy</button>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <h2>Existing containers <i ng-show=\"containers.loading\" class=\"fa fa-refresh fa-spin\"></i> <span class=\"badge\">{{containers.data.length}}</span></h2>\n\n  <div class=\"row\" block-ui=\"blockTable\">\n    <div ng-include=\"\'plugins/profiles/html/containerList.html\'\"></div>\n  </div>\n\n</div>\n");
$templateCache.put("plugins/profiles/html/profileSummary.html","<div class=\"row\">\n  <div class=\"col-md-2\">\n    <a ng-href=\"{{wikiLink(profile.path)}}\">Details...</a>\n    <!-- ideally angular-img-http-src would reuse the same BLOB for the same URLs though\n         it seems it creates a new one each time -->\n    <!-- TODO: use the fileExtensionTypeRegistry service to retrieve the MIME type -->\n    <img class=\"profile-logo\" ng-if=\"profile.iconUrl\" src=\"img/loader.svg\" http-src=\"{{gitRestUrl(profile.iconUrl)}}\" media-type=\"image/svg+xml\" />\n    <img class=\"profile-logo\" ng-if=\"!profile.iconUrl\" src=\"img/fabric8_icon.svg\" />\n  </div>\n\n  <div class=\"col-md-10\">\n    <i ng-hide=\"profile.summary\" class=\"fa fa-refresh fa-spin\"></i>\n    <!-- We need to use compile directive so that the http-src directive from angular-img-http-src applied -->\n    <div class=\"profile-summary\" ng-show=\"profile.summary\" compile=\"profile.summary\"></div>\n  </div>\n</div>");
$templateCache.put("plugins/profiles/html/profiles.html","<div ng-controller=\"Profiles.ProfilesController\">\n\n  <div class=\"row\">\n    <div template-cache-include=\"plugins/kubernetes/html/tabs.html\"></div>\n  </div>\n\n  <button class=\"btn btn-primary pull-right\" ng-disabled=\"loading()\" ng-click=\"refresh()\">\n    <i class=\"fa fa-refresh\" ng-class=\"{\'fa-spin\': loading()}\"></i> Refresh\n  </button>\n\n  <h2 class=\"inline-block\">\n    Profiles\n    <i ng-show=\"loading()\" class=\"fa fa-refresh fa-spin\"></i>\n    <span class=\"badge\" ng-show=\"profiles.length > 0\">{{selectedTags.length > 0 || !isBlank(searchFilter) ? (filteredProfiles = (profiles | selectedTags:\'tags\':selectedTags | filterCollection:searchFilter)).length + \' / \' + profiles.length : (filteredProfiles = profiles).length}}</span>\n    <hawtio-filter ng-model=\"searchFilter\"\n                   css-class=\"search-input\"\n                   placeholder=\"Search...\"\n                   save-as=\"profiles-search-filter\">\n    </hawtio-filter>\n  </h2>\n\n  <div>\n    <div class=\"row-fluid\">\n      <div class=\"col-md-8\">\n        <accordion close-others=\"false\">\n          <accordion-group ng-init=\"profileView = profileViews[profile.id]\" is-open=\"profileView.openOrSingle\" ng-repeat=\"profile in filteredProfiles\">\n            <accordion-heading>\n              <div class=\"pull-left\">\n                <i class=\"glyphicon\" ng-class=\"{\'glyphicon-chevron-down\': profileView.openOrSingle, \'glyphicon-chevron-right\': !profileView.openOrSingle}\"></i>\n              </div>\n              <div class=\"pull-right\">\n                <!-- See https://github.com/angular-ui/bootstrap/issues/3299 -->\n                <hawtio-tag-list tags=\"profile.tags\" selected=\"selectedTags\"\n                                 ng-click=\"$event.stopPropagation();$event.preventDefault();\"></hawtio-tag-list>\n                <input type=\"checkbox\" ng-checked=\"isInGroup(selection, profile)\"\n                       ng-click=\"toggleSelectionFromGroup(selection, profile);$event.stopPropagation();\">\n              </div>\n              <div class=\"ellipsis\">\n                {{profile.id}}\n              </div>\n            </accordion-heading>\n            <div ng-if=\"profileView.openOrSingle\" ng-include=\"\'plugins/profiles/html/profileSummary.html\'\" onload=\"loadSummary(profile)\"></div>\n          </accordion-group>\n        </accordion>\n      </div>\n\n      <div class=\"col-md-4\">\n        <div class=\"panel panel-default\">\n          <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i class=\"fa fa-cart-arrow-down\"></i> Selection</h3>\n          </div>\n          <div class=\"panel-body\">\n            <div ng-hide=\"selection.length > 0\">\n              <em class=\"text-muted\">Select profiles...</em>\n            </div>\n            <ul class=\"plain-list\">\n              <li class=\"inline-block\" style=\"max-width: 100%\" ng-repeat=\"profile in selection\">\n                <span type=\"button\" style=\"max-width: 100%\" class=\"btn btn-default btn-xs ellipsis\">\n                  <span type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"toggleSelectionFromGroup(selection, profile)\"><span aria-hidden=\"true\">&times;</span>\n                  </span>\n                  <img ng-if=\"profile.iconUrl\" width=\"16px\" height=\"16px\"\n                       class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                       src=\"img/loader.svg\"\n                       http-src=\"{{gitRestUrl(profile.iconUrl)}}\" media-type=\"image/svg+xml\" />\n                  <img ng-if=\"!profile.iconUrl\" width=\"16px\" height=\"16px\"\n                       class=\"profile-logo\" style=\"max-width: 16px; max-height: 16px\"\n                       src=\"img/fabric8_icon.svg\" />\n                  <span>\n                    {{profile.id}}\n                  </span>\n                </span>\n                <small><i ng-if=\"!$last\" class=\"fa fa-plus text-muted\"></i></small>\n                <span ng-if=\"$last\" type=\"button\" class=\"glyphicon glyphicon-trash text-muted\" ng-click=\"selection.length = 0\" aria-hidden=\"true\"></span>\n              </li>\n            </ul>\n            <div class=\"pull-right\">\n              <button class=\"btn btn-link\"\n                      type=\"button\"\n                      ng-disabled=\"!selection.length\"\n                      ng-click=\"deployProfiles()\"\n                      title=\"Deploy the selected profile(s) into new container(s)\">\n                Deploy <i class=\"fa fa-cubes\"></i>\n              </button>\n              <button class=\"btn btn-link\"\n                      type=\"button\"\n                      ng-disabled=\"!selection.length\"\n                      ng-click=\"assignProfiles()\"\n                      title=\"Assign the selected profile(s) to existing container(s)\">\n                Assign <i class=\"fa fa-magic\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"panel panel-default\">\n          <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i class=\"fa fa-tags\"></i> Tags</h3>\n          </div>\n          <div class=\"panel-body\">\n            <hawtio-tag-filter class=\"tag-filter\"\n                               tags=\"tags\"\n                               selected=\"selectedTags\"\n                               collection=\"profiles\"\n                               collection-property=\"tags\">\n            </hawtio-tag-filter>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("plugins/profiles/html/settings.html","<div ng-controller=\"Profiles.SettingsController\">\n\n  <div class=\"row\">\n    <div template-cache-include=\"plugins/kubernetes/html/tabs.html\"></div>\n  </div>\n\n  <button class=\"btn btn-primary pull-right\" ng-disabled=\"loading != 0\" ng-click=\"refresh()\">\n    <i class=\"fa fa-refresh\" ng-class=\"{\'fa-spin\': loading != 0}\"></i> Refresh\n  </button>\n\n  <h2>Settings <i ng-hide=\"loading == 0\" class=\"fa fa-refresh fa-spin\"></i></h2>\n\n  <div>\n    Settings for building containers from Fabric8 profiles repository\n  </div>\n\n  <div class=\"row\">\n    <button class=\"btn btn-primary pull-right\"\n            title=\"Saves changes to profiles settings\"\n            ng-disabled=\"loading != 0\"\n            ng-click=\"save()\">\n        Save Changes\n    </button>\n  </div>\n\n  <div hawtio-form-2=\"config\" entity=\"properties\"></div>\n\n</div>");}]); hawtioPluginLoader.addModule("hawtio-profiles-templates");