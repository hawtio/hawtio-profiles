<div ng-controller="Profiles.DeployProfilesController">

  <div class="row">
    <div template-cache-include="plugins/kubernetes/html/tabs.html"></div>
  </div>

  <h2>Deploy profiles into a new container</h2>

  <div class="row">
    <div ng-show="profiles.length > 0">
      <ul class="plain-list">
        Deploy the
        <li class="inline-block" ng-repeat="profile in profiles">
          <button type="button" class="btn btn-success btn-xs"
                  ng-click="toggleSelectionFromGroup(profiles, profile)">
            {{profile.id}} <i class="glyphicon glyphicon-remove" aria-hidden="true"></i>
          </button><span ng-if="$index < profiles.length - 2">,&nbsp;</span><span ng-if="$index === profiles.length - 2"> and&nbsp;</span>
        </li>
        <ng-pluralize count="profiles.length" when="{'one': 'profile', 'other': 'profiles'}"></ng-pluralize> into the container:
        <input type="text" class="form-control" ng-model="containerName" placeholder="container name">
      </ul>
    </div>
    <div ng-hide="profiles.length > 0" class="text-muted">
      No profiles selected. Please go to the profiles tab and select some profiles.
    </div>
    <div class="pull-right">
      <button class="btn btn-primary" ng-disabled="profiles.length == 0 || containerName.length == 0 || loading() || saving()" ng-click="deployProfiles()"><i class="fa fa-cloud-upload"></i> Deploy</button>
    </div>
  </div>

  <h2>Containers <i ng-show="loading()" class="fa fa-spinner fa-spin"></i> <span class="badge" ng-show="containers.length > 0">{{containers.length}}</span></h2>

  <div class="row" block-ui="blockTable">
    <div ng-include="'plugins/profiles/html/containerList.html'"></div>
  </div>

</div>
